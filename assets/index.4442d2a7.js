var mh=Object.defineProperty,hh=Object.defineProperties;var fh=Object.getOwnPropertyDescriptors;var pi=Object.getOwnPropertySymbols;var Lc=Object.prototype.hasOwnProperty,Fc=Object.prototype.propertyIsEnumerable;var Rc=(t,r,o)=>r in t?mh(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,y=(t,r)=>{for(var o in r||(r={}))Lc.call(r,o)&&Rc(t,o,r[o]);if(pi)for(var o of pi(r))Fc.call(r,o)&&Rc(t,o,r[o]);return t},lr=(t,r)=>hh(t,fh(r));var gi=(t,r)=>{var o={};for(var e in t)Lc.call(t,e)&&r.indexOf(e)<0&&(o[e]=t[e]);if(t!=null&&pi)for(var e of pi(t))r.indexOf(e)<0&&Fc.call(t,e)&&(o[e]=t[e]);return o};const vh=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))e(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function o(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerpolicy&&(i.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?i.credentials="include":a.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function e(a){if(a.ep)return;a.ep=!0;const i=o(a);fetch(a.href,i)}};vh();function As(t,r){const o=Object.create(null),e=t.split(",");for(let a=0;a<e.length;a++)o[e[a]]=!0;return r?a=>!!o[a.toLowerCase()]:a=>!!o[a]}const bh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",xh=As(bh);function tg(t){return!!t||t===""}function en(t){if(ir(t)){const r={};for(let o=0;o<t.length;o++){const e=t[o],a=Br(e)?kh(e):en(e);if(a)for(const i in a)r[i]=a[i]}return r}else{if(Br(t))return t;if(Pr(t))return t}}const yh=/;(?![^(]*\))/g,wh=/:(.+)/;function kh(t){const r={};return t.split(yh).forEach(o=>{if(o){const e=o.split(wh);e.length>1&&(r[e[0].trim()]=e[1].trim())}}),r}function er(t){let r="";if(Br(t))r=t;else if(ir(t))for(let o=0;o<t.length;o++){const e=er(t[o]);e&&(r+=e+" ")}else if(Pr(t))for(const o in t)t[o]&&(r+=o+" ");return r.trim()}const So=t=>Br(t)?t:t==null?"":ir(t)||Pr(t)&&(t.toString===ig||!pr(t.toString))?JSON.stringify(t,og,2):String(t),og=(t,r)=>r&&r.__v_isRef?og(t,r.value):He(r)?{[`Map(${r.size})`]:[...r.entries()].reduce((o,[e,a])=>(o[`${e} =>`]=a,o),{})}:eg(r)?{[`Set(${r.size})`]:[...r.values()]}:Pr(r)&&!ir(r)&&!ng(r)?String(r):r,Mr={},Ve=[],Jt=()=>{},_h=()=>!1,zh=/^on[^a-z]/,an=t=>zh.test(t),Ns=t=>t.startsWith("onUpdate:"),Yr=Object.assign,Ds=(t,r)=>{const o=t.indexOf(r);o>-1&&t.splice(o,1)},Sh=Object.prototype.hasOwnProperty,wr=(t,r)=>Sh.call(t,r),ir=Array.isArray,He=t=>nn(t)==="[object Map]",eg=t=>nn(t)==="[object Set]",pr=t=>typeof t=="function",Br=t=>typeof t=="string",Bs=t=>typeof t=="symbol",Pr=t=>t!==null&&typeof t=="object",ag=t=>Pr(t)&&pr(t.then)&&pr(t.catch),ig=Object.prototype.toString,nn=t=>ig.call(t),$h=t=>nn(t).slice(8,-1),ng=t=>nn(t)==="[object Object]",Ps=t=>Br(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Si=As(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ln=t=>{const r=Object.create(null);return o=>r[o]||(r[o]=t(o))},Ch=/-(\w)/g,go=ln(t=>t.replace(Ch,(r,o)=>o?o.toUpperCase():"")),Oh=/\B([A-Z])/g,Oe=ln(t=>t.replace(Oh,"-$1").toLowerCase()),sn=ln(t=>t.charAt(0).toUpperCase()+t.slice(1)),Nn=ln(t=>t?`on${sn(t)}`:""),Va=(t,r)=>!Object.is(t,r),Dn=(t,r)=>{for(let o=0;o<t.length;o++)t[o](r)},Ni=(t,r,o)=>{Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value:o})},lg=t=>{const r=parseFloat(t);return isNaN(r)?t:r};let jc;const Mh=()=>jc||(jc=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let ro;class Th{constructor(r=!1){this.active=!0,this.effects=[],this.cleanups=[],!r&&ro&&(this.parent=ro,this.index=(ro.scopes||(ro.scopes=[])).push(this)-1)}run(r){if(this.active){const o=ro;try{return ro=this,r()}finally{ro=o}}}on(){ro=this}off(){ro=this.parent}stop(r){if(this.active){let o,e;for(o=0,e=this.effects.length;o<e;o++)this.effects[o].stop();for(o=0,e=this.cleanups.length;o<e;o++)this.cleanups[o]();if(this.scopes)for(o=0,e=this.scopes.length;o<e;o++)this.scopes[o].stop(!0);if(this.parent&&!r){const a=this.parent.scopes.pop();a&&a!==this&&(this.parent.scopes[this.index]=a,a.index=this.index)}this.active=!1}}}function Eh(t,r=ro){r&&r.active&&r.effects.push(t)}const Rs=t=>{const r=new Set(t);return r.w=0,r.n=0,r},sg=t=>(t.w&Uo)>0,cg=t=>(t.n&Uo)>0,Ih=({deps:t})=>{if(t.length)for(let r=0;r<t.length;r++)t[r].w|=Uo},Ah=t=>{const{deps:r}=t;if(r.length){let o=0;for(let e=0;e<r.length;e++){const a=r[e];sg(a)&&!cg(a)?a.delete(t):r[o++]=a,a.w&=~Uo,a.n&=~Uo}r.length=o}},Kl=new WeakMap;let ka=0,Uo=1;const ql=30;let Ht;const fe=Symbol(""),Ul=Symbol("");class Ls{constructor(r,o=null,e){this.fn=r,this.scheduler=o,this.active=!0,this.deps=[],this.parent=void 0,Eh(this,e)}run(){if(!this.active)return this.fn();let r=Ht,o=Vo;for(;r;){if(r===this)return;r=r.parent}try{return this.parent=Ht,Ht=this,Vo=!0,Uo=1<<++ka,ka<=ql?Ih(this):Vc(this),this.fn()}finally{ka<=ql&&Ah(this),Uo=1<<--ka,Ht=this.parent,Vo=o,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ht===this?this.deferStop=!0:this.active&&(Vc(this),this.onStop&&this.onStop(),this.active=!1)}}function Vc(t){const{deps:r}=t;if(r.length){for(let o=0;o<r.length;o++)r[o].delete(t);r.length=0}}let Vo=!0;const dg=[];function la(){dg.push(Vo),Vo=!1}function sa(){const t=dg.pop();Vo=t===void 0?!0:t}function Tt(t,r,o){if(Vo&&Ht){let e=Kl.get(t);e||Kl.set(t,e=new Map);let a=e.get(o);a||e.set(o,a=Rs()),pg(a)}}function pg(t,r){let o=!1;ka<=ql?cg(t)||(t.n|=Uo,o=!sg(t)):o=!t.has(Ht),o&&(t.add(Ht),Ht.deps.push(t))}function $o(t,r,o,e,a,i){const n=Kl.get(t);if(!n)return;let l=[];if(r==="clear")l=[...n.values()];else if(o==="length"&&ir(t))n.forEach((s,c)=>{(c==="length"||c>=e)&&l.push(s)});else switch(o!==void 0&&l.push(n.get(o)),r){case"add":ir(t)?Ps(o)&&l.push(n.get("length")):(l.push(n.get(fe)),He(t)&&l.push(n.get(Ul)));break;case"delete":ir(t)||(l.push(n.get(fe)),He(t)&&l.push(n.get(Ul)));break;case"set":He(t)&&l.push(n.get(fe));break}if(l.length===1)l[0]&&Jl(l[0]);else{const s=[];for(const c of l)c&&s.push(...c);Jl(Rs(s))}}function Jl(t,r){const o=ir(t)?t:[...t];for(const e of o)e.computed&&Hc(e);for(const e of o)e.computed||Hc(e)}function Hc(t,r){(t!==Ht||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const Nh=As("__proto__,__v_isRef,__isVue"),gg=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Bs)),Dh=Fs(),Bh=Fs(!1,!0),Ph=Fs(!0),Wc=Rh();function Rh(){const t={};return["includes","indexOf","lastIndexOf"].forEach(r=>{t[r]=function(...o){const e=_r(this);for(let i=0,n=this.length;i<n;i++)Tt(e,"get",i+"");const a=e[r](...o);return a===-1||a===!1?e[r](...o.map(_r)):a}}),["push","pop","shift","unshift","splice"].forEach(r=>{t[r]=function(...o){la();const e=_r(this)[r].apply(this,o);return sa(),e}}),t}function Fs(t=!1,r=!1){return function(e,a,i){if(a==="__v_isReactive")return!t;if(a==="__v_isReadonly")return t;if(a==="__v_isShallow")return r;if(a==="__v_raw"&&i===(t?r?rf:vg:r?fg:hg).get(e))return e;const n=ir(e);if(!t&&n&&wr(Wc,a))return Reflect.get(Wc,a,i);const l=Reflect.get(e,a,i);return(Bs(a)?gg.has(a):Nh(a))||(t||Tt(e,"get",a),r)?l:et(l)?n&&Ps(a)?l:l.value:Pr(l)?t?bg(l):ti(l):l}}const Lh=ug(),Fh=ug(!0);function ug(t=!1){return function(o,e,a,i){let n=o[e];if(Ha(n)&&et(n)&&!et(a))return!1;if(!t&&!Ha(a)&&(Gl(a)||(a=_r(a),n=_r(n)),!ir(o)&&et(n)&&!et(a)))return n.value=a,!0;const l=ir(o)&&Ps(e)?Number(e)<o.length:wr(o,e),s=Reflect.set(o,e,a,i);return o===_r(i)&&(l?Va(a,n)&&$o(o,"set",e,a):$o(o,"add",e,a)),s}}function jh(t,r){const o=wr(t,r);t[r];const e=Reflect.deleteProperty(t,r);return e&&o&&$o(t,"delete",r,void 0),e}function Vh(t,r){const o=Reflect.has(t,r);return(!Bs(r)||!gg.has(r))&&Tt(t,"has",r),o}function Hh(t){return Tt(t,"iterate",ir(t)?"length":fe),Reflect.ownKeys(t)}const mg={get:Dh,set:Lh,deleteProperty:jh,has:Vh,ownKeys:Hh},Wh={get:Ph,set(t,r){return!0},deleteProperty(t,r){return!0}},Kh=Yr({},mg,{get:Bh,set:Fh}),js=t=>t,cn=t=>Reflect.getPrototypeOf(t);function ui(t,r,o=!1,e=!1){t=t.__v_raw;const a=_r(t),i=_r(r);o||(r!==i&&Tt(a,"get",r),Tt(a,"get",i));const{has:n}=cn(a),l=e?js:o?Ks:Wa;if(n.call(a,r))return l(t.get(r));if(n.call(a,i))return l(t.get(i));t!==a&&t.get(r)}function mi(t,r=!1){const o=this.__v_raw,e=_r(o),a=_r(t);return r||(t!==a&&Tt(e,"has",t),Tt(e,"has",a)),t===a?o.has(t):o.has(t)||o.has(a)}function hi(t,r=!1){return t=t.__v_raw,!r&&Tt(_r(t),"iterate",fe),Reflect.get(t,"size",t)}function Kc(t){t=_r(t);const r=_r(this);return cn(r).has.call(r,t)||(r.add(t),$o(r,"add",t,t)),this}function qc(t,r){r=_r(r);const o=_r(this),{has:e,get:a}=cn(o);let i=e.call(o,t);i||(t=_r(t),i=e.call(o,t));const n=a.call(o,t);return o.set(t,r),i?Va(r,n)&&$o(o,"set",t,r):$o(o,"add",t,r),this}function Uc(t){const r=_r(this),{has:o,get:e}=cn(r);let a=o.call(r,t);a||(t=_r(t),a=o.call(r,t)),e&&e.call(r,t);const i=r.delete(t);return a&&$o(r,"delete",t,void 0),i}function Jc(){const t=_r(this),r=t.size!==0,o=t.clear();return r&&$o(t,"clear",void 0,void 0),o}function fi(t,r){return function(e,a){const i=this,n=i.__v_raw,l=_r(n),s=r?js:t?Ks:Wa;return!t&&Tt(l,"iterate",fe),n.forEach((c,d)=>e.call(a,s(c),s(d),i))}}function vi(t,r,o){return function(...e){const a=this.__v_raw,i=_r(a),n=He(i),l=t==="entries"||t===Symbol.iterator&&n,s=t==="keys"&&n,c=a[t](...e),d=o?js:r?Ks:Wa;return!r&&Tt(i,"iterate",s?Ul:fe),{next(){const{value:p,done:g}=c.next();return g?{value:p,done:g}:{value:l?[d(p[0]),d(p[1])]:d(p),done:g}},[Symbol.iterator](){return this}}}}function Eo(t){return function(...r){return t==="delete"?!1:this}}function qh(){const t={get(i){return ui(this,i)},get size(){return hi(this)},has:mi,add:Kc,set:qc,delete:Uc,clear:Jc,forEach:fi(!1,!1)},r={get(i){return ui(this,i,!1,!0)},get size(){return hi(this)},has:mi,add:Kc,set:qc,delete:Uc,clear:Jc,forEach:fi(!1,!0)},o={get(i){return ui(this,i,!0)},get size(){return hi(this,!0)},has(i){return mi.call(this,i,!0)},add:Eo("add"),set:Eo("set"),delete:Eo("delete"),clear:Eo("clear"),forEach:fi(!0,!1)},e={get(i){return ui(this,i,!0,!0)},get size(){return hi(this,!0)},has(i){return mi.call(this,i,!0)},add:Eo("add"),set:Eo("set"),delete:Eo("delete"),clear:Eo("clear"),forEach:fi(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=vi(i,!1,!1),o[i]=vi(i,!0,!1),r[i]=vi(i,!1,!0),e[i]=vi(i,!0,!0)}),[t,o,r,e]}const[Uh,Jh,Gh,Zh]=qh();function Vs(t,r){const o=r?t?Zh:Gh:t?Jh:Uh;return(e,a,i)=>a==="__v_isReactive"?!t:a==="__v_isReadonly"?t:a==="__v_raw"?e:Reflect.get(wr(o,a)&&a in e?o:e,a,i)}const Yh={get:Vs(!1,!1)},Xh={get:Vs(!1,!0)},Qh={get:Vs(!0,!1)},hg=new WeakMap,fg=new WeakMap,vg=new WeakMap,rf=new WeakMap;function tf(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function of(t){return t.__v_skip||!Object.isExtensible(t)?0:tf($h(t))}function ti(t){return Ha(t)?t:Hs(t,!1,mg,Yh,hg)}function ef(t){return Hs(t,!1,Kh,Xh,fg)}function bg(t){return Hs(t,!0,Wh,Qh,vg)}function Hs(t,r,o,e,a){if(!Pr(t)||t.__v_raw&&!(r&&t.__v_isReactive))return t;const i=a.get(t);if(i)return i;const n=of(t);if(n===0)return t;const l=new Proxy(t,n===2?e:o);return a.set(t,l),l}function We(t){return Ha(t)?We(t.__v_raw):!!(t&&t.__v_isReactive)}function Ha(t){return!!(t&&t.__v_isReadonly)}function Gl(t){return!!(t&&t.__v_isShallow)}function xg(t){return We(t)||Ha(t)}function _r(t){const r=t&&t.__v_raw;return r?_r(r):t}function Ws(t){return Ni(t,"__v_skip",!0),t}const Wa=t=>Pr(t)?ti(t):t,Ks=t=>Pr(t)?bg(t):t;function qs(t){Vo&&Ht&&(t=_r(t),pg(t.dep||(t.dep=Rs())))}function Us(t,r){t=_r(t),t.dep&&Jl(t.dep)}function et(t){return!!(t&&t.__v_isRef===!0)}function ca(t){return yg(t,!1)}function af(t){return yg(t,!0)}function yg(t,r){return et(t)?t:new nf(t,r)}class nf{constructor(r,o){this.__v_isShallow=o,this.dep=void 0,this.__v_isRef=!0,this._rawValue=o?r:_r(r),this._value=o?r:Wa(r)}get value(){return qs(this),this._value}set value(r){r=this.__v_isShallow?r:_r(r),Va(r,this._rawValue)&&(this._rawValue=r,this._value=this.__v_isShallow?r:Wa(r),Us(this))}}function Je(t){return et(t)?t.value:t}const lf={get:(t,r,o)=>Je(Reflect.get(t,r,o)),set:(t,r,o,e)=>{const a=t[r];return et(a)&&!et(o)?(a.value=o,!0):Reflect.set(t,r,o,e)}};function wg(t){return We(t)?t:new Proxy(t,lf)}class sf{constructor(r){this.dep=void 0,this.__v_isRef=!0;const{get:o,set:e}=r(()=>qs(this),()=>Us(this));this._get=o,this._set=e}get value(){return this._get()}set value(r){this._set(r)}}function cf(t){return new sf(t)}class df{constructor(r,o,e,a){this._setter=o,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new Ls(r,()=>{this._dirty||(this._dirty=!0,Us(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!a,this.__v_isReadonly=e}get value(){const r=_r(this);return qs(r),(r._dirty||!r._cacheable)&&(r._dirty=!1,r._value=r.effect.run()),r._value}set value(r){this._setter(r)}}function pf(t,r,o=!1){let e,a;const i=pr(t);return i?(e=t,a=Jt):(e=t.get,a=t.set),new df(e,a,i||!a,o)}function Ho(t,r,o,e){let a;try{a=e?t(...e):t()}catch(i){dn(i,r,o)}return a}function Bt(t,r,o,e){if(pr(t)){const i=Ho(t,r,o,e);return i&&ag(i)&&i.catch(n=>{dn(n,r,o)}),i}const a=[];for(let i=0;i<t.length;i++)a.push(Bt(t[i],r,o,e));return a}function dn(t,r,o,e=!0){const a=r?r.vnode:null;if(r){let i=r.parent;const n=r.proxy,l=o;for(;i;){const c=i.ec;if(c){for(let d=0;d<c.length;d++)if(c[d](t,n,l)===!1)return}i=i.parent}const s=r.appContext.config.errorHandler;if(s){Ho(s,null,10,[t,n,l]);return}}gf(t,o,a,e)}function gf(t,r,o,e=!0){console.error(t)}let Di=!1,Zl=!1;const $t=[];let ko=0;const Oa=[];let _a=null,Ae=0;const Ma=[];let Do=null,Ne=0;const kg=Promise.resolve();let Js=null,Yl=null;function _g(t){const r=Js||kg;return t?r.then(this?t.bind(this):t):r}function uf(t){let r=ko+1,o=$t.length;for(;r<o;){const e=r+o>>>1;Ka($t[e])<t?r=e+1:o=e}return r}function zg(t){(!$t.length||!$t.includes(t,Di&&t.allowRecurse?ko+1:ko))&&t!==Yl&&(t.id==null?$t.push(t):$t.splice(uf(t.id),0,t),Sg())}function Sg(){!Di&&!Zl&&(Zl=!0,Js=kg.then(Og))}function mf(t){const r=$t.indexOf(t);r>ko&&$t.splice(r,1)}function $g(t,r,o,e){ir(t)?o.push(...t):(!r||!r.includes(t,t.allowRecurse?e+1:e))&&o.push(t),Sg()}function hf(t){$g(t,_a,Oa,Ae)}function ff(t){$g(t,Do,Ma,Ne)}function pn(t,r=null){if(Oa.length){for(Yl=r,_a=[...new Set(Oa)],Oa.length=0,Ae=0;Ae<_a.length;Ae++)_a[Ae]();_a=null,Ae=0,Yl=null,pn(t,r)}}function Cg(t){if(pn(),Ma.length){const r=[...new Set(Ma)];if(Ma.length=0,Do){Do.push(...r);return}for(Do=r,Do.sort((o,e)=>Ka(o)-Ka(e)),Ne=0;Ne<Do.length;Ne++)Do[Ne]();Do=null,Ne=0}}const Ka=t=>t.id==null?1/0:t.id;function Og(t){Zl=!1,Di=!0,pn(t),$t.sort((o,e)=>Ka(o)-Ka(e));const r=Jt;try{for(ko=0;ko<$t.length;ko++){const o=$t[ko];o&&o.active!==!1&&Ho(o,null,14)}}finally{ko=0,$t.length=0,Cg(),Di=!1,Js=null,($t.length||Oa.length||Ma.length)&&Og(t)}}function vf(t,r,...o){if(t.isUnmounted)return;const e=t.vnode.props||Mr;let a=o;const i=r.startsWith("update:"),n=i&&r.slice(7);if(n&&n in e){const d=`${n==="modelValue"?"model":n}Modifiers`,{number:p,trim:g}=e[d]||Mr;g&&(a=o.map(u=>u.trim())),p&&(a=o.map(lg))}let l,s=e[l=Nn(r)]||e[l=Nn(go(r))];!s&&i&&(s=e[l=Nn(Oe(r))]),s&&Bt(s,t,6,a);const c=e[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Bt(c,t,6,a)}}function Mg(t,r,o=!1){const e=r.emitsCache,a=e.get(t);if(a!==void 0)return a;const i=t.emits;let n={},l=!1;if(!pr(t)){const s=c=>{const d=Mg(c,r,!0);d&&(l=!0,Yr(n,d))};!o&&r.mixins.length&&r.mixins.forEach(s),t.extends&&s(t.extends),t.mixins&&t.mixins.forEach(s)}return!i&&!l?(e.set(t,null),null):(ir(i)?i.forEach(s=>n[s]=null):Yr(n,i),e.set(t,n),n)}function gn(t,r){return!t||!an(r)?!1:(r=r.slice(2).replace(/Once$/,""),wr(t,r[0].toLowerCase()+r.slice(1))||wr(t,Oe(r))||wr(t,r))}let at=null,Tg=null;function Bi(t){const r=at;return at=t,Tg=t&&t.type.__scopeId||null,r}function br(t,r=at,o){if(!r||t._n)return t;const e=(...a)=>{e._d&&nd(-1);const i=Bi(r),n=t(...a);return Bi(i),e._d&&nd(1),n};return e._n=!0,e._c=!0,e._d=!0,e}function Bn(t){const{type:r,vnode:o,proxy:e,withProxy:a,props:i,propsOptions:[n],slots:l,attrs:s,emit:c,render:d,renderCache:p,data:g,setupState:u,ctx:m,inheritAttrs:h}=t;let b,w;const T=Bi(t);try{if(o.shapeFlag&4){const v=a||e;b=oo(d.call(v,v,p,i,u,g,m)),w=s}else{const v=r;b=oo(v.length>1?v(i,{attrs:s,slots:l,emit:c}):v(i,null)),w=r.props?s:bf(s)}}catch(v){Aa.length=0,dn(v,t,1),b=hr(Pt)}let F=b;if(w&&h!==!1){const v=Object.keys(w),{shapeFlag:j}=F;v.length&&j&7&&(n&&v.some(Ns)&&(w=xf(w,n)),F=Jo(F,w))}return o.dirs&&(F=Jo(F),F.dirs=F.dirs?F.dirs.concat(o.dirs):o.dirs),o.transition&&(F.transition=o.transition),b=F,Bi(T),b}const bf=t=>{let r;for(const o in t)(o==="class"||o==="style"||an(o))&&((r||(r={}))[o]=t[o]);return r},xf=(t,r)=>{const o={};for(const e in t)(!Ns(e)||!(e.slice(9)in r))&&(o[e]=t[e]);return o};function yf(t,r,o){const{props:e,children:a,component:i}=t,{props:n,children:l,patchFlag:s}=r,c=i.emitsOptions;if(r.dirs||r.transition)return!0;if(o&&s>=0){if(s&1024)return!0;if(s&16)return e?Gc(e,n,c):!!n;if(s&8){const d=r.dynamicProps;for(let p=0;p<d.length;p++){const g=d[p];if(n[g]!==e[g]&&!gn(c,g))return!0}}}else return(a||l)&&(!l||!l.$stable)?!0:e===n?!1:e?n?Gc(e,n,c):!0:!!n;return!1}function Gc(t,r,o){const e=Object.keys(r);if(e.length!==Object.keys(t).length)return!0;for(let a=0;a<e.length;a++){const i=e[a];if(r[i]!==t[i]&&!gn(o,i))return!0}return!1}function wf({vnode:t,parent:r},o){for(;r&&r.subTree===t;)(t=r.vnode).el=o,r=r.parent}const kf=t=>t.__isSuspense;function _f(t,r){r&&r.pendingBranch?ir(t)?r.effects.push(...t):r.effects.push(t):ff(t)}function zf(t,r){if(Fr){let o=Fr.provides;const e=Fr.parent&&Fr.parent.provides;e===o&&(o=Fr.provides=Object.create(e)),o[t]=r}}function Ta(t,r,o=!1){const e=Fr||at;if(e){const a=e.parent==null?e.vnode.appContext&&e.vnode.appContext.provides:e.parent.provides;if(a&&t in a)return a[t];if(arguments.length>1)return o&&pr(r)?r.call(e.proxy):r}}function Sf(t,r){return Gs(t,null,r)}const Zc={};function $i(t,r,o){return Gs(t,r,o)}function Gs(t,r,{immediate:o,deep:e,flush:a,onTrack:i,onTrigger:n}=Mr){const l=Fr;let s,c=!1,d=!1;if(et(t)?(s=()=>t.value,c=Gl(t)):We(t)?(s=()=>t,e=!0):ir(t)?(d=!0,c=t.some(w=>We(w)||Gl(w)),s=()=>t.map(w=>{if(et(w))return w.value;if(We(w))return ue(w);if(pr(w))return Ho(w,l,2)})):pr(t)?r?s=()=>Ho(t,l,2):s=()=>{if(!(l&&l.isUnmounted))return p&&p(),Bt(t,l,3,[g])}:s=Jt,r&&e){const w=s;s=()=>ue(w())}let p,g=w=>{p=b.onStop=()=>{Ho(w,l,4)}};if(Ua)return g=Jt,r?o&&Bt(r,l,3,[s(),d?[]:void 0,g]):s(),Jt;let u=d?[]:Zc;const m=()=>{if(!!b.active)if(r){const w=b.run();(e||c||(d?w.some((T,F)=>Va(T,u[F])):Va(w,u)))&&(p&&p(),Bt(r,l,3,[w,u===Zc?void 0:u,g]),u=w)}else b.run()};m.allowRecurse=!!r;let h;a==="sync"?h=m:a==="post"?h=()=>ft(m,l&&l.suspense):h=()=>hf(m);const b=new Ls(s,h);return r?o?m():u=b.run():a==="post"?ft(b.run.bind(b),l&&l.suspense):b.run(),()=>{b.stop(),l&&l.scope&&Ds(l.scope.effects,b)}}function $f(t,r,o){const e=this.proxy,a=Br(t)?t.includes(".")?Eg(e,t):()=>e[t]:t.bind(e,e);let i;pr(r)?i=r:(i=r.handler,o=r);const n=Fr;Ge(this);const l=Gs(a,i.bind(e),o);return n?Ge(n):ve(),l}function Eg(t,r){const o=r.split(".");return()=>{let e=t;for(let a=0;a<o.length&&e;a++)e=e[o[a]];return e}}function ue(t,r){if(!Pr(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),et(t))ue(t.value,r);else if(ir(t))for(let o=0;o<t.length;o++)ue(t[o],r);else if(eg(t)||He(t))t.forEach(o=>{ue(o,r)});else if(ng(t))for(const o in t)ue(t[o],r);return t}function Cf(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return da(()=>{t.isMounted=!0}),pa(()=>{t.isUnmounting=!0}),t}const At=[Function,Array],Of={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:At,onEnter:At,onAfterEnter:At,onEnterCancelled:At,onBeforeLeave:At,onLeave:At,onAfterLeave:At,onLeaveCancelled:At,onBeforeAppear:At,onAppear:At,onAfterAppear:At,onAppearCancelled:At},setup(t,{slots:r}){const o=Gg(),e=Cf();let a;return()=>{const i=r.default&&Ng(r.default(),!0);if(!i||!i.length)return;let n=i[0];if(i.length>1){for(const h of i)if(h.type!==Pt){n=h;break}}const l=_r(t),{mode:s}=l;if(e.isLeaving)return Pn(n);const c=Yc(n);if(!c)return Pn(n);const d=Xl(c,l,e,o);Ql(c,d);const p=o.subTree,g=p&&Yc(p);let u=!1;const{getTransitionKey:m}=c.type;if(m){const h=m();a===void 0?a=h:h!==a&&(a=h,u=!0)}if(g&&g.type!==Pt&&(!de(c,g)||u)){const h=Xl(g,l,e,o);if(Ql(g,h),s==="out-in")return e.isLeaving=!0,h.afterLeave=()=>{e.isLeaving=!1,o.update()},Pn(n);s==="in-out"&&c.type!==Pt&&(h.delayLeave=(b,w,T)=>{const F=Ag(e,g);F[String(g.key)]=g,b._leaveCb=()=>{w(),b._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=T})}return n}}},Ig=Of;function Ag(t,r){const{leavingVNodes:o}=t;let e=o.get(r.type);return e||(e=Object.create(null),o.set(r.type,e)),e}function Xl(t,r,o,e){const{appear:a,mode:i,persisted:n=!1,onBeforeEnter:l,onEnter:s,onAfterEnter:c,onEnterCancelled:d,onBeforeLeave:p,onLeave:g,onAfterLeave:u,onLeaveCancelled:m,onBeforeAppear:h,onAppear:b,onAfterAppear:w,onAppearCancelled:T}=r,F=String(t.key),v=Ag(o,t),j=(O,G)=>{O&&Bt(O,e,9,G)},B=(O,G)=>{const rr=G[1];j(O,G),ir(O)?O.every(sr=>sr.length<=1)&&rr():O.length<=1&&rr()},Y={mode:i,persisted:n,beforeEnter(O){let G=l;if(!o.isMounted)if(a)G=h||l;else return;O._leaveCb&&O._leaveCb(!0);const rr=v[F];rr&&de(t,rr)&&rr.el._leaveCb&&rr.el._leaveCb(),j(G,[O])},enter(O){let G=s,rr=c,sr=d;if(!o.isMounted)if(a)G=b||s,rr=w||c,sr=T||d;else return;let P=!1;const nr=O._enterCb=Er=>{P||(P=!0,Er?j(sr,[O]):j(rr,[O]),Y.delayedLeave&&Y.delayedLeave(),O._enterCb=void 0)};G?B(G,[O,nr]):nr()},leave(O,G){const rr=String(t.key);if(O._enterCb&&O._enterCb(!0),o.isUnmounting)return G();j(p,[O]);let sr=!1;const P=O._leaveCb=nr=>{sr||(sr=!0,G(),nr?j(m,[O]):j(u,[O]),O._leaveCb=void 0,v[rr]===t&&delete v[rr])};v[rr]=t,g?B(g,[O,P]):P()},clone(O){return Xl(O,r,o,e)}};return Y}function Pn(t){if(un(t))return t=Jo(t),t.children=null,t}function Yc(t){return un(t)?t.children?t.children[0]:void 0:t}function Ql(t,r){t.shapeFlag&6&&t.component?Ql(t.component.subTree,r):t.shapeFlag&128?(t.ssContent.transition=r.clone(t.ssContent),t.ssFallback.transition=r.clone(t.ssFallback)):t.transition=r}function Ng(t,r=!1,o){let e=[],a=0;for(let i=0;i<t.length;i++){let n=t[i];const l=o==null?n.key:String(o)+String(n.key!=null?n.key:i);n.type===Ar?(n.patchFlag&128&&a++,e=e.concat(Ng(n.children,r,l))):(r||n.type!==Pt)&&e.push(l!=null?Jo(n,{key:l}):n)}if(a>1)for(let i=0;i<e.length;i++)e[i].patchFlag=-2;return e}function L(t){return pr(t)?{setup:t,name:t.name}:t}const Ea=t=>!!t.type.__asyncLoader,un=t=>t.type.__isKeepAlive;function Mf(t,r){Dg(t,"a",r)}function Tf(t,r){Dg(t,"da",r)}function Dg(t,r,o=Fr){const e=t.__wdc||(t.__wdc=()=>{let a=o;for(;a;){if(a.isDeactivated)return;a=a.parent}return t()});if(mn(r,e,o),o){let a=o.parent;for(;a&&a.parent;)un(a.parent.vnode)&&Ef(e,r,o,a),a=a.parent}}function Ef(t,r,o,e){const a=mn(r,t,e,!0);Bg(()=>{Ds(e[r],a)},o)}function mn(t,r,o=Fr,e=!1){if(o){const a=o[t]||(o[t]=[]),i=r.__weh||(r.__weh=(...n)=>{if(o.isUnmounted)return;la(),Ge(o);const l=Bt(r,o,t,n);return ve(),sa(),l});return e?a.unshift(i):a.push(i),i}}const Oo=t=>(r,o=Fr)=>(!Ua||t==="sp")&&mn(t,r,o),If=Oo("bm"),da=Oo("m"),Af=Oo("bu"),Nf=Oo("u"),pa=Oo("bum"),Bg=Oo("um"),Df=Oo("sp"),Bf=Oo("rtg"),Pf=Oo("rtc");function Rf(t,r=Fr){mn("ec",t,r)}function Nr(t,r){const o=at;if(o===null)return t;const e=fn(o)||o.proxy,a=t.dirs||(t.dirs=[]);for(let i=0;i<r.length;i++){let[n,l,s,c=Mr]=r[i];pr(n)&&(n={mounted:n,updated:n}),n.deep&&ue(l),a.push({dir:n,instance:e,value:l,oldValue:void 0,arg:s,modifiers:c})}return t}function ae(t,r,o,e){const a=t.dirs,i=r&&r.dirs;for(let n=0;n<a.length;n++){const l=a[n];i&&(l.oldValue=i[n].value);let s=l.dir[e];s&&(la(),Bt(s,o,8,[t.el,l,t,r]),sa())}}const Zs="components",Lf="directives";function Rr(t,r){return Ys(Zs,t,!0,r)||t}const Pg=Symbol();function oi(t){return Br(t)?Ys(Zs,t,!1)||t:t||Pg}function ga(t){return Ys(Lf,t)}function Ys(t,r,o=!0,e=!1){const a=at||Fr;if(a){const i=a.type;if(t===Zs){const l=vv(i,!1);if(l&&(l===r||l===go(r)||l===sn(go(r))))return i}const n=Xc(a[t]||i[t],r)||Xc(a.appContext[t],r);return!n&&e?i:n}}function Xc(t,r){return t&&(t[r]||t[go(r)]||t[sn(go(r))])}function ei(t,r,o,e){let a;const i=o&&o[e];if(ir(t)||Br(t)){a=new Array(t.length);for(let n=0,l=t.length;n<l;n++)a[n]=r(t[n],n,void 0,i&&i[n])}else if(typeof t=="number"){a=new Array(t);for(let n=0;n<t;n++)a[n]=r(n+1,n,void 0,i&&i[n])}else if(Pr(t))if(t[Symbol.iterator])a=Array.from(t,(n,l)=>r(n,l,void 0,i&&i[l]));else{const n=Object.keys(t);a=new Array(n.length);for(let l=0,s=n.length;l<s;l++){const c=n[l];a[l]=r(t[c],c,l,i&&i[l])}}else a=[];return o&&(o[e]=a),a}function Ff(t,r){for(let o=0;o<r.length;o++){const e=r[o];if(ir(e))for(let a=0;a<e.length;a++)t[e[a].name]=e[a].fn;else e&&(t[e.name]=e.fn)}return t}function I(t,r,o={},e,a){if(at.isCE||at.parent&&Ea(at.parent)&&at.parent.isCE)return hr("slot",r==="default"?null:{name:r},e&&e());let i=t[r];i&&i._c&&(i._d=!1),_();const n=i&&Rg(i(o)),l=jr(Ar,{key:o.key||`_${r}`},n||(e?e():[]),n&&t._===1?64:-2);return!a&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Rg(t){return t.some(r=>Li(r)?!(r.type===Pt||r.type===Ar&&!Rg(r.children)):!0)?t:null}const rs=t=>t?Zg(t)?fn(t)||t.proxy:rs(t.parent):null,Pi=Yr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>rs(t.parent),$root:t=>rs(t.root),$emit:t=>t.emit,$options:t=>Fg(t),$forceUpdate:t=>t.f||(t.f=()=>zg(t.update)),$nextTick:t=>t.n||(t.n=_g.bind(t.proxy)),$watch:t=>$f.bind(t)}),jf={get({_:t},r){const{ctx:o,setupState:e,data:a,props:i,accessCache:n,type:l,appContext:s}=t;let c;if(r[0]!=="$"){const u=n[r];if(u!==void 0)switch(u){case 1:return e[r];case 2:return a[r];case 4:return o[r];case 3:return i[r]}else{if(e!==Mr&&wr(e,r))return n[r]=1,e[r];if(a!==Mr&&wr(a,r))return n[r]=2,a[r];if((c=t.propsOptions[0])&&wr(c,r))return n[r]=3,i[r];if(o!==Mr&&wr(o,r))return n[r]=4,o[r];ts&&(n[r]=0)}}const d=Pi[r];let p,g;if(d)return r==="$attrs"&&Tt(t,"get",r),d(t);if((p=l.__cssModules)&&(p=p[r]))return p;if(o!==Mr&&wr(o,r))return n[r]=4,o[r];if(g=s.config.globalProperties,wr(g,r))return g[r]},set({_:t},r,o){const{data:e,setupState:a,ctx:i}=t;return a!==Mr&&wr(a,r)?(a[r]=o,!0):e!==Mr&&wr(e,r)?(e[r]=o,!0):wr(t.props,r)||r[0]==="$"&&r.slice(1)in t?!1:(i[r]=o,!0)},has({_:{data:t,setupState:r,accessCache:o,ctx:e,appContext:a,propsOptions:i}},n){let l;return!!o[n]||t!==Mr&&wr(t,n)||r!==Mr&&wr(r,n)||(l=i[0])&&wr(l,n)||wr(e,n)||wr(Pi,n)||wr(a.config.globalProperties,n)},defineProperty(t,r,o){return o.get!=null?t._.accessCache[r]=0:wr(o,"value")&&this.set(t,r,o.value,null),Reflect.defineProperty(t,r,o)}};let ts=!0;function Vf(t){const r=Fg(t),o=t.proxy,e=t.ctx;ts=!1,r.beforeCreate&&Qc(r.beforeCreate,t,"bc");const{data:a,computed:i,methods:n,watch:l,provide:s,inject:c,created:d,beforeMount:p,mounted:g,beforeUpdate:u,updated:m,activated:h,deactivated:b,beforeDestroy:w,beforeUnmount:T,destroyed:F,unmounted:v,render:j,renderTracked:B,renderTriggered:Y,errorCaptured:O,serverPrefetch:G,expose:rr,inheritAttrs:sr,components:P,directives:nr,filters:Er}=r;if(c&&Hf(c,e,null,t.appContext.config.unwrapInjectedRef),n)for(const fr in n){const cr=n[fr];pr(cr)&&(e[fr]=cr.bind(o))}if(a){const fr=a.call(o,o);Pr(fr)&&(t.data=ti(fr))}if(ts=!0,i)for(const fr in i){const cr=i[fr],Dr=pr(cr)?cr.bind(o,o):pr(cr.get)?cr.get.bind(o,o):Jt,mt=!pr(cr)&&pr(cr.set)?cr.set.bind(o):Jt,kt=Oi({get:Dr,set:mt});Object.defineProperty(e,fr,{enumerable:!0,configurable:!0,get:()=>kt.value,set:Kr=>kt.value=Kr})}if(l)for(const fr in l)Lg(l[fr],e,o,fr);if(s){const fr=pr(s)?s.call(o):s;Reflect.ownKeys(fr).forEach(cr=>{zf(cr,fr[cr])})}d&&Qc(d,t,"c");function yr(fr,cr){ir(cr)?cr.forEach(Dr=>fr(Dr.bind(o))):cr&&fr(cr.bind(o))}if(yr(If,p),yr(da,g),yr(Af,u),yr(Nf,m),yr(Mf,h),yr(Tf,b),yr(Rf,O),yr(Pf,B),yr(Bf,Y),yr(pa,T),yr(Bg,v),yr(Df,G),ir(rr))if(rr.length){const fr=t.exposed||(t.exposed={});rr.forEach(cr=>{Object.defineProperty(fr,cr,{get:()=>o[cr],set:Dr=>o[cr]=Dr})})}else t.exposed||(t.exposed={});j&&t.render===Jt&&(t.render=j),sr!=null&&(t.inheritAttrs=sr),P&&(t.components=P),nr&&(t.directives=nr)}function Hf(t,r,o=Jt,e=!1){ir(t)&&(t=es(t));for(const a in t){const i=t[a];let n;Pr(i)?"default"in i?n=Ta(i.from||a,i.default,!0):n=Ta(i.from||a):n=Ta(i),et(n)&&e?Object.defineProperty(r,a,{enumerable:!0,configurable:!0,get:()=>n.value,set:l=>n.value=l}):r[a]=n}}function Qc(t,r,o){Bt(ir(t)?t.map(e=>e.bind(r.proxy)):t.bind(r.proxy),r,o)}function Lg(t,r,o,e){const a=e.includes(".")?Eg(o,e):()=>o[e];if(Br(t)){const i=r[t];pr(i)&&$i(a,i)}else if(pr(t))$i(a,t.bind(o));else if(Pr(t))if(ir(t))t.forEach(i=>Lg(i,r,o,e));else{const i=pr(t.handler)?t.handler.bind(o):r[t.handler];pr(i)&&$i(a,i,t)}}function Fg(t){const r=t.type,{mixins:o,extends:e}=r,{mixins:a,optionsCache:i,config:{optionMergeStrategies:n}}=t.appContext,l=i.get(r);let s;return l?s=l:!a.length&&!o&&!e?s=r:(s={},a.length&&a.forEach(c=>Ri(s,c,n,!0)),Ri(s,r,n)),i.set(r,s),s}function Ri(t,r,o,e=!1){const{mixins:a,extends:i}=r;i&&Ri(t,i,o,!0),a&&a.forEach(n=>Ri(t,n,o,!0));for(const n in r)if(!(e&&n==="expose")){const l=Wf[n]||o&&o[n];t[n]=l?l(t[n],r[n]):r[n]}return t}const Wf={data:rd,props:se,emits:se,methods:se,computed:se,beforeCreate:ct,created:ct,beforeMount:ct,mounted:ct,beforeUpdate:ct,updated:ct,beforeDestroy:ct,beforeUnmount:ct,destroyed:ct,unmounted:ct,activated:ct,deactivated:ct,errorCaptured:ct,serverPrefetch:ct,components:se,directives:se,watch:qf,provide:rd,inject:Kf};function rd(t,r){return r?t?function(){return Yr(pr(t)?t.call(this,this):t,pr(r)?r.call(this,this):r)}:r:t}function Kf(t,r){return se(es(t),es(r))}function es(t){if(ir(t)){const r={};for(let o=0;o<t.length;o++)r[t[o]]=t[o];return r}return t}function ct(t,r){return t?[...new Set([].concat(t,r))]:r}function se(t,r){return t?Yr(Yr(Object.create(null),t),r):r}function qf(t,r){if(!t)return r;if(!r)return t;const o=Yr(Object.create(null),t);for(const e in r)o[e]=ct(t[e],r[e]);return o}function Uf(t,r,o,e=!1){const a={},i={};Ni(i,hn,1),t.propsDefaults=Object.create(null),jg(t,r,a,i);for(const n in t.propsOptions[0])n in a||(a[n]=void 0);o?t.props=e?a:ef(a):t.type.props?t.props=a:t.props=i,t.attrs=i}function Jf(t,r,o,e){const{props:a,attrs:i,vnode:{patchFlag:n}}=t,l=_r(a),[s]=t.propsOptions;let c=!1;if((e||n>0)&&!(n&16)){if(n&8){const d=t.vnode.dynamicProps;for(let p=0;p<d.length;p++){let g=d[p];if(gn(t.emitsOptions,g))continue;const u=r[g];if(s)if(wr(i,g))u!==i[g]&&(i[g]=u,c=!0);else{const m=go(g);a[m]=as(s,l,m,u,t,!1)}else u!==i[g]&&(i[g]=u,c=!0)}}}else{jg(t,r,a,i)&&(c=!0);let d;for(const p in l)(!r||!wr(r,p)&&((d=Oe(p))===p||!wr(r,d)))&&(s?o&&(o[p]!==void 0||o[d]!==void 0)&&(a[p]=as(s,l,p,void 0,t,!0)):delete a[p]);if(i!==l)for(const p in i)(!r||!wr(r,p)&&!0)&&(delete i[p],c=!0)}c&&$o(t,"set","$attrs")}function jg(t,r,o,e){const[a,i]=t.propsOptions;let n=!1,l;if(r)for(let s in r){if(Si(s))continue;const c=r[s];let d;a&&wr(a,d=go(s))?!i||!i.includes(d)?o[d]=c:(l||(l={}))[d]=c:gn(t.emitsOptions,s)||(!(s in e)||c!==e[s])&&(e[s]=c,n=!0)}if(i){const s=_r(o),c=l||Mr;for(let d=0;d<i.length;d++){const p=i[d];o[p]=as(a,s,p,c[p],t,!wr(c,p))}}return n}function as(t,r,o,e,a,i){const n=t[o];if(n!=null){const l=wr(n,"default");if(l&&e===void 0){const s=n.default;if(n.type!==Function&&pr(s)){const{propsDefaults:c}=a;o in c?e=c[o]:(Ge(a),e=c[o]=s.call(null,r),ve())}else e=s}n[0]&&(i&&!l?e=!1:n[1]&&(e===""||e===Oe(o))&&(e=!0))}return e}function Vg(t,r,o=!1){const e=r.propsCache,a=e.get(t);if(a)return a;const i=t.props,n={},l=[];let s=!1;if(!pr(t)){const d=p=>{s=!0;const[g,u]=Vg(p,r,!0);Yr(n,g),u&&l.push(...u)};!o&&r.mixins.length&&r.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!i&&!s)return e.set(t,Ve),Ve;if(ir(i))for(let d=0;d<i.length;d++){const p=go(i[d]);td(p)&&(n[p]=Mr)}else if(i)for(const d in i){const p=go(d);if(td(p)){const g=i[d],u=n[p]=ir(g)||pr(g)?{type:g}:g;if(u){const m=ad(Boolean,u.type),h=ad(String,u.type);u[0]=m>-1,u[1]=h<0||m<h,(m>-1||wr(u,"default"))&&l.push(p)}}}const c=[n,l];return e.set(t,c),c}function td(t){return t[0]!=="$"}function od(t){const r=t&&t.toString().match(/^\s*function (\w+)/);return r?r[1]:t===null?"null":""}function ed(t,r){return od(t)===od(r)}function ad(t,r){return ir(r)?r.findIndex(o=>ed(o,t)):pr(r)&&ed(r,t)?0:-1}const Hg=t=>t[0]==="_"||t==="$stable",Xs=t=>ir(t)?t.map(oo):[oo(t)],Gf=(t,r,o)=>{if(r._n)return r;const e=br((...a)=>Xs(r(...a)),o);return e._c=!1,e},Wg=(t,r,o)=>{const e=t._ctx;for(const a in t){if(Hg(a))continue;const i=t[a];if(pr(i))r[a]=Gf(a,i,e);else if(i!=null){const n=Xs(i);r[a]=()=>n}}},Kg=(t,r)=>{const o=Xs(r);t.slots.default=()=>o},Zf=(t,r)=>{if(t.vnode.shapeFlag&32){const o=r._;o?(t.slots=_r(r),Ni(r,"_",o)):Wg(r,t.slots={})}else t.slots={},r&&Kg(t,r);Ni(t.slots,hn,1)},Yf=(t,r,o)=>{const{vnode:e,slots:a}=t;let i=!0,n=Mr;if(e.shapeFlag&32){const l=r._;l?o&&l===1?i=!1:(Yr(a,r),!o&&l===1&&delete a._):(i=!r.$stable,Wg(r,a)),n=r}else r&&(Kg(t,r),n={default:1});if(i)for(const l in a)!Hg(l)&&!(l in n)&&delete a[l]};function qg(){return{app:null,config:{isNativeTag:_h,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Xf=0;function Qf(t,r){return function(e,a=null){pr(e)||(e=Object.assign({},e)),a!=null&&!Pr(a)&&(a=null);const i=qg(),n=new Set;let l=!1;const s=i.app={_uid:Xf++,_component:e,_props:a,_container:null,_context:i,_instance:null,version:xv,get config(){return i.config},set config(c){},use(c,...d){return n.has(c)||(c&&pr(c.install)?(n.add(c),c.install(s,...d)):pr(c)&&(n.add(c),c(s,...d))),s},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),s},component(c,d){return d?(i.components[c]=d,s):i.components[c]},directive(c,d){return d?(i.directives[c]=d,s):i.directives[c]},mount(c,d,p){if(!l){const g=hr(e,a);return g.appContext=i,d&&r?r(g,c):t(g,c,p),l=!0,s._container=c,c.__vue_app__=s,fn(g.component)||g.component.proxy}},unmount(){l&&(t(null,s._container),delete s._container.__vue_app__)},provide(c,d){return i.provides[c]=d,s}};return s}}function is(t,r,o,e,a=!1){if(ir(t)){t.forEach((g,u)=>is(g,r&&(ir(r)?r[u]:r),o,e,a));return}if(Ea(e)&&!a)return;const i=e.shapeFlag&4?fn(e.component)||e.component.proxy:e.el,n=a?null:i,{i:l,r:s}=t,c=r&&r.r,d=l.refs===Mr?l.refs={}:l.refs,p=l.setupState;if(c!=null&&c!==s&&(Br(c)?(d[c]=null,wr(p,c)&&(p[c]=null)):et(c)&&(c.value=null)),pr(s))Ho(s,l,12,[n,d]);else{const g=Br(s),u=et(s);if(g||u){const m=()=>{if(t.f){const h=g?d[s]:s.value;a?ir(h)&&Ds(h,i):ir(h)?h.includes(i)||h.push(i):g?(d[s]=[i],wr(p,s)&&(p[s]=d[s])):(s.value=[i],t.k&&(d[t.k]=s.value))}else g?(d[s]=n,wr(p,s)&&(p[s]=n)):u&&(s.value=n,t.k&&(d[t.k]=n))};n?(m.id=-1,ft(m,o)):m()}}}const ft=_f;function rv(t){return tv(t)}function tv(t,r){const o=Mh();o.__VUE__=!0;const{insert:e,remove:a,patchProp:i,createElement:n,createText:l,createComment:s,setText:c,setElementText:d,parentNode:p,nextSibling:g,setScopeId:u=Jt,cloneNode:m,insertStaticContent:h}=t,b=(f,x,k,C=null,$=null,N=null,R=!1,E=null,D=!!x.dynamicChildren)=>{if(f===x)return;f&&!de(f,x)&&(C=ht(f),Xr(f,$,N,!0),f=null),x.patchFlag===-2&&(D=!1,x.dynamicChildren=null);const{type:M,ref:U,shapeFlag:V}=x;switch(M){case rc:w(f,x,k,C);break;case Pt:T(f,x,k,C);break;case Rn:f==null&&F(x,k,C,R);break;case Ar:nr(f,x,k,C,$,N,R,E,D);break;default:V&1?B(f,x,k,C,$,N,R,E,D):V&6?Er(f,x,k,C,$,N,R,E,D):(V&64||V&128)&&M.process(f,x,k,C,$,N,R,E,D,lt)}U!=null&&$&&is(U,f&&f.ref,N,x||f,!x)},w=(f,x,k,C)=>{if(f==null)e(x.el=l(x.children),k,C);else{const $=x.el=f.el;x.children!==f.children&&c($,x.children)}},T=(f,x,k,C)=>{f==null?e(x.el=s(x.children||""),k,C):x.el=f.el},F=(f,x,k,C)=>{[f.el,f.anchor]=h(f.children,x,k,C,f.el,f.anchor)},v=({el:f,anchor:x},k,C)=>{let $;for(;f&&f!==x;)$=g(f),e(f,k,C),f=$;e(x,k,C)},j=({el:f,anchor:x})=>{let k;for(;f&&f!==x;)k=g(f),a(f),f=k;a(x)},B=(f,x,k,C,$,N,R,E,D)=>{R=R||x.type==="svg",f==null?Y(x,k,C,$,N,R,E,D):rr(f,x,$,N,R,E,D)},Y=(f,x,k,C,$,N,R,E)=>{let D,M;const{type:U,props:V,shapeFlag:Q,transition:tr,patchFlag:vr,dirs:kr}=f;if(f.el&&m!==void 0&&vr===-1)D=f.el=m(f.el);else{if(D=f.el=n(f.type,N,V&&V.is,V),Q&8?d(D,f.children):Q&16&&G(f.children,D,null,C,$,N&&U!=="foreignObject",R,E),kr&&ae(f,null,C,"created"),V){for(const Or in V)Or!=="value"&&!Si(Or)&&i(D,Or,null,V[Or],N,f.children,C,$,Qr);"value"in V&&i(D,"value",null,V.value),(M=V.onVnodeBeforeMount)&&Qt(M,C,f)}O(D,f,f.scopeId,R,C)}kr&&ae(f,null,C,"beforeMount");const $r=(!$||$&&!$.pendingBranch)&&tr&&!tr.persisted;$r&&tr.beforeEnter(D),e(D,x,k),((M=V&&V.onVnodeMounted)||$r||kr)&&ft(()=>{M&&Qt(M,C,f),$r&&tr.enter(D),kr&&ae(f,null,C,"mounted")},$)},O=(f,x,k,C,$)=>{if(k&&u(f,k),C)for(let N=0;N<C.length;N++)u(f,C[N]);if($){let N=$.subTree;if(x===N){const R=$.vnode;O(f,R,R.scopeId,R.slotScopeIds,$.parent)}}},G=(f,x,k,C,$,N,R,E,D=0)=>{for(let M=D;M<f.length;M++){const U=f[M]=E?Po(f[M]):oo(f[M]);b(null,U,x,k,C,$,N,R,E)}},rr=(f,x,k,C,$,N,R)=>{const E=x.el=f.el;let{patchFlag:D,dynamicChildren:M,dirs:U}=x;D|=f.patchFlag&16;const V=f.props||Mr,Q=x.props||Mr;let tr;k&&ie(k,!1),(tr=Q.onVnodeBeforeUpdate)&&Qt(tr,k,x,f),U&&ae(x,f,k,"beforeUpdate"),k&&ie(k,!0);const vr=$&&x.type!=="foreignObject";if(M?sr(f.dynamicChildren,M,E,k,C,vr,N):R||Dr(f,x,E,null,k,C,vr,N,!1),D>0){if(D&16)P(E,x,V,Q,k,C,$);else if(D&2&&V.class!==Q.class&&i(E,"class",null,Q.class,$),D&4&&i(E,"style",V.style,Q.style,$),D&8){const kr=x.dynamicProps;for(let $r=0;$r<kr.length;$r++){const Or=kr[$r],zt=V[Or],To=Q[Or];(To!==zt||Or==="value")&&i(E,Or,zt,To,$,f.children,k,C,Qr)}}D&1&&f.children!==x.children&&d(E,x.children)}else!R&&M==null&&P(E,x,V,Q,k,C,$);((tr=Q.onVnodeUpdated)||U)&&ft(()=>{tr&&Qt(tr,k,x,f),U&&ae(x,f,k,"updated")},C)},sr=(f,x,k,C,$,N,R)=>{for(let E=0;E<x.length;E++){const D=f[E],M=x[E],U=D.el&&(D.type===Ar||!de(D,M)||D.shapeFlag&70)?p(D.el):k;b(D,M,U,null,C,$,N,R,!0)}},P=(f,x,k,C,$,N,R)=>{if(k!==C){for(const E in C){if(Si(E))continue;const D=C[E],M=k[E];D!==M&&E!=="value"&&i(f,E,M,D,R,x.children,$,N,Qr)}if(k!==Mr)for(const E in k)!Si(E)&&!(E in C)&&i(f,E,k[E],null,R,x.children,$,N,Qr);"value"in C&&i(f,"value",k.value,C.value)}},nr=(f,x,k,C,$,N,R,E,D)=>{const M=x.el=f?f.el:l(""),U=x.anchor=f?f.anchor:l("");let{patchFlag:V,dynamicChildren:Q,slotScopeIds:tr}=x;tr&&(E=E?E.concat(tr):tr),f==null?(e(M,k,C),e(U,k,C),G(x.children,k,U,$,N,R,E,D)):V>0&&V&64&&Q&&f.dynamicChildren?(sr(f.dynamicChildren,Q,k,$,N,R,E),(x.key!=null||$&&x===$.subTree)&&Qs(f,x,!0)):Dr(f,x,k,U,$,N,R,E,D)},Er=(f,x,k,C,$,N,R,E,D)=>{x.slotScopeIds=E,f==null?x.shapeFlag&512?$.ctx.activate(x,k,C,R,D):Lr(x,k,C,$,N,R,D):yr(f,x,D)},Lr=(f,x,k,C,$,N,R)=>{const E=f.component=gv(f,C,$);if(un(f)&&(E.ctx.renderer=lt),uv(E),E.asyncDep){if($&&$.registerDep(E,fr),!f.el){const D=E.subTree=hr(Pt);T(null,D,x,k)}return}fr(E,f,x,k,$,N,R)},yr=(f,x,k)=>{const C=x.component=f.component;if(yf(f,x,k))if(C.asyncDep&&!C.asyncResolved){cr(C,x,k);return}else C.next=x,mf(C.update),C.update();else x.el=f.el,C.vnode=x},fr=(f,x,k,C,$,N,R)=>{const E=()=>{if(f.isMounted){let{next:U,bu:V,u:Q,parent:tr,vnode:vr}=f,kr=U,$r;ie(f,!1),U?(U.el=vr.el,cr(f,U,R)):U=vr,V&&Dn(V),($r=U.props&&U.props.onVnodeBeforeUpdate)&&Qt($r,tr,U,vr),ie(f,!0);const Or=Bn(f),zt=f.subTree;f.subTree=Or,b(zt,Or,p(zt.el),ht(zt),f,$,N),U.el=Or.el,kr===null&&wf(f,Or.el),Q&&ft(Q,$),($r=U.props&&U.props.onVnodeUpdated)&&ft(()=>Qt($r,tr,U,vr),$)}else{let U;const{el:V,props:Q}=x,{bm:tr,m:vr,parent:kr}=f,$r=Ea(x);if(ie(f,!1),tr&&Dn(tr),!$r&&(U=Q&&Q.onVnodeBeforeMount)&&Qt(U,kr,x),ie(f,!0),V&&Mo){const Or=()=>{f.subTree=Bn(f),Mo(V,f.subTree,f,$,null)};$r?x.type.__asyncLoader().then(()=>!f.isUnmounted&&Or()):Or()}else{const Or=f.subTree=Bn(f);b(null,Or,k,C,f,$,N),x.el=Or.el}if(vr&&ft(vr,$),!$r&&(U=Q&&Q.onVnodeMounted)){const Or=x;ft(()=>Qt(U,kr,Or),$)}(x.shapeFlag&256||kr&&Ea(kr.vnode)&&kr.vnode.shapeFlag&256)&&f.a&&ft(f.a,$),f.isMounted=!0,x=k=C=null}},D=f.effect=new Ls(E,()=>zg(M),f.scope),M=f.update=()=>D.run();M.id=f.uid,ie(f,!0),M()},cr=(f,x,k)=>{x.component=f;const C=f.vnode.props;f.vnode=x,f.next=null,Jf(f,x.props,C,k),Yf(f,x.children,k),la(),pn(void 0,f.update),sa()},Dr=(f,x,k,C,$,N,R,E,D=!1)=>{const M=f&&f.children,U=f?f.shapeFlag:0,V=x.children,{patchFlag:Q,shapeFlag:tr}=x;if(Q>0){if(Q&128){kt(M,V,k,C,$,N,R,E,D);return}else if(Q&256){mt(M,V,k,C,$,N,R,E,D);return}}tr&8?(U&16&&Qr(M,$,N),V!==M&&d(k,V)):U&16?tr&16?kt(M,V,k,C,$,N,R,E,D):Qr(M,$,N,!0):(U&8&&d(k,""),tr&16&&G(V,k,C,$,N,R,E,D))},mt=(f,x,k,C,$,N,R,E,D)=>{f=f||Ve,x=x||Ve;const M=f.length,U=x.length,V=Math.min(M,U);let Q;for(Q=0;Q<V;Q++){const tr=x[Q]=D?Po(x[Q]):oo(x[Q]);b(f[Q],tr,k,null,$,N,R,E,D)}M>U?Qr(f,$,N,!0,!1,V):G(x,k,C,$,N,R,E,D,V)},kt=(f,x,k,C,$,N,R,E,D)=>{let M=0;const U=x.length;let V=f.length-1,Q=U-1;for(;M<=V&&M<=Q;){const tr=f[M],vr=x[M]=D?Po(x[M]):oo(x[M]);if(de(tr,vr))b(tr,vr,k,null,$,N,R,E,D);else break;M++}for(;M<=V&&M<=Q;){const tr=f[V],vr=x[Q]=D?Po(x[Q]):oo(x[Q]);if(de(tr,vr))b(tr,vr,k,null,$,N,R,E,D);else break;V--,Q--}if(M>V){if(M<=Q){const tr=Q+1,vr=tr<U?x[tr].el:C;for(;M<=Q;)b(null,x[M]=D?Po(x[M]):oo(x[M]),k,vr,$,N,R,E,D),M++}}else if(M>Q)for(;M<=V;)Xr(f[M],$,N,!0),M++;else{const tr=M,vr=M,kr=new Map;for(M=vr;M<=Q;M++){const Z=x[M]=D?Po(x[M]):oo(x[M]);Z.key!=null&&kr.set(Z.key,M)}let $r,Or=0;const zt=Q-vr+1;let To=!1,si=0;const z=new Array(zt);for(M=0;M<zt;M++)z[M]=0;for(M=tr;M<=V;M++){const Z=f[M];if(Or>=zt){Xr(Z,$,N,!0);continue}let ur;if(Z.key!=null)ur=kr.get(Z.key);else for($r=vr;$r<=Q;$r++)if(z[$r-vr]===0&&de(Z,x[$r])){ur=$r;break}ur===void 0?Xr(Z,$,N,!0):(z[ur-vr]=M+1,ur>=si?si=ur:To=!0,b(Z,x[ur],k,null,$,N,R,E,D),Or++)}const K=To?ov(z):Ve;for($r=K.length-1,M=zt-1;M>=0;M--){const Z=vr+M,ur=x[Z],xr=Z+1<U?x[Z+1].el:C;z[M]===0?b(null,ur,k,xr,$,N,R,E,D):To&&($r<0||M!==K[$r]?Kr(ur,k,xr,2):$r--)}}},Kr=(f,x,k,C,$=null)=>{const{el:N,type:R,transition:E,children:D,shapeFlag:M}=f;if(M&6){Kr(f.component.subTree,x,k,C);return}if(M&128){f.suspense.move(x,k,C);return}if(M&64){R.move(f,x,k,lt);return}if(R===Ar){e(N,x,k);for(let V=0;V<D.length;V++)Kr(D[V],x,k,C);e(f.anchor,x,k);return}if(R===Rn){v(f,x,k);return}if(C!==2&&M&1&&E)if(C===0)E.beforeEnter(N),e(N,x,k),ft(()=>E.enter(N),$);else{const{leave:V,delayLeave:Q,afterLeave:tr}=E,vr=()=>e(N,x,k),kr=()=>{V(N,()=>{vr(),tr&&tr()})};Q?Q(N,vr,kr):kr()}else e(N,x,k)},Xr=(f,x,k,C=!1,$=!1)=>{const{type:N,props:R,ref:E,children:D,dynamicChildren:M,shapeFlag:U,patchFlag:V,dirs:Q}=f;if(E!=null&&is(E,null,k,f,!0),U&256){x.ctx.deactivate(f);return}const tr=U&1&&Q,vr=!Ea(f);let kr;if(vr&&(kr=R&&R.onVnodeBeforeUnmount)&&Qt(kr,x,f),U&6)Vt(f.component,k,C);else{if(U&128){f.suspense.unmount(k,C);return}tr&&ae(f,null,x,"beforeUnmount"),U&64?f.type.remove(f,x,k,$,lt,C):M&&(N!==Ar||V>0&&V&64)?Qr(M,x,k,!1,!0):(N===Ar&&V&384||!$&&U&16)&&Qr(D,x,k),C&&Et(f)}(vr&&(kr=R&&R.onVnodeUnmounted)||tr)&&ft(()=>{kr&&Qt(kr,x,f),tr&&ae(f,null,x,"unmounted")},k)},Et=f=>{const{type:x,el:k,anchor:C,transition:$}=f;if(x===Ar){_t(k,C);return}if(x===Rn){j(f);return}const N=()=>{a(k),$&&!$.persisted&&$.afterLeave&&$.afterLeave()};if(f.shapeFlag&1&&$&&!$.persisted){const{leave:R,delayLeave:E}=$,D=()=>R(k,N);E?E(f.el,N,D):D()}else N()},_t=(f,x)=>{let k;for(;f!==x;)k=g(f),a(f),f=k;a(x)},Vt=(f,x,k)=>{const{bum:C,scope:$,update:N,subTree:R,um:E}=f;C&&Dn(C),$.stop(),N&&(N.active=!1,Xr(R,f,x,k)),E&&ft(E,x),ft(()=>{f.isUnmounted=!0},x),x&&x.pendingBranch&&!x.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===x.pendingId&&(x.deps--,x.deps===0&&x.resolve())},Qr=(f,x,k,C=!1,$=!1,N=0)=>{for(let R=N;R<f.length;R++)Xr(f[R],x,k,C,$)},ht=f=>f.shapeFlag&6?ht(f.component.subTree):f.shapeFlag&128?f.suspense.next():g(f.anchor||f.el),yo=(f,x,k)=>{f==null?x._vnode&&Xr(x._vnode,null,null,!0):b(x._vnode||null,f,x,null,null,null,k),Cg(),x._vnode=f},lt={p:b,um:Xr,m:Kr,r:Et,mt:Lr,mc:G,pc:Dr,pbc:sr,n:ht,o:t};let Xt,Mo;return r&&([Xt,Mo]=r(lt)),{render:yo,hydrate:Xt,createApp:Qf(yo,Xt)}}function ie({effect:t,update:r},o){t.allowRecurse=r.allowRecurse=o}function Qs(t,r,o=!1){const e=t.children,a=r.children;if(ir(e)&&ir(a))for(let i=0;i<e.length;i++){const n=e[i];let l=a[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=a[i]=Po(a[i]),l.el=n.el),o||Qs(n,l))}}function ov(t){const r=t.slice(),o=[0];let e,a,i,n,l;const s=t.length;for(e=0;e<s;e++){const c=t[e];if(c!==0){if(a=o[o.length-1],t[a]<c){r[e]=a,o.push(e);continue}for(i=0,n=o.length-1;i<n;)l=i+n>>1,t[o[l]]<c?i=l+1:n=l;c<t[o[i]]&&(i>0&&(r[e]=o[i-1]),o[i]=e)}}for(i=o.length,n=o[i-1];i-- >0;)o[i]=n,n=r[n];return o}const ev=t=>t.__isTeleport,Ia=t=>t&&(t.disabled||t.disabled===""),id=t=>typeof SVGElement!="undefined"&&t instanceof SVGElement,ns=(t,r)=>{const o=t&&t.to;return Br(o)?r?r(o):null:o},av={__isTeleport:!0,process(t,r,o,e,a,i,n,l,s,c){const{mc:d,pc:p,pbc:g,o:{insert:u,querySelector:m,createText:h,createComment:b}}=c,w=Ia(r.props);let{shapeFlag:T,children:F,dynamicChildren:v}=r;if(t==null){const j=r.el=h(""),B=r.anchor=h("");u(j,o,e),u(B,o,e);const Y=r.target=ns(r.props,m),O=r.targetAnchor=h("");Y&&(u(O,Y),n=n||id(Y));const G=(rr,sr)=>{T&16&&d(F,rr,sr,a,i,n,l,s)};w?G(o,B):Y&&G(Y,O)}else{r.el=t.el;const j=r.anchor=t.anchor,B=r.target=t.target,Y=r.targetAnchor=t.targetAnchor,O=Ia(t.props),G=O?o:B,rr=O?j:Y;if(n=n||id(B),v?(g(t.dynamicChildren,v,G,a,i,n,l),Qs(t,r,!0)):s||p(t,r,G,rr,a,i,n,l,!1),w)O||bi(r,o,j,c,1);else if((r.props&&r.props.to)!==(t.props&&t.props.to)){const sr=r.target=ns(r.props,m);sr&&bi(r,sr,null,c,0)}else O&&bi(r,B,Y,c,1)}},remove(t,r,o,e,{um:a,o:{remove:i}},n){const{shapeFlag:l,children:s,anchor:c,targetAnchor:d,target:p,props:g}=t;if(p&&i(d),(n||!Ia(g))&&(i(c),l&16))for(let u=0;u<s.length;u++){const m=s[u];a(m,r,o,!0,!!m.dynamicChildren)}},move:bi,hydrate:iv};function bi(t,r,o,{o:{insert:e},m:a},i=2){i===0&&e(t.targetAnchor,r,o);const{el:n,anchor:l,shapeFlag:s,children:c,props:d}=t,p=i===2;if(p&&e(n,r,o),(!p||Ia(d))&&s&16)for(let g=0;g<c.length;g++)a(c[g],r,o,2);p&&e(l,r,o)}function iv(t,r,o,e,a,i,{o:{nextSibling:n,parentNode:l,querySelector:s}},c){const d=r.target=ns(r.props,s);if(d){const p=d._lpa||d.firstChild;if(r.shapeFlag&16)if(Ia(r.props))r.anchor=c(n(t),r,l(t),o,e,a,i),r.targetAnchor=p;else{r.anchor=n(t);let g=p;for(;g;)if(g=n(g),g&&g.nodeType===8&&g.data==="teleport anchor"){r.targetAnchor=g,d._lpa=r.targetAnchor&&n(r.targetAnchor);break}c(p,r,d,o,e,a,i)}}return r.anchor&&n(r.anchor)}const nv=av,Ar=Symbol(void 0),rc=Symbol(void 0),Pt=Symbol(void 0),Rn=Symbol(void 0),Aa=[];let qt=null;function _(t=!1){Aa.push(qt=t?null:[])}function lv(){Aa.pop(),qt=Aa[Aa.length-1]||null}let qa=1;function nd(t){qa+=t}function Ug(t){return t.dynamicChildren=qa>0?qt||Ve:null,lv(),qa>0&&qt&&qt.push(t),t}function S(t,r,o,e,a,i){return Ug(J(t,r,o,e,a,i,!0))}function jr(t,r,o,e,a){return Ug(hr(t,r,o,e,a,!0))}function Li(t){return t?t.__v_isVNode===!0:!1}function de(t,r){return t.type===r.type&&t.key===r.key}const hn="__vInternal",Jg=({key:t})=>t!=null?t:null,Ci=({ref:t,ref_key:r,ref_for:o})=>t!=null?Br(t)||et(t)||pr(t)?{i:at,r:t,k:r,f:!!o}:t:null;function J(t,r=null,o=null,e=0,a=null,i=t===Ar?0:1,n=!1,l=!1){const s={__v_isVNode:!0,__v_skip:!0,type:t,props:r,key:r&&Jg(r),ref:r&&Ci(r),scopeId:Tg,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:e,dynamicProps:a,dynamicChildren:null,appContext:null};return l?(tc(s,o),i&128&&t.normalize(s)):o&&(s.shapeFlag|=Br(o)?8:16),qa>0&&!n&&qt&&(s.patchFlag>0||i&6)&&s.patchFlag!==32&&qt.push(s),s}const hr=sv;function sv(t,r=null,o=null,e=0,a=null,i=!1){if((!t||t===Pg)&&(t=Pt),Li(t)){const l=Jo(t,r,!0);return o&&tc(l,o),qa>0&&!i&&qt&&(l.shapeFlag&6?qt[qt.indexOf(t)]=l:qt.push(l)),l.patchFlag|=-2,l}if(bv(t)&&(t=t.__vccOpts),r){r=cv(r);let{class:l,style:s}=r;l&&!Br(l)&&(r.class=er(l)),Pr(s)&&(xg(s)&&!ir(s)&&(s=Yr({},s)),r.style=en(s))}const n=Br(t)?1:kf(t)?128:ev(t)?64:Pr(t)?4:pr(t)?2:0;return J(t,r,o,e,a,n,i,!0)}function cv(t){return t?xg(t)||hn in t?Yr({},t):t:null}function Jo(t,r,o=!1){const{props:e,ref:a,patchFlag:i,children:n}=t,l=r?Wr(e||{},r):e;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Jg(l),ref:r&&r.ref?o&&a?ir(a)?a.concat(Ci(r)):[a,Ci(r)]:Ci(r):a,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:n,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:r&&t.type!==Ar?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Jo(t.ssContent),ssFallback:t.ssFallback&&Jo(t.ssFallback),el:t.el,anchor:t.anchor}}function jt(t=" ",r=0){return hr(rc,null,t,r)}function ar(t="",r=!1){return r?(_(),jr(Pt,null,t)):hr(Pt,null,t)}function oo(t){return t==null||typeof t=="boolean"?hr(Pt):ir(t)?hr(Ar,null,t.slice()):typeof t=="object"?Po(t):hr(rc,null,String(t))}function Po(t){return t.el===null||t.memo?t:Jo(t)}function tc(t,r){let o=0;const{shapeFlag:e}=t;if(r==null)r=null;else if(ir(r))o=16;else if(typeof r=="object")if(e&65){const a=r.default;a&&(a._c&&(a._d=!1),tc(t,a()),a._c&&(a._d=!0));return}else{o=32;const a=r._;!a&&!(hn in r)?r._ctx=at:a===3&&at&&(at.slots._===1?r._=1:(r._=2,t.patchFlag|=1024))}else pr(r)?(r={default:r,_ctx:at},o=32):(r=String(r),e&64?(o=16,r=[jt(r)]):o=8);t.children=r,t.shapeFlag|=o}function Wr(...t){const r={};for(let o=0;o<t.length;o++){const e=t[o];for(const a in e)if(a==="class")r.class!==e.class&&(r.class=er([r.class,e.class]));else if(a==="style")r.style=en([r.style,e.style]);else if(an(a)){const i=r[a],n=e[a];n&&i!==n&&!(ir(i)&&i.includes(n))&&(r[a]=i?[].concat(i,n):n)}else a!==""&&(r[a]=e[a])}return r}function Qt(t,r,o,e=null){Bt(t,r,7,[o,e])}const dv=qg();let pv=0;function gv(t,r,o){const e=t.type,a=(r?r.appContext:t.appContext)||dv,i={uid:pv++,vnode:t,type:e,parent:r,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new Th(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:r?r.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vg(e,a),emitsOptions:Mg(e,a),emit:null,emitted:null,propsDefaults:Mr,inheritAttrs:e.inheritAttrs,ctx:Mr,data:Mr,props:Mr,attrs:Mr,slots:Mr,refs:Mr,setupState:Mr,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=r?r.root:i,i.emit=vf.bind(null,i),t.ce&&t.ce(i),i}let Fr=null;const Gg=()=>Fr||at,Ge=t=>{Fr=t,t.scope.on()},ve=()=>{Fr&&Fr.scope.off(),Fr=null};function Zg(t){return t.vnode.shapeFlag&4}let Ua=!1;function uv(t,r=!1){Ua=r;const{props:o,children:e}=t.vnode,a=Zg(t);Uf(t,o,a,r),Zf(t,e);const i=a?mv(t,r):void 0;return Ua=!1,i}function mv(t,r){const o=t.type;t.accessCache=Object.create(null),t.proxy=Ws(new Proxy(t.ctx,jf));const{setup:e}=o;if(e){const a=t.setupContext=e.length>1?fv(t):null;Ge(t),la();const i=Ho(e,t,0,[t.props,a]);if(sa(),ve(),ag(i)){if(i.then(ve,ve),r)return i.then(n=>{ld(t,n,r)}).catch(n=>{dn(n,t,0)});t.asyncDep=i}else ld(t,i,r)}else Yg(t,r)}function ld(t,r,o){pr(r)?t.type.__ssrInlineRender?t.ssrRender=r:t.render=r:Pr(r)&&(t.setupState=wg(r)),Yg(t,o)}let sd;function Yg(t,r,o){const e=t.type;if(!t.render){if(!r&&sd&&!e.render){const a=e.template;if(a){const{isCustomElement:i,compilerOptions:n}=t.appContext.config,{delimiters:l,compilerOptions:s}=e,c=Yr(Yr({isCustomElement:i,delimiters:l},n),s);e.render=sd(a,c)}}t.render=e.render||Jt}Ge(t),la(),Vf(t),sa(),ve()}function hv(t){return new Proxy(t.attrs,{get(r,o){return Tt(t,"get","$attrs"),r[o]}})}function fv(t){const r=e=>{t.exposed=e||{}};let o;return{get attrs(){return o||(o=hv(t))},slots:t.slots,emit:t.emit,expose:r}}function fn(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(wg(Ws(t.exposed)),{get(r,o){if(o in r)return r[o];if(o in Pi)return Pi[o](t)}}))}function vv(t,r=!0){return pr(t)?t.displayName||t.name:t.name||r&&t.__name}function bv(t){return pr(t)&&"__vccOpts"in t}const Oi=(t,r)=>pf(t,r,Ua);function so(t,r,o){const e=arguments.length;return e===2?Pr(r)&&!ir(r)?Li(r)?hr(t,null,[r]):hr(t,r):hr(t,null,r):(e>3?o=Array.prototype.slice.call(arguments,2):e===3&&Li(o)&&(o=[o]),hr(t,r,o))}const xv="3.2.37",yv="http://www.w3.org/2000/svg",pe=typeof document!="undefined"?document:null,cd=pe&&pe.createElement("template"),wv={insert:(t,r,o)=>{r.insertBefore(t,o||null)},remove:t=>{const r=t.parentNode;r&&r.removeChild(t)},createElement:(t,r,o,e)=>{const a=r?pe.createElementNS(yv,t):pe.createElement(t,o?{is:o}:void 0);return t==="select"&&e&&e.multiple!=null&&a.setAttribute("multiple",e.multiple),a},createText:t=>pe.createTextNode(t),createComment:t=>pe.createComment(t),setText:(t,r)=>{t.nodeValue=r},setElementText:(t,r)=>{t.textContent=r},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>pe.querySelector(t),setScopeId(t,r){t.setAttribute(r,"")},cloneNode(t){const r=t.cloneNode(!0);return"_value"in t&&(r._value=t._value),r},insertStaticContent(t,r,o,e,a,i){const n=o?o.previousSibling:r.lastChild;if(a&&(a===i||a.nextSibling))for(;r.insertBefore(a.cloneNode(!0),o),!(a===i||!(a=a.nextSibling)););else{cd.innerHTML=e?`<svg>${t}</svg>`:t;const l=cd.content;if(e){const s=l.firstChild;for(;s.firstChild;)l.appendChild(s.firstChild);l.removeChild(s)}r.insertBefore(l,o)}return[n?n.nextSibling:r.firstChild,o?o.previousSibling:r.lastChild]}};function kv(t,r,o){const e=t._vtc;e&&(r=(r?[r,...e]:[...e]).join(" ")),r==null?t.removeAttribute("class"):o?t.setAttribute("class",r):t.className=r}function _v(t,r,o){const e=t.style,a=Br(o);if(o&&!a){for(const i in o)ls(e,i,o[i]);if(r&&!Br(r))for(const i in r)o[i]==null&&ls(e,i,"")}else{const i=e.display;a?r!==o&&(e.cssText=o):r&&t.removeAttribute("style"),"_vod"in t&&(e.display=i)}}const dd=/\s*!important$/;function ls(t,r,o){if(ir(o))o.forEach(e=>ls(t,r,e));else if(o==null&&(o=""),r.startsWith("--"))t.setProperty(r,o);else{const e=zv(t,r);dd.test(o)?t.setProperty(Oe(e),o.replace(dd,""),"important"):t[e]=o}}const pd=["Webkit","Moz","ms"],Ln={};function zv(t,r){const o=Ln[r];if(o)return o;let e=go(r);if(e!=="filter"&&e in t)return Ln[r]=e;e=sn(e);for(let a=0;a<pd.length;a++){const i=pd[a]+e;if(i in t)return Ln[r]=i}return r}const gd="http://www.w3.org/1999/xlink";function Sv(t,r,o,e,a){if(e&&r.startsWith("xlink:"))o==null?t.removeAttributeNS(gd,r.slice(6,r.length)):t.setAttributeNS(gd,r,o);else{const i=xh(r);o==null||i&&!tg(o)?t.removeAttribute(r):t.setAttribute(r,i?"":o)}}function $v(t,r,o,e,a,i,n){if(r==="innerHTML"||r==="textContent"){e&&n(e,a,i),t[r]=o==null?"":o;return}if(r==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=o;const s=o==null?"":o;(t.value!==s||t.tagName==="OPTION")&&(t.value=s),o==null&&t.removeAttribute(r);return}let l=!1;if(o===""||o==null){const s=typeof t[r];s==="boolean"?o=tg(o):o==null&&s==="string"?(o="",l=!0):s==="number"&&(o=0,l=!0)}try{t[r]=o}catch{}l&&t.removeAttribute(r)}const[Xg,Cv]=(()=>{let t=Date.now,r=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const o=navigator.userAgent.match(/firefox\/(\d+)/i);r=!!(o&&Number(o[1])<=53)}return[t,r]})();let ss=0;const Ov=Promise.resolve(),Mv=()=>{ss=0},Tv=()=>ss||(Ov.then(Mv),ss=Xg());function Ev(t,r,o,e){t.addEventListener(r,o,e)}function Iv(t,r,o,e){t.removeEventListener(r,o,e)}function Av(t,r,o,e,a=null){const i=t._vei||(t._vei={}),n=i[r];if(e&&n)n.value=e;else{const[l,s]=Nv(r);if(e){const c=i[r]=Dv(e,a);Ev(t,l,c,s)}else n&&(Iv(t,l,n,s),i[r]=void 0)}}const ud=/(?:Once|Passive|Capture)$/;function Nv(t){let r;if(ud.test(t)){r={};let o;for(;o=t.match(ud);)t=t.slice(0,t.length-o[0].length),r[o[0].toLowerCase()]=!0}return[Oe(t.slice(2)),r]}function Dv(t,r){const o=e=>{const a=e.timeStamp||Xg();(Cv||a>=o.attached-1)&&Bt(Bv(e,o.value),r,5,[e])};return o.value=t,o.attached=Tv(),o}function Bv(t,r){if(ir(r)){const o=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{o.call(t),t._stopped=!0},r.map(e=>a=>!a._stopped&&e&&e(a))}else return r}const md=/^on[a-z]/,Pv=(t,r,o,e,a=!1,i,n,l,s)=>{r==="class"?kv(t,e,a):r==="style"?_v(t,o,e):an(r)?Ns(r)||Av(t,r,o,e,n):(r[0]==="."?(r=r.slice(1),!0):r[0]==="^"?(r=r.slice(1),!1):Rv(t,r,e,a))?$v(t,r,e,i,n,l,s):(r==="true-value"?t._trueValue=e:r==="false-value"&&(t._falseValue=e),Sv(t,r,e,a))};function Rv(t,r,o,e){return e?!!(r==="innerHTML"||r==="textContent"||r in t&&md.test(r)&&pr(o)):r==="spellcheck"||r==="draggable"||r==="translate"||r==="form"||r==="list"&&t.tagName==="INPUT"||r==="type"&&t.tagName==="TEXTAREA"||md.test(r)&&Br(o)?!1:r in t}const Io="transition",va="animation",Ot=(t,{slots:r})=>so(Ig,Lv(t),r);Ot.displayName="Transition";const Qg={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ot.props=Yr({},Ig.props,Qg);const ne=(t,r=[])=>{ir(t)?t.forEach(o=>o(...r)):t&&t(...r)},hd=t=>t?ir(t)?t.some(r=>r.length>1):t.length>1:!1;function Lv(t){const r={};for(const P in t)P in Qg||(r[P]=t[P]);if(t.css===!1)return r;const{name:o="v",type:e,duration:a,enterFromClass:i=`${o}-enter-from`,enterActiveClass:n=`${o}-enter-active`,enterToClass:l=`${o}-enter-to`,appearFromClass:s=i,appearActiveClass:c=n,appearToClass:d=l,leaveFromClass:p=`${o}-leave-from`,leaveActiveClass:g=`${o}-leave-active`,leaveToClass:u=`${o}-leave-to`}=t,m=Fv(a),h=m&&m[0],b=m&&m[1],{onBeforeEnter:w,onEnter:T,onEnterCancelled:F,onLeave:v,onLeaveCancelled:j,onBeforeAppear:B=w,onAppear:Y=T,onAppearCancelled:O=F}=r,G=(P,nr,Er)=>{le(P,nr?d:l),le(P,nr?c:n),Er&&Er()},rr=(P,nr)=>{P._isLeaving=!1,le(P,p),le(P,u),le(P,g),nr&&nr()},sr=P=>(nr,Er)=>{const Lr=P?Y:T,yr=()=>G(nr,P,Er);ne(Lr,[nr,yr]),fd(()=>{le(nr,P?s:i),Ao(nr,P?d:l),hd(Lr)||vd(nr,e,h,yr)})};return Yr(r,{onBeforeEnter(P){ne(w,[P]),Ao(P,i),Ao(P,n)},onBeforeAppear(P){ne(B,[P]),Ao(P,s),Ao(P,c)},onEnter:sr(!1),onAppear:sr(!0),onLeave(P,nr){P._isLeaving=!0;const Er=()=>rr(P,nr);Ao(P,p),Hv(),Ao(P,g),fd(()=>{!P._isLeaving||(le(P,p),Ao(P,u),hd(v)||vd(P,e,b,Er))}),ne(v,[P,Er])},onEnterCancelled(P){G(P,!1),ne(F,[P])},onAppearCancelled(P){G(P,!0),ne(O,[P])},onLeaveCancelled(P){rr(P),ne(j,[P])}})}function Fv(t){if(t==null)return null;if(Pr(t))return[Fn(t.enter),Fn(t.leave)];{const r=Fn(t);return[r,r]}}function Fn(t){return lg(t)}function Ao(t,r){r.split(/\s+/).forEach(o=>o&&t.classList.add(o)),(t._vtc||(t._vtc=new Set)).add(r)}function le(t,r){r.split(/\s+/).forEach(e=>e&&t.classList.remove(e));const{_vtc:o}=t;o&&(o.delete(r),o.size||(t._vtc=void 0))}function fd(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let jv=0;function vd(t,r,o,e){const a=t._endId=++jv,i=()=>{a===t._endId&&e()};if(o)return setTimeout(i,o);const{type:n,timeout:l,propCount:s}=Vv(t,r);if(!n)return e();const c=n+"end";let d=0;const p=()=>{t.removeEventListener(c,g),i()},g=u=>{u.target===t&&++d>=s&&p()};setTimeout(()=>{d<s&&p()},l+1),t.addEventListener(c,g)}function Vv(t,r){const o=window.getComputedStyle(t),e=m=>(o[m]||"").split(", "),a=e(Io+"Delay"),i=e(Io+"Duration"),n=bd(a,i),l=e(va+"Delay"),s=e(va+"Duration"),c=bd(l,s);let d=null,p=0,g=0;r===Io?n>0&&(d=Io,p=n,g=i.length):r===va?c>0&&(d=va,p=c,g=s.length):(p=Math.max(n,c),d=p>0?n>c?Io:va:null,g=d?d===Io?i.length:s.length:0);const u=d===Io&&/\b(transform|all)(,|$)/.test(o[Io+"Property"]);return{type:d,timeout:p,propCount:g,hasTransform:u}}function bd(t,r){for(;t.length<r.length;)t=t.concat(t);return Math.max(...r.map((o,e)=>xd(o)+xd(t[e])))}function xd(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function Hv(){return document.body.offsetHeight}const Wv=["ctrl","shift","alt","meta"],Kv={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,r)=>Wv.some(o=>t[`${o}Key`]&&!r.includes(o))},oc=(t,r)=>(o,...e)=>{for(let a=0;a<r.length;a++){const i=Kv[r[a]];if(i&&i(o,r))return}return t(o,...e)},qv={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Me=(t,r)=>o=>{if(!("key"in o))return;const e=Oe(o.key);if(r.some(a=>a===e||qv[a]===e))return t(o)},Gr={beforeMount(t,{value:r},{transition:o}){t._vod=t.style.display==="none"?"":t.style.display,o&&r?o.beforeEnter(t):ba(t,r)},mounted(t,{value:r},{transition:o}){o&&r&&o.enter(t)},updated(t,{value:r,oldValue:o},{transition:e}){!r!=!o&&(e?r?(e.beforeEnter(t),ba(t,!0),e.enter(t)):e.leave(t,()=>{ba(t,!1)}):ba(t,r))},beforeUnmount(t,{value:r}){ba(t,r)}};function ba(t,r){t.style.display=r?t._vod:"none"}const Uv=Yr({patchProp:Pv},wv);let yd;function Jv(){return yd||(yd=rv(Uv))}const Gv=(...t)=>{const r=Jv().createApp(...t),{mount:o}=r;return r.mount=e=>{const a=Zv(e);if(!a)return;const i=r._component;!pr(i)&&!i.render&&!i.template&&(i.template=a.innerHTML),a.innerHTML="";const n=o(a,!1,a instanceof SVGElement);return a instanceof Element&&(a.removeAttribute("v-cloak"),a.setAttribute("data-v-app","")),n},r};function Zv(t){return Br(t)?document.querySelector(t):t}const Yv={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Xv=J("path",{fill:"currentColor",d:"M2 12a10 10 0 0 0 13 9.54a10 10 0 0 1 0-19.08A10 10 0 0 0 2 12Z"},null,-1),Qv=[Xv];function rb(t,r){return _(),S("svg",Yv,Qv)}var tb={name:"mdi-moon-waning-crescent",render:rb};const ob={preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},eb=J("path",{fill:"currentColor",d:"m3.55 19.09l1.41 1.41l1.8-1.79l-1.42-1.42M12 6c-3.31 0-6 2.69-6 6s2.69 6 6 6s6-2.69 6-6c0-3.32-2.69-6-6-6m8 7h3v-2h-3m-2.76 7.71l1.8 1.79l1.41-1.41l-1.79-1.8M20.45 5l-1.41-1.4l-1.8 1.79l1.42 1.42M13 1h-2v3h2M6.76 5.39L4.96 3.6L3.55 5l1.79 1.81l1.42-1.42M1 13h3v-2H1m12 9h-2v3h2"},null,-1),ab=[eb];function ib(t,r){return _(),S("svg",ob,ab)}var nb={name:"mdi-white-balance-sunny",render:ib};const lb=J("span",{class:"_visually-hidden"},[J("span",null,"Toggle color mode")],-1),sb=L({__name:"ThemeSwitchButton",setup(t){const r=Ta("inkline",{}),o=ca(r.options.colorMode);o.value==="system"&&typeof window!="undefined"&&(o.value=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");const e=()=>{const a=o.value==="dark"?"light":"dark";r.options.colorMode=a,o.value=a};return(a,i)=>{const n=nb,l=tb,s=Rr("i-button");return _(),jr(s,{onClick:e,class:"color-switch"},{default:br(()=>[o.value==="dark"?(_(),jr(n,{key:0})):(_(),jr(l,{key:1})),lb]),_:1})}}});function qr(t){this.content=t}qr.prototype={constructor:qr,find:function(t){for(var r=0;r<this.content.length;r+=2)if(this.content[r]===t)return r;return-1},get:function(t){var r=this.find(t);return r==-1?void 0:this.content[r+1]},update:function(t,r,o){var e=o&&o!=t?this.remove(o):this,a=e.find(t),i=e.content.slice();return a==-1?i.push(o||t,r):(i[a+1]=r,o&&(i[a]=o)),new qr(i)},remove:function(t){var r=this.find(t);if(r==-1)return this;var o=this.content.slice();return o.splice(r,2),new qr(o)},addToStart:function(t,r){return new qr([t,r].concat(this.remove(t).content))},addToEnd:function(t,r){var o=this.remove(t).content.slice();return o.push(t,r),new qr(o)},addBefore:function(t,r,o){var e=this.remove(r),a=e.content.slice(),i=e.find(t);return a.splice(i==-1?a.length:i,0,r,o),new qr(a)},forEach:function(t){for(var r=0;r<this.content.length;r+=2)t(this.content[r],this.content[r+1])},prepend:function(t){return t=qr.from(t),t.size?new qr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=qr.from(t),t.size?new qr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var r=this;t=qr.from(t);for(var o=0;o<t.content.length;o+=2)r=r.remove(t.content[o]);return r},get size(){return this.content.length>>1}};qr.from=function(t){if(t instanceof qr)return t;var r=[];if(t)for(var o in t)r.push(o,t[o]);return new qr(r)};function ru(t,r,o){for(let e=0;;e++){if(e==t.childCount||e==r.childCount)return t.childCount==r.childCount?null:o;let a=t.child(e),i=r.child(e);if(a==i){o+=a.nodeSize;continue}if(!a.sameMarkup(i))return o;if(a.isText&&a.text!=i.text){for(let n=0;a.text[n]==i.text[n];n++)o++;return o}if(a.content.size||i.content.size){let n=ru(a.content,i.content,o+1);if(n!=null)return n}o+=a.nodeSize}}function tu(t,r,o,e){for(let a=t.childCount,i=r.childCount;;){if(a==0||i==0)return a==i?null:{a:o,b:e};let n=t.child(--a),l=r.child(--i),s=n.nodeSize;if(n==l){o-=s,e-=s;continue}if(!n.sameMarkup(l))return{a:o,b:e};if(n.isText&&n.text!=l.text){let c=0,d=Math.min(n.text.length,l.text.length);for(;c<d&&n.text[n.text.length-c-1]==l.text[l.text.length-c-1];)c++,o--,e--;return{a:o,b:e}}if(n.content.size||l.content.size){let c=tu(n.content,l.content,o-1,e-1);if(c)return c}o-=s,e-=s}}class A{constructor(r,o){if(this.content=r,this.size=o||0,o==null)for(let e=0;e<r.length;e++)this.size+=r[e].nodeSize}nodesBetween(r,o,e,a=0,i){for(let n=0,l=0;l<o;n++){let s=this.content[n],c=l+s.nodeSize;if(c>r&&e(s,a+l,i||null,n)!==!1&&s.content.size){let d=l+1;s.nodesBetween(Math.max(0,r-d),Math.min(s.content.size,o-d),e,a+d)}l=c}}descendants(r){this.nodesBetween(0,this.size,r)}textBetween(r,o,e,a){let i="",n=!0;return this.nodesBetween(r,o,(l,s)=>{l.isText?(i+=l.text.slice(Math.max(r,s)-s,o-s),n=!e):l.isLeaf?(a?i+=typeof a=="function"?a(l):a:l.type.spec.leafText&&(i+=l.type.spec.leafText(l)),n=!e):!n&&l.isBlock&&(i+=e,n=!0)},0),i}append(r){if(!r.size)return this;if(!this.size)return r;let o=this.lastChild,e=r.firstChild,a=this.content.slice(),i=0;for(o.isText&&o.sameMarkup(e)&&(a[a.length-1]=o.withText(o.text+e.text),i=1);i<r.content.length;i++)a.push(r.content[i]);return new A(a,this.size+r.size)}cut(r,o=this.size){if(r==0&&o==this.size)return this;let e=[],a=0;if(o>r)for(let i=0,n=0;n<o;i++){let l=this.content[i],s=n+l.nodeSize;s>r&&((n<r||s>o)&&(l.isText?l=l.cut(Math.max(0,r-n),Math.min(l.text.length,o-n)):l=l.cut(Math.max(0,r-n-1),Math.min(l.content.size,o-n-1))),e.push(l),a+=l.nodeSize),n=s}return new A(e,a)}cutByIndex(r,o){return r==o?A.empty:r==0&&o==this.content.length?this:new A(this.content.slice(r,o))}replaceChild(r,o){let e=this.content[r];if(e==o)return this;let a=this.content.slice(),i=this.size+o.nodeSize-e.nodeSize;return a[r]=o,new A(a,i)}addToStart(r){return new A([r].concat(this.content),this.size+r.nodeSize)}addToEnd(r){return new A(this.content.concat(r),this.size+r.nodeSize)}eq(r){if(this.content.length!=r.content.length)return!1;for(let o=0;o<this.content.length;o++)if(!this.content[o].eq(r.content[o]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(r){let o=this.content[r];if(!o)throw new RangeError("Index "+r+" out of range for "+this);return o}maybeChild(r){return this.content[r]||null}forEach(r){for(let o=0,e=0;o<this.content.length;o++){let a=this.content[o];r(a,e,o),e+=a.nodeSize}}findDiffStart(r,o=0){return ru(this,r,o)}findDiffEnd(r,o=this.size,e=r.size){return tu(this,r,o,e)}findIndex(r,o=-1){if(r==0)return xi(0,r);if(r==this.size)return xi(this.content.length,r);if(r>this.size||r<0)throw new RangeError(`Position ${r} outside of fragment (${this})`);for(let e=0,a=0;;e++){let i=this.child(e),n=a+i.nodeSize;if(n>=r)return n==r||o>0?xi(e+1,n):xi(e,a);a=n}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(r=>r.toJSON()):null}static fromJSON(r,o){if(!o)return A.empty;if(!Array.isArray(o))throw new RangeError("Invalid input for Fragment.fromJSON");return new A(o.map(r.nodeFromJSON))}static fromArray(r){if(!r.length)return A.empty;let o,e=0;for(let a=0;a<r.length;a++){let i=r[a];e+=i.nodeSize,a&&i.isText&&r[a-1].sameMarkup(i)?(o||(o=r.slice(0,a)),o[o.length-1]=i.withText(o[o.length-1].text+i.text)):o&&o.push(i)}return new A(o||r,e)}static from(r){if(!r)return A.empty;if(r instanceof A)return r;if(Array.isArray(r))return this.fromArray(r);if(r.attrs)return new A([r],r.nodeSize);throw new RangeError("Can not convert "+r+" to a Fragment"+(r.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}A.empty=new A([],0);const jn={index:0,offset:0};function xi(t,r){return jn.index=t,jn.offset=r,jn}function Fi(t,r){if(t===r)return!0;if(!(t&&typeof t=="object")||!(r&&typeof r=="object"))return!1;let o=Array.isArray(t);if(Array.isArray(r)!=o)return!1;if(o){if(t.length!=r.length)return!1;for(let e=0;e<t.length;e++)if(!Fi(t[e],r[e]))return!1}else{for(let e in t)if(!(e in r)||!Fi(t[e],r[e]))return!1;for(let e in r)if(!(e in t))return!1}return!0}class Cr{constructor(r,o){this.type=r,this.attrs=o}addToSet(r){let o,e=!1;for(let a=0;a<r.length;a++){let i=r[a];if(this.eq(i))return r;if(this.type.excludes(i.type))o||(o=r.slice(0,a));else{if(i.type.excludes(this.type))return r;!e&&i.type.rank>this.type.rank&&(o||(o=r.slice(0,a)),o.push(this),e=!0),o&&o.push(i)}}return o||(o=r.slice()),e||o.push(this),o}removeFromSet(r){for(let o=0;o<r.length;o++)if(this.eq(r[o]))return r.slice(0,o).concat(r.slice(o+1));return r}isInSet(r){for(let o=0;o<r.length;o++)if(this.eq(r[o]))return!0;return!1}eq(r){return this==r||this.type==r.type&&Fi(this.attrs,r.attrs)}toJSON(){let r={type:this.type.name};for(let o in this.attrs){r.attrs=this.attrs;break}return r}static fromJSON(r,o){if(!o)throw new RangeError("Invalid input for Mark.fromJSON");let e=r.marks[o.type];if(!e)throw new RangeError(`There is no mark type ${o.type} in this schema`);return e.create(o.attrs)}static sameSet(r,o){if(r==o)return!0;if(r.length!=o.length)return!1;for(let e=0;e<r.length;e++)if(!r[e].eq(o[e]))return!1;return!0}static setFrom(r){if(!r||Array.isArray(r)&&r.length==0)return Cr.none;if(r instanceof Cr)return[r];let o=r.slice();return o.sort((e,a)=>e.type.rank-a.type.rank),o}}Cr.none=[];class Ja extends Error{}class H{constructor(r,o,e){this.content=r,this.openStart=o,this.openEnd=e}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(r,o){let e=eu(this.content,r+this.openStart,o);return e&&new H(e,this.openStart,this.openEnd)}removeBetween(r,o){return new H(ou(this.content,r+this.openStart,o+this.openStart),this.openStart,this.openEnd)}eq(r){return this.content.eq(r.content)&&this.openStart==r.openStart&&this.openEnd==r.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let r={content:this.content.toJSON()};return this.openStart>0&&(r.openStart=this.openStart),this.openEnd>0&&(r.openEnd=this.openEnd),r}static fromJSON(r,o){if(!o)return H.empty;let e=o.openStart||0,a=o.openEnd||0;if(typeof e!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new H(A.fromJSON(r,o.content),e,a)}static maxOpen(r,o=!0){let e=0,a=0;for(let i=r.firstChild;i&&!i.isLeaf&&(o||!i.type.spec.isolating);i=i.firstChild)e++;for(let i=r.lastChild;i&&!i.isLeaf&&(o||!i.type.spec.isolating);i=i.lastChild)a++;return new H(r,e,a)}}H.empty=new H(A.empty,0,0);function ou(t,r,o){let{index:e,offset:a}=t.findIndex(r),i=t.maybeChild(e),{index:n,offset:l}=t.findIndex(o);if(a==r||i.isText){if(l!=o&&!t.child(n).isText)throw new RangeError("Removing non-flat range");return t.cut(0,r).append(t.cut(o))}if(e!=n)throw new RangeError("Removing non-flat range");return t.replaceChild(e,i.copy(ou(i.content,r-a-1,o-a-1)))}function eu(t,r,o,e){let{index:a,offset:i}=t.findIndex(r),n=t.maybeChild(a);if(i==r||n.isText)return e&&!e.canReplace(a,a,o)?null:t.cut(0,r).append(o).append(t.cut(r));let l=eu(n.content,r-i-1,o);return l&&t.replaceChild(a,n.copy(l))}function cb(t,r,o){if(o.openStart>t.depth)throw new Ja("Inserted content deeper than insertion position");if(t.depth-o.openStart!=r.depth-o.openEnd)throw new Ja("Inconsistent open depths");return au(t,r,o,0)}function au(t,r,o,e){let a=t.index(e),i=t.node(e);if(a==r.index(e)&&e<t.depth-o.openStart){let n=au(t,r,o,e+1);return i.copy(i.content.replaceChild(a,n))}else if(o.content.size)if(!o.openStart&&!o.openEnd&&t.depth==e&&r.depth==e){let n=t.parent,l=n.content;return xe(n,l.cut(0,t.parentOffset).append(o.content).append(l.cut(r.parentOffset)))}else{let{start:n,end:l}=db(o,t);return xe(i,nu(t,n,l,r,e))}else return xe(i,ji(t,r,e))}function iu(t,r){if(!r.type.compatibleContent(t.type))throw new Ja("Cannot join "+r.type.name+" onto "+t.type.name)}function cs(t,r,o){let e=t.node(o);return iu(e,r.node(o)),e}function be(t,r){let o=r.length-1;o>=0&&t.isText&&t.sameMarkup(r[o])?r[o]=t.withText(r[o].text+t.text):r.push(t)}function Na(t,r,o,e){let a=(r||t).node(o),i=0,n=r?r.index(o):a.childCount;t&&(i=t.index(o),t.depth>o?i++:t.textOffset&&(be(t.nodeAfter,e),i++));for(let l=i;l<n;l++)be(a.child(l),e);r&&r.depth==o&&r.textOffset&&be(r.nodeBefore,e)}function xe(t,r){if(!t.type.validContent(r))throw new Ja("Invalid content for node "+t.type.name);return t.copy(r)}function nu(t,r,o,e,a){let i=t.depth>a&&cs(t,r,a+1),n=e.depth>a&&cs(o,e,a+1),l=[];return Na(null,t,a,l),i&&n&&r.index(a)==o.index(a)?(iu(i,n),be(xe(i,nu(t,r,o,e,a+1)),l)):(i&&be(xe(i,ji(t,r,a+1)),l),Na(r,o,a,l),n&&be(xe(n,ji(o,e,a+1)),l)),Na(e,null,a,l),new A(l)}function ji(t,r,o){let e=[];if(Na(null,t,o,e),t.depth>o){let a=cs(t,r,o+1);be(xe(a,ji(t,r,o+1)),e)}return Na(r,null,o,e),new A(e)}function db(t,r){let o=r.depth-t.openStart,a=r.node(o).copy(t.content);for(let i=o-1;i>=0;i--)a=r.node(i).copy(A.from(a));return{start:a.resolveNoCache(t.openStart+o),end:a.resolveNoCache(a.content.size-t.openEnd-o)}}class Ga{constructor(r,o,e){this.pos=r,this.path=o,this.parentOffset=e,this.depth=o.length/3-1}resolveDepth(r){return r==null?this.depth:r<0?this.depth+r:r}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(r){return this.path[this.resolveDepth(r)*3]}index(r){return this.path[this.resolveDepth(r)*3+1]}indexAfter(r){return r=this.resolveDepth(r),this.index(r)+(r==this.depth&&!this.textOffset?0:1)}start(r){return r=this.resolveDepth(r),r==0?0:this.path[r*3-1]+1}end(r){return r=this.resolveDepth(r),this.start(r)+this.node(r).content.size}before(r){if(r=this.resolveDepth(r),!r)throw new RangeError("There is no position before the top-level node");return r==this.depth+1?this.pos:this.path[r*3-1]}after(r){if(r=this.resolveDepth(r),!r)throw new RangeError("There is no position after the top-level node");return r==this.depth+1?this.pos:this.path[r*3-1]+this.path[r*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let r=this.parent,o=this.index(this.depth);if(o==r.childCount)return null;let e=this.pos-this.path[this.path.length-1],a=r.child(o);return e?r.child(o).cut(e):a}get nodeBefore(){let r=this.index(this.depth),o=this.pos-this.path[this.path.length-1];return o?this.parent.child(r).cut(0,o):r==0?null:this.parent.child(r-1)}posAtIndex(r,o){o=this.resolveDepth(o);let e=this.path[o*3],a=o==0?0:this.path[o*3-1]+1;for(let i=0;i<r;i++)a+=e.child(i).nodeSize;return a}marks(){let r=this.parent,o=this.index();if(r.content.size==0)return Cr.none;if(this.textOffset)return r.child(o).marks;let e=r.maybeChild(o-1),a=r.maybeChild(o);if(!e){let l=e;e=a,a=l}let i=e.marks;for(var n=0;n<i.length;n++)i[n].type.spec.inclusive===!1&&(!a||!i[n].isInSet(a.marks))&&(i=i[n--].removeFromSet(i));return i}marksAcross(r){let o=this.parent.maybeChild(this.index());if(!o||!o.isInline)return null;let e=o.marks,a=r.parent.maybeChild(r.index());for(var i=0;i<e.length;i++)e[i].type.spec.inclusive===!1&&(!a||!e[i].isInSet(a.marks))&&(e=e[i--].removeFromSet(e));return e}sharedDepth(r){for(let o=this.depth;o>0;o--)if(this.start(o)<=r&&this.end(o)>=r)return o;return 0}blockRange(r=this,o){if(r.pos<this.pos)return r.blockRange(this);for(let e=this.depth-(this.parent.inlineContent||this.pos==r.pos?1:0);e>=0;e--)if(r.pos<=this.end(e)&&(!o||o(this.node(e))))return new Vi(this,r,e);return null}sameParent(r){return this.pos-this.parentOffset==r.pos-r.parentOffset}max(r){return r.pos>this.pos?r:this}min(r){return r.pos<this.pos?r:this}toString(){let r="";for(let o=1;o<=this.depth;o++)r+=(r?"/":"")+this.node(o).type.name+"_"+this.index(o-1);return r+":"+this.parentOffset}static resolve(r,o){if(!(o>=0&&o<=r.content.size))throw new RangeError("Position "+o+" out of range");let e=[],a=0,i=o;for(let n=r;;){let{index:l,offset:s}=n.content.findIndex(i),c=i-s;if(e.push(n,l,a+s),!c||(n=n.child(l),n.isText))break;i=c-1,a+=s+1}return new Ga(o,e,i)}static resolveCached(r,o){for(let a=0;a<Vn.length;a++){let i=Vn[a];if(i.pos==o&&i.doc==r)return i}let e=Vn[Hn]=Ga.resolve(r,o);return Hn=(Hn+1)%pb,e}}let Vn=[],Hn=0,pb=12;class Vi{constructor(r,o,e){this.$from=r,this.$to=o,this.depth=e}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const gb=Object.create(null);class co{constructor(r,o,e,a=Cr.none){this.type=r,this.attrs=o,this.marks=a,this.content=e||A.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(r){return this.content.child(r)}maybeChild(r){return this.content.maybeChild(r)}forEach(r){this.content.forEach(r)}nodesBetween(r,o,e,a=0){this.content.nodesBetween(r,o,e,a,this)}descendants(r){this.nodesBetween(0,this.content.size,r)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(r,o,e,a){return this.content.textBetween(r,o,e,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(r){return this==r||this.sameMarkup(r)&&this.content.eq(r.content)}sameMarkup(r){return this.hasMarkup(r.type,r.attrs,r.marks)}hasMarkup(r,o,e){return this.type==r&&Fi(this.attrs,o||r.defaultAttrs||gb)&&Cr.sameSet(this.marks,e||Cr.none)}copy(r=null){return r==this.content?this:new co(this.type,this.attrs,r,this.marks)}mark(r){return r==this.marks?this:new co(this.type,this.attrs,this.content,r)}cut(r,o=this.content.size){return r==0&&o==this.content.size?this:this.copy(this.content.cut(r,o))}slice(r,o=this.content.size,e=!1){if(r==o)return H.empty;let a=this.resolve(r),i=this.resolve(o),n=e?0:a.sharedDepth(o),l=a.start(n),c=a.node(n).content.cut(a.pos-l,i.pos-l);return new H(c,a.depth-n,i.depth-n)}replace(r,o,e){return cb(this.resolve(r),this.resolve(o),e)}nodeAt(r){for(let o=this;;){let{index:e,offset:a}=o.content.findIndex(r);if(o=o.maybeChild(e),!o)return null;if(a==r||o.isText)return o;r-=a+1}}childAfter(r){let{index:o,offset:e}=this.content.findIndex(r);return{node:this.content.maybeChild(o),index:o,offset:e}}childBefore(r){if(r==0)return{node:null,index:0,offset:0};let{index:o,offset:e}=this.content.findIndex(r);if(e<r)return{node:this.content.child(o),index:o,offset:e};let a=this.content.child(o-1);return{node:a,index:o-1,offset:e-a.nodeSize}}resolve(r){return Ga.resolveCached(this,r)}resolveNoCache(r){return Ga.resolve(this,r)}rangeHasMark(r,o,e){let a=!1;return o>r&&this.nodesBetween(r,o,i=>(e.isInSet(i.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let r=this.type.name;return this.content.size&&(r+="("+this.content.toStringInner()+")"),lu(this.marks,r)}contentMatchAt(r){let o=this.type.contentMatch.matchFragment(this.content,0,r);if(!o)throw new Error("Called contentMatchAt on a node with invalid content");return o}canReplace(r,o,e=A.empty,a=0,i=e.childCount){let n=this.contentMatchAt(r).matchFragment(e,a,i),l=n&&n.matchFragment(this.content,o);if(!l||!l.validEnd)return!1;for(let s=a;s<i;s++)if(!this.type.allowsMarks(e.child(s).marks))return!1;return!0}canReplaceWith(r,o,e,a){if(a&&!this.type.allowsMarks(a))return!1;let i=this.contentMatchAt(r).matchType(e),n=i&&i.matchFragment(this.content,o);return n?n.validEnd:!1}canAppend(r){return r.content.size?this.canReplace(this.childCount,this.childCount,r.content):this.type.compatibleContent(r.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let r=Cr.none;for(let o=0;o<this.marks.length;o++)r=this.marks[o].addToSet(r);if(!Cr.sameSet(r,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(o=>o.type.name)}`);this.content.forEach(o=>o.check())}toJSON(){let r={type:this.type.name};for(let o in this.attrs){r.attrs=this.attrs;break}return this.content.size&&(r.content=this.content.toJSON()),this.marks.length&&(r.marks=this.marks.map(o=>o.toJSON())),r}static fromJSON(r,o){if(!o)throw new RangeError("Invalid input for Node.fromJSON");let e=null;if(o.marks){if(!Array.isArray(o.marks))throw new RangeError("Invalid mark data for Node.fromJSON");e=o.marks.map(r.markFromJSON)}if(o.type=="text"){if(typeof o.text!="string")throw new RangeError("Invalid text node in JSON");return r.text(o.text,e)}let a=A.fromJSON(r,o.content);return r.nodeType(o.type).create(o.attrs,a,e)}}co.prototype.text=void 0;class Hi extends co{constructor(r,o,e,a){if(super(r,o,null,a),!e)throw new RangeError("Empty text nodes are not allowed");this.text=e}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):lu(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(r,o){return this.text.slice(r,o)}get nodeSize(){return this.text.length}mark(r){return r==this.marks?this:new Hi(this.type,this.attrs,this.text,r)}withText(r){return r==this.text?this:new Hi(this.type,this.attrs,r,this.marks)}cut(r=0,o=this.text.length){return r==0&&o==this.text.length?this:this.withText(this.text.slice(r,o))}eq(r){return this.sameMarkup(r)&&this.text==r.text}toJSON(){let r=super.toJSON();return r.text=this.text,r}}function lu(t,r){for(let o=t.length-1;o>=0;o--)r=t[o].type.name+"("+r+")";return r}class _e{constructor(r){this.validEnd=r,this.next=[],this.wrapCache=[]}static parse(r,o){let e=new ub(r,o);if(e.next==null)return _e.empty;let a=su(e);e.next&&e.err("Unexpected trailing text");let i=yb(xb(a));return wb(i,e),i}matchType(r){for(let o=0;o<this.next.length;o++)if(this.next[o].type==r)return this.next[o].next;return null}matchFragment(r,o=0,e=r.childCount){let a=this;for(let i=o;a&&i<e;i++)a=a.matchType(r.child(i).type);return a}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let r=0;r<this.next.length;r++){let{type:o}=this.next[r];if(!(o.isText||o.hasRequiredAttrs()))return o}return null}compatible(r){for(let o=0;o<this.next.length;o++)for(let e=0;e<r.next.length;e++)if(this.next[o].type==r.next[e].type)return!0;return!1}fillBefore(r,o=!1,e=0){let a=[this];function i(n,l){let s=n.matchFragment(r,e);if(s&&(!o||s.validEnd))return A.from(l.map(c=>c.createAndFill()));for(let c=0;c<n.next.length;c++){let{type:d,next:p}=n.next[c];if(!(d.isText||d.hasRequiredAttrs())&&a.indexOf(p)==-1){a.push(p);let g=i(p,l.concat(d));if(g)return g}}return null}return i(this,[])}findWrapping(r){for(let e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==r)return this.wrapCache[e+1];let o=this.computeWrapping(r);return this.wrapCache.push(r,o),o}computeWrapping(r){let o=Object.create(null),e=[{match:this,type:null,via:null}];for(;e.length;){let a=e.shift(),i=a.match;if(i.matchType(r)){let n=[];for(let l=a;l.type;l=l.via)n.push(l.type);return n.reverse()}for(let n=0;n<i.next.length;n++){let{type:l,next:s}=i.next[n];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in o)&&(!a.type||s.validEnd)&&(e.push({match:l.contentMatch,type:l,via:a}),o[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(r){if(r>=this.next.length)throw new RangeError(`There's no ${r}th edge in this content match`);return this.next[r]}toString(){let r=[];function o(e){r.push(e);for(let a=0;a<e.next.length;a++)r.indexOf(e.next[a].next)==-1&&o(e.next[a].next)}return o(this),r.map((e,a)=>{let i=a+(e.validEnd?"*":" ")+" ";for(let n=0;n<e.next.length;n++)i+=(n?", ":"")+e.next[n].type.name+"->"+r.indexOf(e.next[n].next);return i}).join(`
`)}}_e.empty=new _e(!0);class ub{constructor(r,o){this.string=r,this.nodeTypes=o,this.inline=null,this.pos=0,this.tokens=r.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(r){return this.next==r&&(this.pos++||!0)}err(r){throw new SyntaxError(r+" (in content expression '"+this.string+"')")}}function su(t){let r=[];do r.push(mb(t));while(t.eat("|"));return r.length==1?r[0]:{type:"choice",exprs:r}}function mb(t){let r=[];do r.push(hb(t));while(t.next&&t.next!=")"&&t.next!="|");return r.length==1?r[0]:{type:"seq",exprs:r}}function hb(t){let r=bb(t);for(;;)if(t.eat("+"))r={type:"plus",expr:r};else if(t.eat("*"))r={type:"star",expr:r};else if(t.eat("?"))r={type:"opt",expr:r};else if(t.eat("{"))r=fb(t,r);else break;return r}function wd(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let r=Number(t.next);return t.pos++,r}function fb(t,r){let o=wd(t),e=o;return t.eat(",")&&(t.next!="}"?e=wd(t):e=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:o,max:e,expr:r}}function vb(t,r){let o=t.nodeTypes,e=o[r];if(e)return[e];let a=[];for(let i in o){let n=o[i];n.groups.indexOf(r)>-1&&a.push(n)}return a.length==0&&t.err("No node type or group '"+r+"' found"),a}function bb(t){if(t.eat("(")){let r=su(t);return t.eat(")")||t.err("Missing closing paren"),r}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let r=vb(t,t.next).map(o=>(t.inline==null?t.inline=o.isInline:t.inline!=o.isInline&&t.err("Mixing inline and block content"),{type:"name",value:o}));return t.pos++,r.length==1?r[0]:{type:"choice",exprs:r}}}function xb(t){let r=[[]];return a(i(t,0),o()),r;function o(){return r.push([])-1}function e(n,l,s){let c={term:s,to:l};return r[n].push(c),c}function a(n,l){n.forEach(s=>s.to=l)}function i(n,l){if(n.type=="choice")return n.exprs.reduce((s,c)=>s.concat(i(c,l)),[]);if(n.type=="seq")for(let s=0;;s++){let c=i(n.exprs[s],l);if(s==n.exprs.length-1)return c;a(c,l=o())}else if(n.type=="star"){let s=o();return e(l,s),a(i(n.expr,s),s),[e(s)]}else if(n.type=="plus"){let s=o();return a(i(n.expr,l),s),a(i(n.expr,s),s),[e(s)]}else{if(n.type=="opt")return[e(l)].concat(i(n.expr,l));if(n.type=="range"){let s=l;for(let c=0;c<n.min;c++){let d=o();a(i(n.expr,s),d),s=d}if(n.max==-1)a(i(n.expr,s),s);else for(let c=n.min;c<n.max;c++){let d=o();e(s,d),a(i(n.expr,s),d),s=d}return[e(s)]}else{if(n.type=="name")return[e(l,void 0,n.value)];throw new Error("Unknown expr type")}}}}function cu(t,r){return r-t}function kd(t,r){let o=[];return e(r),o.sort(cu);function e(a){let i=t[a];if(i.length==1&&!i[0].term)return e(i[0].to);o.push(a);for(let n=0;n<i.length;n++){let{term:l,to:s}=i[n];!l&&o.indexOf(s)==-1&&e(s)}}}function yb(t){let r=Object.create(null);return o(kd(t,0));function o(e){let a=[];e.forEach(n=>{t[n].forEach(({term:l,to:s})=>{if(!l)return;let c;for(let d=0;d<a.length;d++)a[d][0]==l&&(c=a[d][1]);kd(t,s).forEach(d=>{c||a.push([l,c=[]]),c.indexOf(d)==-1&&c.push(d)})})});let i=r[e.join(",")]=new _e(e.indexOf(t.length-1)>-1);for(let n=0;n<a.length;n++){let l=a[n][1].sort(cu);i.next.push({type:a[n][0],next:r[l.join(",")]||o(l)})}return i}}function wb(t,r){for(let o=0,e=[t];o<e.length;o++){let a=e[o],i=!a.validEnd,n=[];for(let l=0;l<a.next.length;l++){let{type:s,next:c}=a.next[l];n.push(s.name),i&&!(s.isText||s.hasRequiredAttrs())&&(i=!1),e.indexOf(c)==-1&&e.push(c)}i&&r.err("Only non-generatable nodes ("+n.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function du(t){let r=Object.create(null);for(let o in t){let e=t[o];if(!e.hasDefault)return null;r[o]=e.default}return r}function pu(t,r){let o=Object.create(null);for(let e in t){let a=r&&r[e];if(a===void 0){let i=t[e];if(i.hasDefault)a=i.default;else throw new RangeError("No value supplied for attribute "+e)}o[e]=a}return o}function gu(t){let r=Object.create(null);if(t)for(let o in t)r[o]=new kb(t[o]);return r}class Wi{constructor(r,o,e){this.name=r,this.schema=o,this.spec=e,this.markSet=null,this.groups=e.group?e.group.split(" "):[],this.attrs=gu(e.attrs),this.defaultAttrs=du(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(e.inline||r=="text"),this.isText=r=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==_e.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let r in this.attrs)if(this.attrs[r].isRequired)return!0;return!1}compatibleContent(r){return this==r||this.contentMatch.compatible(r.contentMatch)}computeAttrs(r){return!r&&this.defaultAttrs?this.defaultAttrs:pu(this.attrs,r)}create(r=null,o,e){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new co(this,this.computeAttrs(r),A.from(o),Cr.setFrom(e))}createChecked(r=null,o,e){if(o=A.from(o),!this.validContent(o))throw new RangeError("Invalid content for node "+this.name);return new co(this,this.computeAttrs(r),o,Cr.setFrom(e))}createAndFill(r=null,o,e){if(r=this.computeAttrs(r),o=A.from(o),o.size){let n=this.contentMatch.fillBefore(o);if(!n)return null;o=n.append(o)}let a=this.contentMatch.matchFragment(o),i=a&&a.fillBefore(A.empty,!0);return i?new co(this,r,o.append(i),Cr.setFrom(e)):null}validContent(r){let o=this.contentMatch.matchFragment(r);if(!o||!o.validEnd)return!1;for(let e=0;e<r.childCount;e++)if(!this.allowsMarks(r.child(e).marks))return!1;return!0}allowsMarkType(r){return this.markSet==null||this.markSet.indexOf(r)>-1}allowsMarks(r){if(this.markSet==null)return!0;for(let o=0;o<r.length;o++)if(!this.allowsMarkType(r[o].type))return!1;return!0}allowedMarks(r){if(this.markSet==null)return r;let o;for(let e=0;e<r.length;e++)this.allowsMarkType(r[e].type)?o&&o.push(r[e]):o||(o=r.slice(0,e));return o?o.length?o:Cr.none:r}static compile(r,o){let e=Object.create(null);r.forEach((i,n)=>e[i]=new Wi(i,o,n));let a=o.spec.topNode||"doc";if(!e[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!e.text)throw new RangeError("Every schema needs a 'text' type");for(let i in e.text.attrs)throw new RangeError("The text node type should not have attributes");return e}}class kb{constructor(r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default}get isRequired(){return!this.hasDefault}}class vn{constructor(r,o,e,a){this.name=r,this.rank=o,this.schema=e,this.spec=a,this.attrs=gu(a.attrs),this.excluded=null;let i=du(this.attrs);this.instance=i?new Cr(this,i):null}create(r=null){return!r&&this.instance?this.instance:new Cr(this,pu(this.attrs,r))}static compile(r,o){let e=Object.create(null),a=0;return r.forEach((i,n)=>e[i]=new vn(i,a++,o,n)),e}removeFromSet(r){for(var o=0;o<r.length;o++)r[o].type==this&&(r=r.slice(0,o).concat(r.slice(o+1)),o--);return r}isInSet(r){for(let o=0;o<r.length;o++)if(r[o].type==this)return r[o]}excludes(r){return this.excluded.indexOf(r)>-1}}class _b{constructor(r){this.cached=Object.create(null),this.spec={nodes:qr.from(r.nodes),marks:qr.from(r.marks||{}),topNode:r.topNode},this.nodes=Wi.compile(this.spec.nodes,this),this.marks=vn.compile(this.spec.marks,this);let o=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let a=this.nodes[e],i=a.spec.content||"",n=a.spec.marks;a.contentMatch=o[i]||(o[i]=_e.parse(i,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.markSet=n=="_"?null:n?_d(this,n.split(" ")):n==""||!a.inlineContent?[]:null}for(let e in this.marks){let a=this.marks[e],i=a.spec.excludes;a.excluded=i==null?[a]:i==""?[]:_d(this,i.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(r,o=null,e,a){if(typeof r=="string")r=this.nodeType(r);else if(r instanceof Wi){if(r.schema!=this)throw new RangeError("Node type from different schema used ("+r.name+")")}else throw new RangeError("Invalid node type: "+r);return r.createChecked(o,e,a)}text(r,o){let e=this.nodes.text;return new Hi(e,e.defaultAttrs,r,Cr.setFrom(o))}mark(r,o){return typeof r=="string"&&(r=this.marks[r]),r.create(o)}nodeFromJSON(r){return co.fromJSON(this,r)}markFromJSON(r){return Cr.fromJSON(this,r)}nodeType(r){let o=this.nodes[r];if(!o)throw new RangeError("Unknown node type: "+r);return o}}function _d(t,r){let o=[];for(let e=0;e<r.length;e++){let a=r[e],i=t.marks[a],n=i;if(i)o.push(i);else for(let l in t.marks){let s=t.marks[l];(a=="_"||s.spec.group&&s.spec.group.split(" ").indexOf(a)>-1)&&o.push(n=s)}if(!n)throw new SyntaxError("Unknown mark type: '"+r[e]+"'")}return o}class ze{constructor(r,o){this.schema=r,this.rules=o,this.tags=[],this.styles=[],o.forEach(e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)}),this.normalizeLists=!this.tags.some(e=>{if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;let a=r.nodes[e.node];return a.contentMatch.matchType(a)})}parse(r,o={}){let e=new Sd(this,o,!1);return e.addAll(r,o.from,o.to),e.finish()}parseSlice(r,o={}){let e=new Sd(this,o,!0);return e.addAll(r,o.from,o.to),H.maxOpen(e.finish())}matchTag(r,o,e){for(let a=e?this.tags.indexOf(e)+1:0;a<this.tags.length;a++){let i=this.tags[a];if($b(r,i.tag)&&(i.namespace===void 0||r.namespaceURI==i.namespace)&&(!i.context||o.matchesContext(i.context))){if(i.getAttrs){let n=i.getAttrs(r);if(n===!1)continue;i.attrs=n||void 0}return i}}}matchStyle(r,o,e,a){for(let i=a?this.styles.indexOf(a)+1:0;i<this.styles.length;i++){let n=this.styles[i],l=n.style;if(!(l.indexOf(r)!=0||n.context&&!e.matchesContext(n.context)||l.length>r.length&&(l.charCodeAt(r.length)!=61||l.slice(r.length+1)!=o))){if(n.getAttrs){let s=n.getAttrs(o);if(s===!1)continue;n.attrs=s||void 0}return n}}}static schemaRules(r){let o=[];function e(a){let i=a.priority==null?50:a.priority,n=0;for(;n<o.length;n++){let l=o[n];if((l.priority==null?50:l.priority)<i)break}o.splice(n,0,a)}for(let a in r.marks){let i=r.marks[a].spec.parseDOM;i&&i.forEach(n=>{e(n=$d(n)),n.mark=a})}for(let a in r.nodes){let i=r.nodes[a].spec.parseDOM;i&&i.forEach(n=>{e(n=$d(n)),n.node=a})}return o}static fromSchema(r){return r.cached.domParser||(r.cached.domParser=new ze(r,ze.schemaRules(r)))}}const uu={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},zb={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},mu={ol:!0,ul:!0},Ki=1,qi=2,Da=4;function zd(t,r,o){return r!=null?(r?Ki:0)|(r==="full"?qi:0):t&&t.whitespace=="pre"?Ki|qi:o&~Da}class yi{constructor(r,o,e,a,i,n,l){this.type=r,this.attrs=o,this.marks=e,this.pendingMarks=a,this.solid=i,this.options=l,this.content=[],this.activeMarks=Cr.none,this.stashMarks=[],this.match=n||(l&Da?null:r.contentMatch)}findWrapping(r){if(!this.match){if(!this.type)return[];let o=this.type.contentMatch.fillBefore(A.from(r));if(o)this.match=this.type.contentMatch.matchFragment(o);else{let e=this.type.contentMatch,a;return(a=e.findWrapping(r.type))?(this.match=e,a):null}}return this.match.findWrapping(r.type)}finish(r){if(!(this.options&Ki)){let e=this.content[this.content.length-1],a;if(e&&e.isText&&(a=/[ \t\r\n\u000c]+$/.exec(e.text))){let i=e;e.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-a[0].length))}}let o=A.from(this.content);return!r&&this.match&&(o=o.append(this.match.fillBefore(A.empty,!0))),this.type?this.type.create(this.attrs,o,this.marks):o}popFromStashMark(r){for(let o=this.stashMarks.length-1;o>=0;o--)if(r.eq(this.stashMarks[o]))return this.stashMarks.splice(o,1)[0]}applyPending(r){for(let o=0,e=this.pendingMarks;o<e.length;o++){let a=e[o];(this.type?this.type.allowsMarkType(a.type):Ob(a.type,r))&&!a.isInSet(this.activeMarks)&&(this.activeMarks=a.addToSet(this.activeMarks),this.pendingMarks=a.removeFromSet(this.pendingMarks))}}inlineContext(r){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:r.parentNode&&!uu.hasOwnProperty(r.parentNode.nodeName.toLowerCase())}}class Sd{constructor(r,o,e){this.parser=r,this.options=o,this.isOpen=e,this.open=0;let a=o.topNode,i,n=zd(null,o.preserveWhitespace,0)|(e?Da:0);a?i=new yi(a.type,a.attrs,Cr.none,Cr.none,!0,o.topMatch||a.type.contentMatch,n):e?i=new yi(null,null,Cr.none,Cr.none,!0,null,n):i=new yi(r.schema.topNodeType,null,Cr.none,Cr.none,!0,null,n),this.nodes=[i],this.find=o.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(r){if(r.nodeType==3)this.addTextNode(r);else if(r.nodeType==1){let o=r.getAttribute("style"),e=o?this.readStyles(Cb(o)):null,a=this.top;if(e!=null)for(let i=0;i<e.length;i++)this.addPendingMark(e[i]);if(this.addElement(r),e!=null)for(let i=0;i<e.length;i++)this.removePendingMark(e[i],a)}}addTextNode(r){let o=r.nodeValue,e=this.top;if(e.options&qi||e.inlineContext(r)||/[^ \t\r\n\u000c]/.test(o)){if(e.options&Ki)e.options&qi?o=o.replace(/\r\n?/g,`
`):o=o.replace(/\r?\n|\r/g," ");else if(o=o.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(o)&&this.open==this.nodes.length-1){let a=e.content[e.content.length-1],i=r.previousSibling;(!a||i&&i.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(o=o.slice(1))}o&&this.insertNode(this.parser.schema.text(o)),this.findInText(r)}else this.findInside(r)}addElement(r,o){let e=r.nodeName.toLowerCase(),a;mu.hasOwnProperty(e)&&this.parser.normalizeLists&&Sb(r);let i=this.options.ruleFromNode&&this.options.ruleFromNode(r)||(a=this.parser.matchTag(r,this,o));if(i?i.ignore:zb.hasOwnProperty(e))this.findInside(r),this.ignoreFallback(r);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(r=i.skip);let n,l=this.top,s=this.needsBlock;if(uu.hasOwnProperty(e))n=!0,l.type||(this.needsBlock=!0);else if(!r.firstChild){this.leafFallback(r);return}this.addAll(r),n&&this.sync(l),this.needsBlock=s}else this.addElementByRule(r,i,i.consuming===!1?a:void 0)}leafFallback(r){r.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(r.ownerDocument.createTextNode(`
`))}ignoreFallback(r){r.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(r){let o=Cr.none;r:for(let e=0;e<r.length;e+=2)for(let a=void 0;;){let i=this.parser.matchStyle(r[e],r[e+1],this,a);if(!i)continue r;if(i.ignore)return null;if(o=this.parser.schema.marks[i.mark].create(i.attrs).addToSet(o),i.consuming===!1)a=i;else break}return o}addElementByRule(r,o,e){let a,i,n;o.node?(i=this.parser.schema.nodes[o.node],i.isLeaf?this.insertNode(i.create(o.attrs))||this.leafFallback(r):a=this.enter(i,o.attrs||null,o.preserveWhitespace)):(n=this.parser.schema.marks[o.mark].create(o.attrs),this.addPendingMark(n));let l=this.top;if(i&&i.isLeaf)this.findInside(r);else if(e)this.addElement(r,e);else if(o.getContent)this.findInside(r),o.getContent(r,this.parser.schema).forEach(s=>this.insertNode(s));else{let s=r;typeof o.contentElement=="string"?s=r.querySelector(o.contentElement):typeof o.contentElement=="function"?s=o.contentElement(r):o.contentElement&&(s=o.contentElement),this.findAround(r,s,!0),this.addAll(s)}a&&this.sync(l)&&this.open--,n&&this.removePendingMark(n,l)}addAll(r,o,e){let a=o||0;for(let i=o?r.childNodes[o]:r.firstChild,n=e==null?null:r.childNodes[e];i!=n;i=i.nextSibling,++a)this.findAtPoint(r,a),this.addDOM(i);this.findAtPoint(r,a)}findPlace(r){let o,e;for(let a=this.open;a>=0;a--){let i=this.nodes[a],n=i.findWrapping(r);if(n&&(!o||o.length>n.length)&&(o=n,e=i,!n.length)||i.solid)break}if(!o)return!1;this.sync(e);for(let a=0;a<o.length;a++)this.enterInner(o[a],null,!1);return!0}insertNode(r){if(r.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&this.enterInner(o)}if(this.findPlace(r)){this.closeExtra();let o=this.top;o.applyPending(r.type),o.match&&(o.match=o.match.matchType(r.type));let e=o.activeMarks;for(let a=0;a<r.marks.length;a++)(!o.type||o.type.allowsMarkType(r.marks[a].type))&&(e=r.marks[a].addToSet(e));return o.content.push(r.mark(e)),!0}return!1}enter(r,o,e){let a=this.findPlace(r.create(o));return a&&this.enterInner(r,o,!0,e),a}enterInner(r,o=null,e=!1,a){this.closeExtra();let i=this.top;i.applyPending(r),i.match=i.match&&i.match.matchType(r);let n=zd(r,a,i.options);i.options&Da&&i.content.length==0&&(n|=Da),this.nodes.push(new yi(r,o,i.activeMarks,i.pendingMarks,e,null,n)),this.open++}closeExtra(r=!1){let o=this.nodes.length-1;if(o>this.open){for(;o>this.open;o--)this.nodes[o-1].content.push(this.nodes[o].finish(r));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(r){for(let o=this.open;o>=0;o--)if(this.nodes[o]==r)return this.open=o,!0;return!1}get currentPos(){this.closeExtra();let r=0;for(let o=this.open;o>=0;o--){let e=this.nodes[o].content;for(let a=e.length-1;a>=0;a--)r+=e[a].nodeSize;o&&r++}return r}findAtPoint(r,o){if(this.find)for(let e=0;e<this.find.length;e++)this.find[e].node==r&&this.find[e].offset==o&&(this.find[e].pos=this.currentPos)}findInside(r){if(this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&r.nodeType==1&&r.contains(this.find[o].node)&&(this.find[o].pos=this.currentPos)}findAround(r,o,e){if(r!=o&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&r.nodeType==1&&r.contains(this.find[a].node)&&o.compareDocumentPosition(this.find[a].node)&(e?2:4)&&(this.find[a].pos=this.currentPos)}findInText(r){if(this.find)for(let o=0;o<this.find.length;o++)this.find[o].node==r&&(this.find[o].pos=this.currentPos-(r.nodeValue.length-this.find[o].offset))}matchesContext(r){if(r.indexOf("|")>-1)return r.split(/\s*\|\s*/).some(this.matchesContext,this);let o=r.split("/"),e=this.options.context,a=!this.isOpen&&(!e||e.parent.type==this.nodes[0].type),i=-(e?e.depth+1:0)+(a?0:1),n=(l,s)=>{for(;l>=0;l--){let c=o[l];if(c==""){if(l==o.length-1||l==0)continue;for(;s>=i;s--)if(n(l-1,s))return!0;return!1}else{let d=s>0||s==0&&a?this.nodes[s].type:e&&s>=i?e.node(s-i).type:null;if(!d||d.name!=c&&d.groups.indexOf(c)==-1)return!1;s--}}return!0};return n(o.length-1,this.open)}textblockFromContext(){let r=this.options.context;if(r)for(let o=r.depth;o>=0;o--){let e=r.node(o).contentMatchAt(r.indexAfter(o)).defaultType;if(e&&e.isTextblock&&e.defaultAttrs)return e}for(let o in this.parser.schema.nodes){let e=this.parser.schema.nodes[o];if(e.isTextblock&&e.defaultAttrs)return e}}addPendingMark(r){let o=Mb(r,this.top.pendingMarks);o&&this.top.stashMarks.push(o),this.top.pendingMarks=r.addToSet(this.top.pendingMarks)}removePendingMark(r,o){for(let e=this.open;e>=0;e--){let a=this.nodes[e];if(a.pendingMarks.lastIndexOf(r)>-1)a.pendingMarks=r.removeFromSet(a.pendingMarks);else{a.activeMarks=r.removeFromSet(a.activeMarks);let n=a.popFromStashMark(r);n&&a.type&&a.type.allowsMarkType(n.type)&&(a.activeMarks=n.addToSet(a.activeMarks))}if(a==o)break}}}function Sb(t){for(let r=t.firstChild,o=null;r;r=r.nextSibling){let e=r.nodeType==1?r.nodeName.toLowerCase():null;e&&mu.hasOwnProperty(e)&&o?(o.appendChild(r),r=o):e=="li"?o=r:e&&(o=null)}}function $b(t,r){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,r)}function Cb(t){let r=/\s*([\w-]+)\s*:\s*([^;]+)/g,o,e=[];for(;o=r.exec(t);)e.push(o[1],o[2].trim());return e}function $d(t){let r={};for(let o in t)r[o]=t[o];return r}function Ob(t,r){let o=r.schema.nodes;for(let e in o){let a=o[e];if(!a.allowsMarkType(t))continue;let i=[],n=l=>{i.push(l);for(let s=0;s<l.edgeCount;s++){let{type:c,next:d}=l.edge(s);if(c==r||i.indexOf(d)<0&&n(d))return!0}};if(n(a.contentMatch))return!0}}function Mb(t,r){for(let o=0;o<r.length;o++)if(t.eq(r[o]))return r[o]}class no{constructor(r,o){this.nodes=r,this.marks=o}serializeFragment(r,o={},e){e||(e=Wn(o).createDocumentFragment());let a=e,i=[];return r.forEach(n=>{if(i.length||n.marks.length){let l=0,s=0;for(;l<i.length&&s<n.marks.length;){let c=n.marks[s];if(!this.marks[c.type.name]){s++;continue}if(!c.eq(i[l][0])||c.type.spec.spanning===!1)break;l++,s++}for(;l<i.length;)a=i.pop()[1];for(;s<n.marks.length;){let c=n.marks[s++],d=this.serializeMark(c,n.isInline,o);d&&(i.push([c,a]),a.appendChild(d.dom),a=d.contentDOM||d.dom)}}a.appendChild(this.serializeNodeInner(n,o))}),e}serializeNodeInner(r,o){let{dom:e,contentDOM:a}=no.renderSpec(Wn(o),this.nodes[r.type.name](r));if(a){if(r.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(r.content,o,a)}return e}serializeNode(r,o={}){let e=this.serializeNodeInner(r,o);for(let a=r.marks.length-1;a>=0;a--){let i=this.serializeMark(r.marks[a],r.isInline,o);i&&((i.contentDOM||i.dom).appendChild(e),e=i.dom)}return e}serializeMark(r,o,e={}){let a=this.marks[r.type.name];return a&&no.renderSpec(Wn(e),a(r,o))}static renderSpec(r,o,e=null){if(typeof o=="string")return{dom:r.createTextNode(o)};if(o.nodeType!=null)return{dom:o};if(o.dom&&o.dom.nodeType!=null)return o;let a=o[0],i=a.indexOf(" ");i>0&&(e=a.slice(0,i),a=a.slice(i+1));let n,l=e?r.createElementNS(e,a):r.createElement(a),s=o[1],c=1;if(s&&typeof s=="object"&&s.nodeType==null&&!Array.isArray(s)){c=2;for(let d in s)if(s[d]!=null){let p=d.indexOf(" ");p>0?l.setAttributeNS(d.slice(0,p),d.slice(p+1),s[d]):l.setAttribute(d,s[d])}}for(let d=c;d<o.length;d++){let p=o[d];if(p===0){if(d<o.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:g,contentDOM:u}=no.renderSpec(r,p,e);if(l.appendChild(g),u){if(n)throw new RangeError("Multiple content holes");n=u}}}return{dom:l,contentDOM:n}}static fromSchema(r){return r.cached.domSerializer||(r.cached.domSerializer=new no(this.nodesFromSchema(r),this.marksFromSchema(r)))}static nodesFromSchema(r){let o=Cd(r.nodes);return o.text||(o.text=e=>e.text),o}static marksFromSchema(r){return Cd(r.marks)}}function Cd(t){let r={};for(let o in t){let e=t[o].spec.toDOM;e&&(r[o]=e)}return r}function Wn(t){return t.document||window.document}const hu=65535,fu=Math.pow(2,16);function Tb(t,r){return t+r*fu}function Od(t){return t&hu}function Eb(t){return(t-(t&hu))/fu}const vu=1,bu=2,Mi=4,xu=8;class ds{constructor(r,o,e){this.pos=r,this.delInfo=o,this.recover=e}get deleted(){return(this.delInfo&xu)>0}get deletedBefore(){return(this.delInfo&(vu|Mi))>0}get deletedAfter(){return(this.delInfo&(bu|Mi))>0}get deletedAcross(){return(this.delInfo&Mi)>0}}class Wt{constructor(r,o=!1){if(this.ranges=r,this.inverted=o,!r.length&&Wt.empty)return Wt.empty}recover(r){let o=0,e=Od(r);if(!this.inverted)for(let a=0;a<e;a++)o+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[e*3]+o+Eb(r)}mapResult(r,o=1){return this._map(r,o,!1)}map(r,o=1){return this._map(r,o,!0)}_map(r,o,e){let a=0,i=this.inverted?2:1,n=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let s=this.ranges[l]-(this.inverted?a:0);if(s>r)break;let c=this.ranges[l+i],d=this.ranges[l+n],p=s+c;if(r<=p){let g=c?r==s?-1:r==p?1:o:o,u=s+a+(g<0?0:d);if(e)return u;let m=r==(o<0?s:p)?null:Tb(l/3,r-s),h=r==s?bu:r==p?vu:Mi;return(o<0?r!=s:r!=p)&&(h|=xu),new ds(u,h,m)}a+=d-c}return e?r+a:new ds(r+a,0,null)}touches(r,o){let e=0,a=Od(o),i=this.inverted?2:1,n=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let s=this.ranges[l]-(this.inverted?e:0);if(s>r)break;let c=this.ranges[l+i],d=s+c;if(r<=d&&l==a*3)return!0;e+=this.ranges[l+n]-c}return!1}forEach(r){let o=this.inverted?2:1,e=this.inverted?1:2;for(let a=0,i=0;a<this.ranges.length;a+=3){let n=this.ranges[a],l=n-(this.inverted?i:0),s=n+(this.inverted?0:i),c=this.ranges[a+o],d=this.ranges[a+e];r(l,l+c,s,s+d),i+=d-c}}invert(){return new Wt(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(r){return r==0?Wt.empty:new Wt(r<0?[0,-r,0]:[0,0,r])}}Wt.empty=new Wt([]);class Ke{constructor(r=[],o,e=0,a=r.length){this.maps=r,this.mirror=o,this.from=e,this.to=a}slice(r=0,o=this.maps.length){return new Ke(this.maps,this.mirror,r,o)}copy(){return new Ke(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(r,o){this.to=this.maps.push(r),o!=null&&this.setMirror(this.maps.length-1,o)}appendMapping(r){for(let o=0,e=this.maps.length;o<r.maps.length;o++){let a=r.getMirror(o);this.appendMap(r.maps[o],a!=null&&a<o?e+a:void 0)}}getMirror(r){if(this.mirror){for(let o=0;o<this.mirror.length;o++)if(this.mirror[o]==r)return this.mirror[o+(o%2?-1:1)]}}setMirror(r,o){this.mirror||(this.mirror=[]),this.mirror.push(r,o)}appendMappingInverted(r){for(let o=r.maps.length-1,e=this.maps.length+r.maps.length;o>=0;o--){let a=r.getMirror(o);this.appendMap(r.maps[o].invert(),a!=null&&a>o?e-a-1:void 0)}}invert(){let r=new Ke;return r.appendMappingInverted(this),r}map(r,o=1){if(this.mirror)return this._map(r,o,!0);for(let e=this.from;e<this.to;e++)r=this.maps[e].map(r,o);return r}mapResult(r,o=1){return this._map(r,o,!1)}_map(r,o,e){let a=0;for(let i=this.from;i<this.to;i++){let n=this.maps[i],l=n.mapResult(r,o);if(l.recover!=null){let s=this.getMirror(i);if(s!=null&&s>i&&s<this.to){i=s,r=this.maps[s].recover(l.recover);continue}}a|=l.delInfo,r=l.pos}return e?r:new ds(r,a,null)}}const Kn=Object.create(null);class Qo{getMap(){return Wt.empty}merge(r){return null}static fromJSON(r,o){if(!o||!o.stepType)throw new RangeError("Invalid input for Step.fromJSON");let e=Kn[o.stepType];if(!e)throw new RangeError(`No step type ${o.stepType} defined`);return e.fromJSON(r,o)}static jsonID(r,o){if(r in Kn)throw new RangeError("Duplicate use of step JSON ID "+r);return Kn[r]=o,o.prototype.jsonID=r,o}}class Ct{constructor(r,o){this.doc=r,this.failed=o}static ok(r){return new Ct(r,null)}static fail(r){return new Ct(null,r)}static fromReplace(r,o,e,a){try{return Ct.ok(r.replace(o,e,a))}catch(i){if(i instanceof Ja)return Ct.fail(i.message);throw i}}}function ec(t,r,o){let e=[];for(let a=0;a<t.childCount;a++){let i=t.child(a);i.content.size&&(i=i.copy(ec(i.content,r,i))),i.isInline&&(i=r(i,o,a)),e.push(i)}return A.fromArray(e)}class jo extends Qo{constructor(r,o,e){super(),this.from=r,this.to=o,this.mark=e}apply(r){let o=r.slice(this.from,this.to),e=r.resolve(this.from),a=e.node(e.sharedDepth(this.to)),i=new H(ec(o.content,(n,l)=>!n.isAtom||!l.type.allowsMarkType(this.mark.type)?n:n.mark(this.mark.addToSet(n.marks)),a),o.openStart,o.openEnd);return Ct.fromReplace(r,this.from,this.to,i)}invert(){return new lo(this.from,this.to,this.mark)}map(r){let o=r.mapResult(this.from,1),e=r.mapResult(this.to,-1);return o.deleted&&e.deleted||o.pos>=e.pos?null:new jo(o.pos,e.pos,this.mark)}merge(r){return r instanceof jo&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from?new jo(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new jo(o.from,o.to,r.markFromJSON(o.mark))}}Qo.jsonID("addMark",jo);class lo extends Qo{constructor(r,o,e){super(),this.from=r,this.to=o,this.mark=e}apply(r){let o=r.slice(this.from,this.to),e=new H(ec(o.content,a=>a.mark(this.mark.removeFromSet(a.marks)),r),o.openStart,o.openEnd);return Ct.fromReplace(r,this.from,this.to,e)}invert(){return new jo(this.from,this.to,this.mark)}map(r){let o=r.mapResult(this.from,1),e=r.mapResult(this.to,-1);return o.deleted&&e.deleted||o.pos>=e.pos?null:new lo(o.pos,e.pos,this.mark)}merge(r){return r instanceof lo&&r.mark.eq(this.mark)&&this.from<=r.to&&this.to>=r.from?new lo(Math.min(this.from,r.from),Math.max(this.to,r.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new lo(o.from,o.to,r.markFromJSON(o.mark))}}Qo.jsonID("removeMark",lo);class ot extends Qo{constructor(r,o,e,a=!1){super(),this.from=r,this.to=o,this.slice=e,this.structure=a}apply(r){return this.structure&&ps(r,this.from,this.to)?Ct.fail("Structure replace would overwrite content"):Ct.fromReplace(r,this.from,this.to,this.slice)}getMap(){return new Wt([this.from,this.to-this.from,this.slice.size])}invert(r){return new ot(this.from,this.from+this.slice.size,r.slice(this.from,this.to))}map(r){let o=r.mapResult(this.from,1),e=r.mapResult(this.to,-1);return o.deletedAcross&&e.deletedAcross?null:new ot(o.pos,Math.max(o.pos,e.pos),this.slice)}merge(r){if(!(r instanceof ot)||r.structure||this.structure)return null;if(this.from+this.slice.size==r.from&&!this.slice.openEnd&&!r.slice.openStart){let o=this.slice.size+r.slice.size==0?H.empty:new H(this.slice.content.append(r.slice.content),this.slice.openStart,r.slice.openEnd);return new ot(this.from,this.to+(r.to-r.from),o,this.structure)}else if(r.to==this.from&&!this.slice.openStart&&!r.slice.openEnd){let o=this.slice.size+r.slice.size==0?H.empty:new H(r.slice.content.append(this.slice.content),r.slice.openStart,this.slice.openEnd);return new ot(r.from,this.to,o,this.structure)}else return null}toJSON(){let r={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r}static fromJSON(r,o){if(typeof o.from!="number"||typeof o.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ot(o.from,o.to,H.fromJSON(r,o.slice),!!o.structure)}}Qo.jsonID("replace",ot);class Vr extends Qo{constructor(r,o,e,a,i,n,l=!1){super(),this.from=r,this.to=o,this.gapFrom=e,this.gapTo=a,this.slice=i,this.insert=n,this.structure=l}apply(r){if(this.structure&&(ps(r,this.from,this.gapFrom)||ps(r,this.gapTo,this.to)))return Ct.fail("Structure gap-replace would overwrite content");let o=r.slice(this.gapFrom,this.gapTo);if(o.openStart||o.openEnd)return Ct.fail("Gap is not a flat range");let e=this.slice.insertAt(this.insert,o.content);return e?Ct.fromReplace(r,this.from,this.to,e):Ct.fail("Content does not fit in gap")}getMap(){return new Wt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(r){let o=this.gapTo-this.gapFrom;return new Vr(this.from,this.from+this.slice.size+o,this.from+this.insert,this.from+this.insert+o,r.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(r){let o=r.mapResult(this.from,1),e=r.mapResult(this.to,-1),a=r.map(this.gapFrom,-1),i=r.map(this.gapTo,1);return o.deletedAcross&&e.deletedAcross||a<o.pos||i>e.pos?null:new Vr(o.pos,e.pos,a,i,this.slice,this.insert,this.structure)}toJSON(){let r={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(r.slice=this.slice.toJSON()),this.structure&&(r.structure=!0),r}static fromJSON(r,o){if(typeof o.from!="number"||typeof o.to!="number"||typeof o.gapFrom!="number"||typeof o.gapTo!="number"||typeof o.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Vr(o.from,o.to,o.gapFrom,o.gapTo,H.fromJSON(r,o.slice),o.insert,!!o.structure)}}Qo.jsonID("replaceAround",Vr);function ps(t,r,o){let e=t.resolve(r),a=o-r,i=e.depth;for(;a>0&&i>0&&e.indexAfter(i)==e.node(i).childCount;)i--,a--;if(a>0){let n=e.node(i).maybeChild(e.indexAfter(i));for(;a>0;){if(!n||n.isLeaf)return!0;n=n.firstChild,a--}}return!1}function Ib(t,r,o,e){let a=[],i=[],n,l;t.doc.nodesBetween(r,o,(s,c,d)=>{if(!s.isInline)return;let p=s.marks;if(!e.isInSet(p)&&d.type.allowsMarkType(e.type)){let g=Math.max(c,r),u=Math.min(c+s.nodeSize,o),m=e.addToSet(p);for(let h=0;h<p.length;h++)p[h].isInSet(m)||(n&&n.to==g&&n.mark.eq(p[h])?n.to=u:a.push(n=new lo(g,u,p[h])));l&&l.to==g?l.to=u:i.push(l=new jo(g,u,e))}}),a.forEach(s=>t.step(s)),i.forEach(s=>t.step(s))}function Ab(t,r,o,e){let a=[],i=0;t.doc.nodesBetween(r,o,(n,l)=>{if(!n.isInline)return;i++;let s=null;if(e instanceof vn){let c=n.marks,d;for(;d=e.isInSet(c);)(s||(s=[])).push(d),c=d.removeFromSet(c)}else e?e.isInSet(n.marks)&&(s=[e]):s=n.marks;if(s&&s.length){let c=Math.min(l+n.nodeSize,o);for(let d=0;d<s.length;d++){let p=s[d],g;for(let u=0;u<a.length;u++){let m=a[u];m.step==i-1&&p.eq(a[u].style)&&(g=m)}g?(g.to=c,g.step=i):a.push({style:p,from:Math.max(l,r),to:c,step:i})}}}),a.forEach(n=>t.step(new lo(n.from,n.to,n.style)))}function Nb(t,r,o,e=o.contentMatch){let a=t.doc.nodeAt(r),i=[],n=r+1;for(let l=0;l<a.childCount;l++){let s=a.child(l),c=n+s.nodeSize,d=e.matchType(s.type);if(!d)i.push(new ot(n,c,H.empty));else{e=d;for(let p=0;p<s.marks.length;p++)o.allowsMarkType(s.marks[p].type)||t.step(new lo(n,c,s.marks[p]))}n=c}if(!e.validEnd){let l=e.fillBefore(A.empty,!0);t.replace(n,n,new H(l,0,0))}for(let l=i.length-1;l>=0;l--)t.step(i[l])}function Db(t,r,o){return(r==0||t.canReplace(r,t.childCount))&&(o==t.childCount||t.canReplace(0,o))}function ua(t){let o=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let e=t.depth;;--e){let a=t.$from.node(e),i=t.$from.index(e),n=t.$to.indexAfter(e);if(e<t.depth&&a.canReplace(i,n,o))return e;if(e==0||a.type.spec.isolating||!Db(a,i,n))break}return null}function Bb(t,r,o){let{$from:e,$to:a,depth:i}=r,n=e.before(i+1),l=a.after(i+1),s=n,c=l,d=A.empty,p=0;for(let m=i,h=!1;m>o;m--)h||e.index(m)>0?(h=!0,d=A.from(e.node(m).copy(d)),p++):s--;let g=A.empty,u=0;for(let m=i,h=!1;m>o;m--)h||a.after(m+1)<a.end(m)?(h=!0,g=A.from(a.node(m).copy(g)),u++):c++;t.step(new Vr(s,c,n,l,new H(d.append(g),p,u),d.size-p,!0))}function ac(t,r,o=null,e=t){let a=Pb(t,r),i=a&&Rb(e,r);return i?a.map(Md).concat({type:r,attrs:o}).concat(i.map(Md)):null}function Md(t){return{type:t,attrs:null}}function Pb(t,r){let{parent:o,startIndex:e,endIndex:a}=t,i=o.contentMatchAt(e).findWrapping(r);if(!i)return null;let n=i.length?i[0]:r;return o.canReplaceWith(e,a,n)?i:null}function Rb(t,r){let{parent:o,startIndex:e,endIndex:a}=t,i=o.child(e),n=r.contentMatch.findWrapping(i.type);if(!n)return null;let s=(n.length?n[n.length-1]:r).contentMatch;for(let c=e;s&&c<a;c++)s=s.matchType(o.child(c).type);return!s||!s.validEnd?null:n}function Lb(t,r,o){let e=A.empty;for(let n=o.length-1;n>=0;n--){if(e.size){let l=o[n].type.contentMatch.matchFragment(e);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}e=A.from(o[n].type.create(o[n].attrs,e))}let a=r.start,i=r.end;t.step(new Vr(a,i,a,i,new H(e,0,0),o.length,!0))}function Fb(t,r,o,e,a){if(!e.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(r,o,(n,l)=>{if(n.isTextblock&&!n.hasMarkup(e,a)&&jb(t.doc,t.mapping.slice(i).map(l),e)){t.clearIncompatible(t.mapping.slice(i).map(l,1),e);let s=t.mapping.slice(i),c=s.map(l,1),d=s.map(l+n.nodeSize,1);return t.step(new Vr(c,d,c+1,d-1,new H(A.from(e.create(a,null,n.marks)),0,0),1,!0)),!1}})}function jb(t,r,o){let e=t.resolve(r),a=e.index();return e.parent.canReplaceWith(a,a+1,o)}function Vb(t,r,o,e,a){let i=t.doc.nodeAt(r);if(!i)throw new RangeError("No node at given position");o||(o=i.type);let n=o.create(e,null,a||i.marks);if(i.isLeaf)return t.replaceWith(r,r+i.nodeSize,n);if(!o.validContent(i.content))throw new RangeError("Invalid content for node type "+o.name);t.step(new Vr(r,r+i.nodeSize,r+1,r+i.nodeSize-1,new H(A.from(n),0,0),1,!0))}function qe(t,r,o=1,e){let a=t.resolve(r),i=a.depth-o,n=e&&e[e.length-1]||a.parent;if(i<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!n.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let c=a.depth-1,d=o-2;c>i;c--,d--){let p=a.node(c),g=a.index(c);if(p.type.spec.isolating)return!1;let u=p.content.cutByIndex(g,p.childCount),m=e&&e[d]||p;if(m!=p&&(u=u.replaceChild(0,m.type.create(m.attrs))),!p.canReplace(g+1,p.childCount)||!m.type.validContent(u))return!1}let l=a.indexAfter(i),s=e&&e[0];return a.node(i).canReplaceWith(l,l,s?s.type:a.node(i+1).type)}function Hb(t,r,o=1,e){let a=t.doc.resolve(r),i=A.empty,n=A.empty;for(let l=a.depth,s=a.depth-o,c=o-1;l>s;l--,c--){i=A.from(a.node(l).copy(i));let d=e&&e[c];n=A.from(d?d.type.create(d.attrs,n):a.node(l).copy(n))}t.step(new ot(r,r,new H(i.append(n),o,o),!0))}function ai(t,r){let o=t.resolve(r),e=o.index();return Wb(o.nodeBefore,o.nodeAfter)&&o.parent.canReplace(e,e+1)}function Wb(t,r){return!!(t&&r&&!t.isLeaf&&t.canAppend(r))}function Kb(t,r,o){let e=new ot(r-o,r+o,H.empty,!0);t.step(e)}function qb(t,r,o){let e=t.resolve(r);if(e.parent.canReplaceWith(e.index(),e.index(),o))return r;if(e.parentOffset==0)for(let a=e.depth-1;a>=0;a--){let i=e.index(a);if(e.node(a).canReplaceWith(i,i,o))return e.before(a+1);if(i>0)return null}if(e.parentOffset==e.parent.content.size)for(let a=e.depth-1;a>=0;a--){let i=e.indexAfter(a);if(e.node(a).canReplaceWith(i,i,o))return e.after(a+1);if(i<e.node(a).childCount)return null}return null}function yu(t,r,o){let e=t.resolve(r);if(!o.content.size)return r;let a=o.content;for(let i=0;i<o.openStart;i++)a=a.firstChild.content;for(let i=1;i<=(o.openStart==0&&o.size?2:1);i++)for(let n=e.depth;n>=0;n--){let l=n==e.depth?0:e.pos<=(e.start(n+1)+e.end(n+1))/2?-1:1,s=e.index(n)+(l>0?1:0),c=e.node(n),d=!1;if(i==1)d=c.canReplace(s,s,a);else{let p=c.contentMatchAt(s).findWrapping(a.firstChild.type);d=p&&c.canReplaceWith(s,s,p[0])}if(d)return l==0?e.pos:l<0?e.before(n+1):e.after(n+1)}return null}function ic(t,r,o=r,e=H.empty){if(r==o&&!e.size)return null;let a=t.resolve(r),i=t.resolve(o);return wu(a,i,e)?new ot(r,o,e):new Ub(a,i,e).fit()}function wu(t,r,o){return!o.openStart&&!o.openEnd&&t.start()==r.start()&&t.parent.canReplace(t.index(),r.index(),o.content)}class Ub{constructor(r,o,e){this.$from=r,this.$to=o,this.unplaced=e,this.frontier=[],this.placed=A.empty;for(let a=0;a<=r.depth;a++){let i=r.node(a);this.frontier.push({type:i.type,match:i.contentMatchAt(r.indexAfter(a))})}for(let a=r.depth;a>0;a--)this.placed=A.from(r.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let r=this.mustMoveInline(),o=this.placed.size-this.depth-this.$from.depth,e=this.$from,a=this.close(r<0?this.$to:e.doc.resolve(r));if(!a)return null;let i=this.placed,n=e.depth,l=a.depth;for(;n&&l&&i.childCount==1;)i=i.firstChild.content,n--,l--;let s=new H(i,n,l);return r>-1?new Vr(e.pos,r,this.$to.pos,this.$to.end(),s,o):s.size||e.pos!=this.$to.pos?new ot(e.pos,a.pos,s):null}findFittable(){for(let r=1;r<=2;r++)for(let o=this.unplaced.openStart;o>=0;o--){let e,a=null;o?(a=qn(this.unplaced.content,o-1).firstChild,e=a.content):e=this.unplaced.content;let i=e.firstChild;for(let n=this.depth;n>=0;n--){let{type:l,match:s}=this.frontier[n],c,d=null;if(r==1&&(i?s.matchType(i.type)||(d=s.fillBefore(A.from(i),!1)):a&&l.compatibleContent(a.type)))return{sliceDepth:o,frontierDepth:n,parent:a,inject:d};if(r==2&&i&&(c=s.findWrapping(i.type)))return{sliceDepth:o,frontierDepth:n,parent:a,wrap:c};if(a&&s.matchType(a.type))break}}}openMore(){let{content:r,openStart:o,openEnd:e}=this.unplaced,a=qn(r,o);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new H(r,o+1,Math.max(e,a.size+o>=r.size-e?o+1:0)),!0)}dropNode(){let{content:r,openStart:o,openEnd:e}=this.unplaced,a=qn(r,o);if(a.childCount<=1&&o>0){let i=r.size-o<=o+a.size;this.unplaced=new H(za(r,o-1,1),o-1,i?o-1:e)}else this.unplaced=new H(za(r,o,1),o,e)}placeNodes({sliceDepth:r,frontierDepth:o,parent:e,inject:a,wrap:i}){for(;this.depth>o;)this.closeFrontierNode();if(i)for(let h=0;h<i.length;h++)this.openFrontierNode(i[h]);let n=this.unplaced,l=e?e.content:n.content,s=n.openStart-r,c=0,d=[],{match:p,type:g}=this.frontier[o];if(a){for(let h=0;h<a.childCount;h++)d.push(a.child(h));p=p.matchFragment(a)}let u=l.size+r-(n.content.size-n.openEnd);for(;c<l.childCount;){let h=l.child(c),b=p.matchType(h.type);if(!b)break;c++,(c>1||s==0||h.content.size)&&(p=b,d.push(ku(h.mark(g.allowedMarks(h.marks)),c==1?s:0,c==l.childCount?u:-1)))}let m=c==l.childCount;m||(u=-1),this.placed=Sa(this.placed,o,A.from(d)),this.frontier[o].match=p,m&&u<0&&e&&e.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let h=0,b=l;h<u;h++){let w=b.lastChild;this.frontier.push({type:w.type,match:w.contentMatchAt(w.childCount)}),b=w.content}this.unplaced=m?r==0?H.empty:new H(za(n.content,r-1,1),r-1,u<0?n.openEnd:r-1):new H(za(n.content,r,c),n.openStart,n.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let r=this.frontier[this.depth],o;if(!r.type.isTextblock||!Un(this.$to,this.$to.depth,r.type,r.match,!1)||this.$to.depth==this.depth&&(o=this.findCloseLevel(this.$to))&&o.depth==this.depth)return-1;let{depth:e}=this.$to,a=this.$to.after(e);for(;e>1&&a==this.$to.end(--e);)++a;return a}findCloseLevel(r){r:for(let o=Math.min(this.depth,r.depth);o>=0;o--){let{match:e,type:a}=this.frontier[o],i=o<r.depth&&r.end(o+1)==r.pos+(r.depth-(o+1)),n=Un(r,o,a,e,i);if(!!n){for(let l=o-1;l>=0;l--){let{match:s,type:c}=this.frontier[l],d=Un(r,l,c,s,!0);if(!d||d.childCount)continue r}return{depth:o,fit:n,move:i?r.doc.resolve(r.after(o+1)):r}}}}close(r){let o=this.findCloseLevel(r);if(!o)return null;for(;this.depth>o.depth;)this.closeFrontierNode();o.fit.childCount&&(this.placed=Sa(this.placed,o.depth,o.fit)),r=o.move;for(let e=o.depth+1;e<=r.depth;e++){let a=r.node(e),i=a.type.contentMatch.fillBefore(a.content,!0,r.index(e));this.openFrontierNode(a.type,a.attrs,i)}return r}openFrontierNode(r,o=null,e){let a=this.frontier[this.depth];a.match=a.match.matchType(r),this.placed=Sa(this.placed,this.depth,A.from(r.create(o,e))),this.frontier.push({type:r,match:r.contentMatch})}closeFrontierNode(){let o=this.frontier.pop().match.fillBefore(A.empty,!0);o.childCount&&(this.placed=Sa(this.placed,this.frontier.length,o))}}function za(t,r,o){return r==0?t.cutByIndex(o,t.childCount):t.replaceChild(0,t.firstChild.copy(za(t.firstChild.content,r-1,o)))}function Sa(t,r,o){return r==0?t.append(o):t.replaceChild(t.childCount-1,t.lastChild.copy(Sa(t.lastChild.content,r-1,o)))}function qn(t,r){for(let o=0;o<r;o++)t=t.firstChild.content;return t}function ku(t,r,o){if(r<=0)return t;let e=t.content;return r>1&&(e=e.replaceChild(0,ku(e.firstChild,r-1,e.childCount==1?o-1:0))),r>0&&(e=t.type.contentMatch.fillBefore(e).append(e),o<=0&&(e=e.append(t.type.contentMatch.matchFragment(e).fillBefore(A.empty,!0)))),t.copy(e)}function Un(t,r,o,e,a){let i=t.node(r),n=a?t.indexAfter(r):t.index(r);if(n==i.childCount&&!o.compatibleContent(i.type))return null;let l=e.fillBefore(i.content,!0,n);return l&&!Jb(o,i.content,n)?l:null}function Jb(t,r,o){for(let e=o;e<r.childCount;e++)if(!t.allowsMarks(r.child(e).marks))return!0;return!1}function Gb(t){return t.spec.defining||t.spec.definingForContent}function Zb(t,r,o,e){if(!e.size)return t.deleteRange(r,o);let a=t.doc.resolve(r),i=t.doc.resolve(o);if(wu(a,i,e))return t.step(new ot(r,o,e));let n=zu(a,t.doc.resolve(o));n[n.length-1]==0&&n.pop();let l=-(a.depth+1);n.unshift(l);for(let g=a.depth,u=a.pos-1;g>0;g--,u--){let m=a.node(g).type.spec;if(m.defining||m.definingAsContext||m.isolating)break;n.indexOf(g)>-1?l=g:a.before(g)==u&&n.splice(1,0,-g)}let s=n.indexOf(l),c=[],d=e.openStart;for(let g=e.content,u=0;;u++){let m=g.firstChild;if(c.push(m),u==e.openStart)break;g=m.content}for(let g=d-1;g>=0;g--){let u=c[g].type,m=Gb(u);if(m&&a.node(s).type!=u)d=g;else if(m||!u.isTextblock)break}for(let g=e.openStart;g>=0;g--){let u=(g+d+1)%(e.openStart+1),m=c[u];if(!!m)for(let h=0;h<n.length;h++){let b=n[(h+s)%n.length],w=!0;b<0&&(w=!1,b=-b);let T=a.node(b-1),F=a.index(b-1);if(T.canReplaceWith(F,F,m.type,m.marks))return t.replace(a.before(b),w?i.after(b):o,new H(_u(e.content,0,e.openStart,u),u,e.openEnd))}}let p=t.steps.length;for(let g=n.length-1;g>=0&&(t.replace(r,o,e),!(t.steps.length>p));g--){let u=n[g];u<0||(r=a.before(u),o=i.after(u))}}function _u(t,r,o,e,a){if(r<o){let i=t.firstChild;t=t.replaceChild(0,i.copy(_u(i.content,r+1,o,e,i)))}if(r>e){let i=a.contentMatchAt(0),n=i.fillBefore(t).append(t);t=n.append(i.matchFragment(n).fillBefore(A.empty,!0))}return t}function Yb(t,r,o,e){if(!e.isInline&&r==o&&t.doc.resolve(r).parent.content.size){let a=qb(t.doc,r,e.type);a!=null&&(r=o=a)}t.replaceRange(r,o,new H(A.from(e),0,0))}function Xb(t,r,o){let e=t.doc.resolve(r),a=t.doc.resolve(o),i=zu(e,a);for(let n=0;n<i.length;n++){let l=i[n],s=n==i.length-1;if(s&&l==0||e.node(l).type.contentMatch.validEnd)return t.delete(e.start(l),a.end(l));if(l>0&&(s||e.node(l-1).canReplace(e.index(l-1),a.indexAfter(l-1))))return t.delete(e.before(l),a.after(l))}for(let n=1;n<=e.depth&&n<=a.depth;n++)if(r-e.start(n)==e.depth-n&&o>e.end(n)&&a.end(n)-o!=a.depth-n)return t.delete(e.before(n),o);t.delete(r,o)}function zu(t,r){let o=[],e=Math.min(t.depth,r.depth);for(let a=e;a>=0;a--){let i=t.start(a);if(i<t.pos-(t.depth-a)||r.end(a)>r.pos+(r.depth-a)||t.node(a).type.spec.isolating||r.node(a).type.spec.isolating)break;(i==r.start(a)||a==t.depth&&a==r.depth&&t.parent.inlineContent&&r.parent.inlineContent&&a&&r.start(a-1)==i-1)&&o.push(a)}return o}let Ze=class extends Error{};Ze=function t(r){let o=Error.call(this,r);return o.__proto__=t.prototype,o};Ze.prototype=Object.create(Error.prototype);Ze.prototype.constructor=Ze;Ze.prototype.name="TransformError";class Qb{constructor(r){this.doc=r,this.steps=[],this.docs=[],this.mapping=new Ke}get before(){return this.docs.length?this.docs[0]:this.doc}step(r){let o=this.maybeStep(r);if(o.failed)throw new Ze(o.failed);return this}maybeStep(r){let o=r.apply(this.doc);return o.failed||this.addStep(r,o.doc),o}get docChanged(){return this.steps.length>0}addStep(r,o){this.docs.push(this.doc),this.steps.push(r),this.mapping.appendMap(r.getMap()),this.doc=o}replace(r,o=r,e=H.empty){let a=ic(this.doc,r,o,e);return a&&this.step(a),this}replaceWith(r,o,e){return this.replace(r,o,new H(A.from(e),0,0))}delete(r,o){return this.replace(r,o,H.empty)}insert(r,o){return this.replaceWith(r,r,o)}replaceRange(r,o,e){return Zb(this,r,o,e),this}replaceRangeWith(r,o,e){return Yb(this,r,o,e),this}deleteRange(r,o){return Xb(this,r,o),this}lift(r,o){return Bb(this,r,o),this}join(r,o=1){return Kb(this,r,o),this}wrap(r,o){return Lb(this,r,o),this}setBlockType(r,o=r,e,a=null){return Fb(this,r,o,e,a),this}setNodeMarkup(r,o,e=null,a=[]){return Vb(this,r,o,e,a),this}split(r,o=1,e){return Hb(this,r,o,e),this}addMark(r,o,e){return Ib(this,r,o,e),this}removeMark(r,o,e){return Ab(this,r,o,e),this}clearIncompatible(r,o,e){return Nb(this,r,o,e),this}}const Jn=Object.create(null);class dr{constructor(r,o,e){this.$anchor=r,this.$head=o,this.ranges=e||[new r0(r.min(o),r.max(o))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let r=this.ranges;for(let o=0;o<r.length;o++)if(r[o].$from.pos!=r[o].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(r,o=H.empty){let e=o.content.lastChild,a=null;for(let l=0;l<o.openEnd;l++)a=e,e=e.lastChild;let i=r.steps.length,n=this.ranges;for(let l=0;l<n.length;l++){let{$from:s,$to:c}=n[l],d=r.mapping.slice(i);r.replaceRange(d.map(s.pos),d.map(c.pos),l?H.empty:o),l==0&&Id(r,i,(e?e.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(r,o){let e=r.steps.length,a=this.ranges;for(let i=0;i<a.length;i++){let{$from:n,$to:l}=a[i],s=r.mapping.slice(e),c=s.map(n.pos),d=s.map(l.pos);i?r.deleteRange(c,d):(r.replaceRangeWith(c,d,o),Id(r,e,o.isInline?-1:1))}}static findFrom(r,o,e=!1){let a=r.parent.inlineContent?new gr(r):De(r.node(0),r.parent,r.pos,r.index(),o,e);if(a)return a;for(let i=r.depth-1;i>=0;i--){let n=o<0?De(r.node(0),r.node(i),r.before(i+1),r.index(i),o,e):De(r.node(0),r.node(i),r.after(i+1),r.index(i)+1,o,e);if(n)return n}return null}static near(r,o=1){return this.findFrom(r,o)||this.findFrom(r,-o)||new Gt(r.node(0))}static atStart(r){return De(r,r,0,0,1)||new Gt(r)}static atEnd(r){return De(r,r,r.content.size,r.childCount,-1)||new Gt(r)}static fromJSON(r,o){if(!o||!o.type)throw new RangeError("Invalid input for Selection.fromJSON");let e=Jn[o.type];if(!e)throw new RangeError(`No selection type ${o.type} defined`);return e.fromJSON(r,o)}static jsonID(r,o){if(r in Jn)throw new RangeError("Duplicate use of selection JSON ID "+r);return Jn[r]=o,o.prototype.jsonID=r,o}getBookmark(){return gr.between(this.$anchor,this.$head).getBookmark()}}dr.prototype.visible=!0;class r0{constructor(r,o){this.$from=r,this.$to=o}}let Td=!1;function Ed(t){!Td&&!t.parent.inlineContent&&(Td=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class gr extends dr{constructor(r,o=r){Ed(r),Ed(o),super(r,o)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(r,o){let e=r.resolve(o.map(this.head));if(!e.parent.inlineContent)return dr.near(e);let a=r.resolve(o.map(this.anchor));return new gr(a.parent.inlineContent?a:e,e)}replace(r,o=H.empty){if(super.replace(r,o),o==H.empty){let e=this.$from.marksAcross(this.$to);e&&r.ensureMarks(e)}}eq(r){return r instanceof gr&&r.anchor==this.anchor&&r.head==this.head}getBookmark(){return new bn(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(r,o){if(typeof o.anchor!="number"||typeof o.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new gr(r.resolve(o.anchor),r.resolve(o.head))}static create(r,o,e=o){let a=r.resolve(o);return new this(a,e==o?a:r.resolve(e))}static between(r,o,e){let a=r.pos-o.pos;if((!e||a)&&(e=a>=0?1:-1),!o.parent.inlineContent){let i=dr.findFrom(o,e,!0)||dr.findFrom(o,-e,!0);if(i)o=i.$head;else return dr.near(o,e)}return r.parent.inlineContent||(a==0?r=o:(r=(dr.findFrom(r,-e,!0)||dr.findFrom(r,e,!0)).$anchor,r.pos<o.pos!=a<0&&(r=o))),new gr(r,o)}}dr.jsonID("text",gr);class bn{constructor(r,o){this.anchor=r,this.head=o}map(r){return new bn(r.map(this.anchor),r.map(this.head))}resolve(r){return gr.between(r.resolve(this.anchor),r.resolve(this.head))}}class or extends dr{constructor(r){let o=r.nodeAfter,e=r.node(0).resolve(r.pos+o.nodeSize);super(r,e),this.node=o}map(r,o){let{deleted:e,pos:a}=o.mapResult(this.anchor),i=r.resolve(a);return e?dr.near(i):new or(i)}content(){return new H(A.from(this.node),0,0)}eq(r){return r instanceof or&&r.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new nc(this.anchor)}static fromJSON(r,o){if(typeof o.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new or(r.resolve(o.anchor))}static create(r,o){return new or(r.resolve(o))}static isSelectable(r){return!r.isText&&r.type.spec.selectable!==!1}}or.prototype.visible=!1;dr.jsonID("node",or);class nc{constructor(r){this.anchor=r}map(r){let{deleted:o,pos:e}=r.mapResult(this.anchor);return o?new bn(e,e):new nc(e)}resolve(r){let o=r.resolve(this.anchor),e=o.nodeAfter;return e&&or.isSelectable(e)?new or(o):dr.near(o)}}class Gt extends dr{constructor(r){super(r.resolve(0),r.resolve(r.content.size))}replace(r,o=H.empty){if(o==H.empty){r.delete(0,r.doc.content.size);let e=dr.atStart(r.doc);e.eq(r.selection)||r.setSelection(e)}else super.replace(r,o)}toJSON(){return{type:"all"}}static fromJSON(r){return new Gt(r)}map(r){return new Gt(r)}eq(r){return r instanceof Gt}getBookmark(){return t0}}dr.jsonID("all",Gt);const t0={map(){return this},resolve(t){return new Gt(t)}};function De(t,r,o,e,a,i=!1){if(r.inlineContent)return gr.create(t,o);for(let n=e-(a>0?0:1);a>0?n<r.childCount:n>=0;n+=a){let l=r.child(n);if(l.isAtom){if(!i&&or.isSelectable(l))return or.create(t,o-(a<0?l.nodeSize:0))}else{let s=De(t,l,o+a,a<0?l.childCount:0,a,i);if(s)return s}o+=l.nodeSize*a}return null}function Id(t,r,o){let e=t.steps.length-1;if(e<r)return;let a=t.steps[e];if(!(a instanceof ot||a instanceof Vr))return;let i=t.mapping.maps[e],n;i.forEach((l,s,c,d)=>{n==null&&(n=d)}),t.setSelection(dr.near(t.doc.resolve(n),o))}const Ad=1,wi=2,Nd=4;class o0 extends Qb{constructor(r){super(r.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=r.selection,this.storedMarks=r.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(r){if(r.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=r,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Ad)&~wi,this.storedMarks=null,this}get selectionSet(){return(this.updated&Ad)>0}setStoredMarks(r){return this.storedMarks=r,this.updated|=wi,this}ensureMarks(r){return Cr.sameSet(this.storedMarks||this.selection.$from.marks(),r)||this.setStoredMarks(r),this}addStoredMark(r){return this.ensureMarks(r.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(r){return this.ensureMarks(r.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&wi)>0}addStep(r,o){super.addStep(r,o),this.updated=this.updated&~wi,this.storedMarks=null}setTime(r){return this.time=r,this}replaceSelection(r){return this.selection.replace(this,r),this}replaceSelectionWith(r,o=!0){let e=this.selection;return o&&(r=r.mark(this.storedMarks||(e.empty?e.$from.marks():e.$from.marksAcross(e.$to)||Cr.none))),e.replaceWith(this,r),this}deleteSelection(){return this.selection.replace(this),this}insertText(r,o,e){let a=this.doc.type.schema;if(o==null)return r?this.replaceSelectionWith(a.text(r),!0):this.deleteSelection();{if(e==null&&(e=o),e=e==null?o:e,!r)return this.deleteRange(o,e);let i=this.storedMarks;if(!i){let n=this.doc.resolve(o);i=e==o?n.marks():n.marksAcross(this.doc.resolve(e))}return this.replaceRangeWith(o,e,a.text(r,i)),this.selection.empty||this.setSelection(dr.near(this.selection.$to)),this}}setMeta(r,o){return this.meta[typeof r=="string"?r:r.key]=o,this}getMeta(r){return this.meta[typeof r=="string"?r:r.key]}get isGeneric(){for(let r in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Nd,this}get scrolledIntoView(){return(this.updated&Nd)>0}}function Dd(t,r){return!r||!t?t:t.bind(r)}class $a{constructor(r,o,e){this.name=r,this.init=Dd(o.init,e),this.apply=Dd(o.apply,e)}}const e0=[new $a("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new $a("selection",{init(t,r){return t.selection||dr.atStart(r.doc)},apply(t){return t.selection}}),new $a("storedMarks",{init(t){return t.storedMarks||null},apply(t,r,o,e){return e.selection.$cursor?t.storedMarks:null}}),new $a("scrollToSelection",{init(){return 0},apply(t,r){return t.scrolledIntoView?r+1:r}})];class Gn{constructor(r,o){this.schema=r,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=e0.slice(),o&&o.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new $a(e.key,e.spec.state,e))})}}class Re{constructor(r){this.config=r}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(r){return this.applyTransaction(r).state}filterTransaction(r,o=-1){for(let e=0;e<this.config.plugins.length;e++)if(e!=o){let a=this.config.plugins[e];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,r,this))return!1}return!0}applyTransaction(r){if(!this.filterTransaction(r))return{state:this,transactions:[]};let o=[r],e=this.applyInner(r),a=null;for(;;){let i=!1;for(let n=0;n<this.config.plugins.length;n++){let l=this.config.plugins[n];if(l.spec.appendTransaction){let s=a?a[n].n:0,c=a?a[n].state:this,d=s<o.length&&l.spec.appendTransaction.call(l,s?o.slice(s):o,c,e);if(d&&e.filterTransaction(d,n)){if(d.setMeta("appendedTransaction",r),!a){a=[];for(let p=0;p<this.config.plugins.length;p++)a.push(p<n?{state:e,n:o.length}:{state:this,n:0})}o.push(d),e=e.applyInner(d),i=!0}a&&(a[n]={state:e,n:o.length})}}if(!i)return{state:e,transactions:o}}}applyInner(r){if(!r.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let o=new Re(this.config),e=this.config.fields;for(let a=0;a<e.length;a++){let i=e[a];o[i.name]=i.apply(r,this[i.name],this,o)}return o}get tr(){return new o0(this)}static create(r){let o=new Gn(r.doc?r.doc.type.schema:r.schema,r.plugins),e=new Re(o);for(let a=0;a<o.fields.length;a++)e[o.fields[a].name]=o.fields[a].init(r,e);return e}reconfigure(r){let o=new Gn(this.schema,r.plugins),e=o.fields,a=new Re(o);for(let i=0;i<e.length;i++){let n=e[i].name;a[n]=this.hasOwnProperty(n)?this[n]:e[i].init(r,a)}return a}toJSON(r){let o={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(o.storedMarks=this.storedMarks.map(e=>e.toJSON())),r&&typeof r=="object")for(let e in r){if(e=="doc"||e=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=r[e],i=a.spec.state;i&&i.toJSON&&(o[e]=i.toJSON.call(a,this[a.key]))}return o}static fromJSON(r,o,e){if(!o)throw new RangeError("Invalid input for EditorState.fromJSON");if(!r.schema)throw new RangeError("Required config field 'schema' missing");let a=new Gn(r.schema,r.plugins),i=new Re(a);return a.fields.forEach(n=>{if(n.name=="doc")i.doc=co.fromJSON(r.schema,o.doc);else if(n.name=="selection")i.selection=dr.fromJSON(i.doc,o.selection);else if(n.name=="storedMarks")o.storedMarks&&(i.storedMarks=o.storedMarks.map(r.schema.markFromJSON));else{if(e)for(let l in e){let s=e[l],c=s.spec.state;if(s.key==n.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(o,l)){i[n.name]=c.fromJSON.call(s,r,o[l],i);return}}i[n.name]=n.init(r,i)}}),i}}function Su(t,r,o){for(let e in t){let a=t[e];a instanceof Function?a=a.bind(r):e=="handleDOMEvents"&&(a=Su(a,r,{})),o[e]=a}return o}class ut{constructor(r){this.spec=r,this.props={},r.props&&Su(r.props,this,this.props),this.key=r.key?r.key.key:$u("plugin")}getState(r){return r[this.key]}}const Zn=Object.create(null);function $u(t){return t in Zn?t+"$"+ ++Zn[t]:(Zn[t]=0,t+"$")}class bo{constructor(r="key"){this.key=$u(r)}get(r){return r.config.pluginsByKey[this.key]}getState(r){return r[this.key]}}const a0=(t,r)=>t.selection.empty?!1:(r&&r(t.tr.deleteSelection().scrollIntoView()),!0),i0=(t,r,o)=>{let{$cursor:e}=t.selection;if(!e||(o?!o.endOfTextblock("backward",t):e.parentOffset>0))return!1;let a=Cu(e);if(!a){let n=e.blockRange(),l=n&&ua(n);return l==null?!1:(r&&r(t.tr.lift(n,l).scrollIntoView()),!0)}let i=a.nodeBefore;if(!i.type.spec.isolating&&Tu(t,a,r))return!0;if(e.parent.content.size==0&&(Ye(i,"end")||or.isSelectable(i))){let n=ic(t.doc,e.before(),e.after(),H.empty);if(n&&n.slice.size<n.to-n.from){if(r){let l=t.tr.step(n);l.setSelection(Ye(i,"end")?dr.findFrom(l.doc.resolve(l.mapping.map(a.pos,-1)),-1):or.create(l.doc,a.pos-i.nodeSize)),r(l.scrollIntoView())}return!0}}return i.isAtom&&a.depth==e.depth-1?(r&&r(t.tr.delete(a.pos-i.nodeSize,a.pos).scrollIntoView()),!0):!1};function Ye(t,r,o=!1){for(let e=t;e;e=r=="start"?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(o&&e.childCount!=1)return!1}return!1}const n0=(t,r,o)=>{let{$head:e,empty:a}=t.selection,i=e;if(!a)return!1;if(e.parent.isTextblock){if(o?!o.endOfTextblock("backward",t):e.parentOffset>0)return!1;i=Cu(e)}let n=i&&i.nodeBefore;return!n||!or.isSelectable(n)?!1:(r&&r(t.tr.setSelection(or.create(t.doc,i.pos-n.nodeSize)).scrollIntoView()),!0)};function Cu(t){if(!t.parent.type.spec.isolating)for(let r=t.depth-1;r>=0;r--){if(t.index(r)>0)return t.doc.resolve(t.before(r+1));if(t.node(r).type.spec.isolating)break}return null}const l0=(t,r,o)=>{let{$cursor:e}=t.selection;if(!e||(o?!o.endOfTextblock("forward",t):e.parentOffset<e.parent.content.size))return!1;let a=Ou(e);if(!a)return!1;let i=a.nodeAfter;if(Tu(t,a,r))return!0;if(e.parent.content.size==0&&(Ye(i,"start")||or.isSelectable(i))){let n=ic(t.doc,e.before(),e.after(),H.empty);if(n&&n.slice.size<n.to-n.from){if(r){let l=t.tr.step(n);l.setSelection(Ye(i,"start")?dr.findFrom(l.doc.resolve(l.mapping.map(a.pos)),1):or.create(l.doc,l.mapping.map(a.pos))),r(l.scrollIntoView())}return!0}}return i.isAtom&&a.depth==e.depth-1?(r&&r(t.tr.delete(a.pos,a.pos+i.nodeSize).scrollIntoView()),!0):!1},s0=(t,r,o)=>{let{$head:e,empty:a}=t.selection,i=e;if(!a)return!1;if(e.parent.isTextblock){if(o?!o.endOfTextblock("forward",t):e.parentOffset<e.parent.content.size)return!1;i=Ou(e)}let n=i&&i.nodeAfter;return!n||!or.isSelectable(n)?!1:(r&&r(t.tr.setSelection(or.create(t.doc,i.pos)).scrollIntoView()),!0)};function Ou(t){if(!t.parent.type.spec.isolating)for(let r=t.depth-1;r>=0;r--){let o=t.node(r);if(t.index(r)+1<o.childCount)return t.doc.resolve(t.after(r+1));if(o.type.spec.isolating)break}return null}const c0=(t,r)=>{let{$from:o,$to:e}=t.selection,a=o.blockRange(e),i=a&&ua(a);return i==null?!1:(r&&r(t.tr.lift(a,i).scrollIntoView()),!0)},d0=(t,r)=>{let{$head:o,$anchor:e}=t.selection;return!o.parent.type.spec.code||!o.sameParent(e)?!1:(r&&r(t.tr.insertText(`
`).scrollIntoView()),!0)};function Mu(t){for(let r=0;r<t.edgeCount;r++){let{type:o}=t.edge(r);if(o.isTextblock&&!o.hasRequiredAttrs())return o}return null}const p0=(t,r)=>{let{$head:o,$anchor:e}=t.selection;if(!o.parent.type.spec.code||!o.sameParent(e))return!1;let a=o.node(-1),i=o.indexAfter(-1),n=Mu(a.contentMatchAt(i));if(!n||!a.canReplaceWith(i,i,n))return!1;if(r){let l=o.after(),s=t.tr.replaceWith(l,l,n.createAndFill());s.setSelection(dr.near(s.doc.resolve(l),1)),r(s.scrollIntoView())}return!0},g0=(t,r)=>{let o=t.selection,{$from:e,$to:a}=o;if(o instanceof Gt||e.parent.inlineContent||a.parent.inlineContent)return!1;let i=Mu(a.parent.contentMatchAt(a.indexAfter()));if(!i||!i.isTextblock)return!1;if(r){let n=(!e.parentOffset&&a.index()<a.parent.childCount?e:a).pos,l=t.tr.insert(n,i.createAndFill());l.setSelection(gr.create(l.doc,n+1)),r(l.scrollIntoView())}return!0},u0=(t,r)=>{let{$cursor:o}=t.selection;if(!o||o.parent.content.size)return!1;if(o.depth>1&&o.after()!=o.end(-1)){let i=o.before();if(qe(t.doc,i))return r&&r(t.tr.split(i).scrollIntoView()),!0}let e=o.blockRange(),a=e&&ua(e);return a==null?!1:(r&&r(t.tr.lift(e,a).scrollIntoView()),!0)},m0=(t,r)=>{let{$from:o,to:e}=t.selection,a,i=o.sharedDepth(e);return i==0?!1:(a=o.before(i),r&&r(t.tr.setSelection(or.create(t.doc,a))),!0)};function h0(t,r,o){let e=r.nodeBefore,a=r.nodeAfter,i=r.index();return!e||!a||!e.type.compatibleContent(a.type)?!1:!e.content.size&&r.parent.canReplace(i-1,i)?(o&&o(t.tr.delete(r.pos-e.nodeSize,r.pos).scrollIntoView()),!0):!r.parent.canReplace(i,i+1)||!(a.isTextblock||ai(t.doc,r.pos))?!1:(o&&o(t.tr.clearIncompatible(r.pos,e.type,e.contentMatchAt(e.childCount)).join(r.pos).scrollIntoView()),!0)}function Tu(t,r,o){let e=r.nodeBefore,a=r.nodeAfter,i,n;if(e.type.spec.isolating||a.type.spec.isolating)return!1;if(h0(t,r,o))return!0;let l=r.parent.canReplace(r.index(),r.index()+1);if(l&&(i=(n=e.contentMatchAt(e.childCount)).findWrapping(a.type))&&n.matchType(i[0]||a.type).validEnd){if(o){let p=r.pos+a.nodeSize,g=A.empty;for(let h=i.length-1;h>=0;h--)g=A.from(i[h].create(null,g));g=A.from(e.copy(g));let u=t.tr.step(new Vr(r.pos-1,p,r.pos,p,new H(g,1,0),i.length,!0)),m=p+2*i.length;ai(u.doc,m)&&u.join(m),o(u.scrollIntoView())}return!0}let s=dr.findFrom(r,1),c=s&&s.$from.blockRange(s.$to),d=c&&ua(c);if(d!=null&&d>=r.depth)return o&&o(t.tr.lift(c,d).scrollIntoView()),!0;if(l&&Ye(a,"start",!0)&&Ye(e,"end")){let p=e,g=[];for(;g.push(p),!p.isTextblock;)p=p.lastChild;let u=a,m=1;for(;!u.isTextblock;u=u.firstChild)m++;if(p.canReplace(p.childCount,p.childCount,u.content)){if(o){let h=A.empty;for(let w=g.length-1;w>=0;w--)h=A.from(g[w].copy(h));let b=t.tr.step(new Vr(r.pos-g.length,r.pos+a.nodeSize,r.pos+m,r.pos+a.nodeSize-m,new H(h,g.length,0),0,!0));o(b.scrollIntoView())}return!0}}return!1}function Eu(t){return function(r,o){let e=r.selection,a=t<0?e.$from:e.$to,i=a.depth;for(;a.node(i).isInline;){if(!i)return!1;i--}return a.node(i).isTextblock?(o&&o(r.tr.setSelection(gr.create(r.doc,t<0?a.start(i):a.end(i)))),!0):!1}}const f0=Eu(-1),v0=Eu(1);function b0(t,r=null){return function(o,e){let{$from:a,$to:i}=o.selection,n=a.blockRange(i),l=n&&ac(n,t,r);return l?(e&&e(o.tr.wrap(n,l).scrollIntoView()),!0):!1}}function Bd(t,r=null){return function(o,e){let{from:a,to:i}=o.selection,n=!1;return o.doc.nodesBetween(a,i,(l,s)=>{if(n)return!1;if(!(!l.isTextblock||l.hasMarkup(t,r)))if(l.type==t)n=!0;else{let c=o.doc.resolve(s),d=c.index();n=c.parent.canReplaceWith(d,d+1,t)}}),n?(e&&e(o.tr.setBlockType(a,i,t,r).scrollIntoView()),!0):!1}}typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform&&os.platform()=="darwin";function x0(t,r=null){return function(o,e){let{$from:a,$to:i}=o.selection,n=a.blockRange(i),l=!1,s=n;if(!n)return!1;if(n.depth>=2&&a.node(n.depth-1).type.compatibleContent(t)&&n.startIndex==0){if(a.index(n.depth-1)==0)return!1;let d=o.doc.resolve(n.start-2);s=new Vi(d,d,n.depth),n.endIndex<n.parent.childCount&&(n=new Vi(a,o.doc.resolve(i.end(n.depth)),n.depth)),l=!0}let c=ac(s,t,r,n);return c?(e&&e(y0(o.tr,n,c,l,t).scrollIntoView()),!0):!1}}function y0(t,r,o,e,a){let i=A.empty;for(let d=o.length-1;d>=0;d--)i=A.from(o[d].type.create(o[d].attrs,i));t.step(new Vr(r.start-(e?2:0),r.end,r.start,r.end,new H(i,0,0),o.length,!0));let n=0;for(let d=0;d<o.length;d++)o[d].type==a&&(n=d+1);let l=o.length-n,s=r.start+o.length-(e?2:0),c=r.parent;for(let d=r.startIndex,p=r.endIndex,g=!0;d<p;d++,g=!1)!g&&qe(t.doc,s,l)&&(t.split(s,l),s+=2*l),s+=c.child(d).nodeSize;return t}function w0(t){return function(r,o){let{$from:e,$to:a}=r.selection,i=e.blockRange(a,n=>n.childCount>0&&n.firstChild.type==t);return i?o?e.node(i.depth-1).type==t?k0(r,o,t,i):_0(r,o,i):!0:!1}}function k0(t,r,o,e){let a=t.tr,i=e.end,n=e.$to.end(e.depth);return i<n&&(a.step(new Vr(i-1,n,i,n,new H(A.from(o.create(null,e.parent.copy())),1,0),1,!0)),e=new Vi(a.doc.resolve(e.$from.pos),a.doc.resolve(n),e.depth)),r(a.lift(e,ua(e)).scrollIntoView()),!0}function _0(t,r,o){let e=t.tr,a=o.parent;for(let u=o.end,m=o.endIndex-1,h=o.startIndex;m>h;m--)u-=a.child(m).nodeSize,e.delete(u-1,u+1);let i=e.doc.resolve(o.start),n=i.nodeAfter;if(e.mapping.map(o.end)!=o.start+i.nodeAfter.nodeSize)return!1;let l=o.startIndex==0,s=o.endIndex==a.childCount,c=i.node(-1),d=i.index(-1);if(!c.canReplace(d+(l?0:1),d+1,n.content.append(s?A.empty:A.from(a))))return!1;let p=i.pos,g=p+n.nodeSize;return e.step(new Vr(p-(l?1:0),g+(s?1:0),p+1,g-1,new H((l?A.empty:A.from(a.copy(A.empty))).append(s?A.empty:A.from(a.copy(A.empty))),l?0:1,s?0:1),l?0:1)),r(e.scrollIntoView()),!0}function z0(t){return function(r,o){let{$from:e,$to:a}=r.selection,i=e.blockRange(a,c=>c.childCount>0&&c.firstChild.type==t);if(!i)return!1;let n=i.startIndex;if(n==0)return!1;let l=i.parent,s=l.child(n-1);if(s.type!=t)return!1;if(o){let c=s.lastChild&&s.lastChild.type==l.type,d=A.from(c?t.create():null),p=new H(A.from(t.create(null,A.from(l.type.create(null,d)))),c?3:1,0),g=i.start,u=i.end;o(r.tr.step(new Vr(g-(c?3:1),u,g,u,p,1,!0)).scrollIntoView())}return!0}}const Go=typeof navigator!="undefined"?navigator:null,Pd=typeof document!="undefined"?document:null,re=Go&&Go.userAgent||"",gs=/Edge\/(\d+)/.exec(re),Iu=/MSIE \d/.exec(re),us=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(re),Mt=!!(Iu||us||gs),Wo=Iu?document.documentMode:us?+us[1]:gs?+gs[1]:0,uo=!Mt&&/gecko\/(\d+)/i.test(re);uo&&+(/Firefox\/(\d+)/.exec(re)||[0,0])[1];const ms=!Mt&&/Chrome\/(\d+)/.exec(re),dt=!!ms,S0=ms?+ms[1]:0,xt=!Mt&&!!Go&&/Apple Computer/.test(Go.vendor),Xe=xt&&(/Mobile\/\w+/.test(re)||!!Go&&Go.maxTouchPoints>2),Nt=Xe||(Go?/Mac/.test(Go.platform):!1),ao=/Android \d/.test(re),xn=!!Pd&&"webkitFontSmoothing"in Pd.documentElement.style,$0=xn?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,St=function(t){for(var r=0;;r++)if(t=t.previousSibling,!t)return r},lc=function(t){let r=t.assignedSlot||t.parentNode;return r&&r.nodeType==11?r.host:r};let Rd=null;const wo=function(t,r,o){let e=Rd||(Rd=document.createRange());return e.setEnd(t,o==null?t.nodeValue.length:o),e.setStart(t,r||0),e},Za=function(t,r,o,e){return o&&(Ld(t,r,o,e,-1)||Ld(t,r,o,e,1))},C0=/^(img|br|input|textarea|hr)$/i;function Ld(t,r,o,e,a){for(;;){if(t==o&&r==e)return!0;if(r==(a<0?0:io(t))){let i=t.parentNode;if(!i||i.nodeType!=1||M0(t)||C0.test(t.nodeName)||t.contentEditable=="false")return!1;r=St(t)+(a<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[r+(a<0?-1:0)],t.contentEditable=="false")return!1;r=a<0?io(t):0}else return!1}}function io(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function O0(t,r,o){for(let e=r==0,a=r==io(t);e||a;){if(t==o)return!0;let i=St(t);if(t=t.parentNode,!t)return!1;e=e&&i==0,a=a&&i==io(t)}}function M0(t){let r;for(let o=t;o&&!(r=o.pmViewDesc);o=o.parentNode);return r&&r.node&&r.node.isBlock&&(r.dom==t||r.contentDOM==t)}const sc=function(t){let r=t.isCollapsed;return r&&dt&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(r=!1),r};function Le(t,r){let o=document.createEvent("Event");return o.initEvent("keydown",!0,!0),o.keyCode=t,o.key=o.code=r,o}function T0(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function No(t,r){return typeof t=="number"?t:t[r]}function E0(t){let r=t.getBoundingClientRect(),o=r.width/t.offsetWidth||1,e=r.height/t.offsetHeight||1;return{left:r.left,right:r.left+t.clientWidth*o,top:r.top,bottom:r.top+t.clientHeight*e}}function Fd(t,r,o){let e=t.someProp("scrollThreshold")||0,a=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let n=o||t.dom;n;n=lc(n)){if(n.nodeType!=1)continue;let l=n,s=l==i.body,c=s?T0(i):E0(l),d=0,p=0;if(r.top<c.top+No(e,"top")?p=-(c.top-r.top+No(a,"top")):r.bottom>c.bottom-No(e,"bottom")&&(p=r.bottom-c.bottom+No(a,"bottom")),r.left<c.left+No(e,"left")?d=-(c.left-r.left+No(a,"left")):r.right>c.right-No(e,"right")&&(d=r.right-c.right+No(a,"right")),d||p)if(s)i.defaultView.scrollBy(d,p);else{let g=l.scrollLeft,u=l.scrollTop;p&&(l.scrollTop+=p),d&&(l.scrollLeft+=d);let m=l.scrollLeft-g,h=l.scrollTop-u;r={left:r.left-m,top:r.top-h,right:r.right-m,bottom:r.bottom-h}}if(s)break}}function I0(t){let r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top),e,a;for(let i=(r.left+r.right)/2,n=o+1;n<Math.min(innerHeight,r.bottom);n+=5){let l=t.root.elementFromPoint(i,n);if(!l||l==t.dom||!t.dom.contains(l))continue;let s=l.getBoundingClientRect();if(s.top>=o-20){e=l,a=s.top;break}}return{refDOM:e,refTop:a,stack:Au(t.dom)}}function Au(t){let r=[],o=t.ownerDocument;for(let e=t;e&&(r.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),t!=o);e=lc(e));return r}function A0({refDOM:t,refTop:r,stack:o}){let e=t?t.getBoundingClientRect().top:0;Nu(o,e==0?0:e-r)}function Nu(t,r){for(let o=0;o<t.length;o++){let{dom:e,top:a,left:i}=t[o];e.scrollTop!=a+r&&(e.scrollTop=a+r),e.scrollLeft!=i&&(e.scrollLeft=i)}}let Ie=null;function N0(t){if(t.setActive)return t.setActive();if(Ie)return t.focus(Ie);let r=Au(t);t.focus(Ie==null?{get preventScroll(){return Ie={preventScroll:!0},!0}}:void 0),Ie||(Ie=!1,Nu(r,0))}function Du(t,r){let o,e=2e8,a,i=0,n=r.top,l=r.top;for(let s=t.firstChild,c=0;s;s=s.nextSibling,c++){let d;if(s.nodeType==1)d=s.getClientRects();else if(s.nodeType==3)d=wo(s).getClientRects();else continue;for(let p=0;p<d.length;p++){let g=d[p];if(g.top<=n&&g.bottom>=l){n=Math.max(g.bottom,n),l=Math.min(g.top,l);let u=g.left>r.left?g.left-r.left:g.right<r.left?r.left-g.right:0;if(u<e){o=s,e=u,a=u&&o.nodeType==3?{left:g.right<r.left?g.right:g.left,top:r.top}:r,s.nodeType==1&&u&&(i=c+(r.left>=(g.left+g.right)/2?1:0));continue}}!o&&(r.left>=g.right&&r.top>=g.top||r.left>=g.left&&r.top>=g.bottom)&&(i=c+1)}}return o&&o.nodeType==3?D0(o,a):!o||e&&o.nodeType==1?{node:t,offset:i}:Du(o,a)}function D0(t,r){let o=t.nodeValue.length,e=document.createRange();for(let a=0;a<o;a++){e.setEnd(t,a+1),e.setStart(t,a);let i=Bo(e,1);if(i.top!=i.bottom&&cc(r,i))return{node:t,offset:a+(r.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function cc(t,r){return t.left>=r.left-1&&t.left<=r.right+1&&t.top>=r.top-1&&t.top<=r.bottom+1}function B0(t,r){let o=t.parentNode;return o&&/^li$/i.test(o.nodeName)&&r.left<t.getBoundingClientRect().left?o:t}function P0(t,r,o){let{node:e,offset:a}=Du(r,o),i=-1;if(e.nodeType==1&&!e.firstChild){let n=e.getBoundingClientRect();i=n.left!=n.right&&o.left>(n.left+n.right)/2?1:-1}return t.docView.posFromDOM(e,a,i)}function R0(t,r,o,e){let a=-1;for(let i=r;i!=t.dom;){let n=t.docView.nearestDesc(i,!0);if(!n)return null;if(n.node.isBlock&&n.parent){let l=n.dom.getBoundingClientRect();if(l.left>e.left||l.top>e.top)a=n.posBefore;else if(l.right<e.left||l.bottom<e.top)a=n.posAfter;else break}i=n.dom.parentNode}return a>-1?a:t.docView.posFromDOM(r,o,1)}function Bu(t,r,o){let e=t.childNodes.length;if(e&&o.top<o.bottom)for(let a=Math.max(0,Math.min(e-1,Math.floor(e*(r.top-o.top)/(o.bottom-o.top))-2)),i=a;;){let n=t.childNodes[i];if(n.nodeType==1){let l=n.getClientRects();for(let s=0;s<l.length;s++){let c=l[s];if(cc(r,c))return Bu(n,r,c)}}if((i=(i+1)%e)==a)break}return t}function L0(t,r){let o=t.dom.ownerDocument,e,a=0;if(o.caretPositionFromPoint)try{let s=o.caretPositionFromPoint(r.left,r.top);s&&({offsetNode:e,offset:a}=s)}catch{}if(!e&&o.caretRangeFromPoint){let s=o.caretRangeFromPoint(r.left,r.top);s&&({startContainer:e,startOffset:a}=s)}let i=(t.root.elementFromPoint?t.root:o).elementFromPoint(r.left,r.top+1),n;if(!i||!t.dom.contains(i.nodeType!=1?i.parentNode:i)){let s=t.dom.getBoundingClientRect();if(!cc(r,s)||(i=Bu(t.dom,r,s),!i))return null}if(xt)for(let s=i;e&&s;s=lc(s))s.draggable&&(e=void 0);if(i=B0(i,r),e){if(uo&&e.nodeType==1&&(a=Math.min(a,e.childNodes.length),a<e.childNodes.length)){let s=e.childNodes[a],c;s.nodeName=="IMG"&&(c=s.getBoundingClientRect()).right<=r.left&&c.bottom>r.top&&a++}e==t.dom&&a==e.childNodes.length-1&&e.lastChild.nodeType==1&&r.top>e.lastChild.getBoundingClientRect().bottom?n=t.state.doc.content.size:(a==0||e.nodeType!=1||e.childNodes[a-1].nodeName!="BR")&&(n=R0(t,e,a,r))}n==null&&(n=P0(t,i,r));let l=t.docView.nearestDesc(i,!0);return{pos:n,inside:l?l.posAtStart-l.border:-1}}function Bo(t,r){let o=t.getClientRects();return o.length?o[r<0?0:o.length-1]:t.getBoundingClientRect()}const F0=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Pu(t,r,o){let{node:e,offset:a}=t.docView.domFromPos(r,o<0?-1:1),i=xn||uo;if(e.nodeType==3)if(i&&(F0.test(e.nodeValue)||(o<0?!a:a==e.nodeValue.length))){let n=Bo(wo(e,a,a),o);if(uo&&a&&/\s/.test(e.nodeValue[a-1])&&a<e.nodeValue.length){let l=Bo(wo(e,a-1,a-1),-1);if(l.top==n.top){let s=Bo(wo(e,a,a+1),-1);if(s.top!=n.top)return xa(s,s.left<l.left)}}return n}else{let n=a,l=a,s=o<0?1:-1;return o<0&&!a?(l++,s=-1):o>=0&&a==e.nodeValue.length?(n--,s=1):o<0?n--:l++,xa(Bo(wo(e,n,l),s),s<0)}if(!t.state.doc.resolve(r).parent.inlineContent){if(a&&(o<0||a==io(e))){let n=e.childNodes[a-1];if(n.nodeType==1)return Yn(n.getBoundingClientRect(),!1)}if(a<io(e)){let n=e.childNodes[a];if(n.nodeType==1)return Yn(n.getBoundingClientRect(),!0)}return Yn(e.getBoundingClientRect(),o>=0)}if(a&&(o<0||a==io(e))){let n=e.childNodes[a-1],l=n.nodeType==3?wo(n,io(n)-(i?0:1)):n.nodeType==1&&(n.nodeName!="BR"||!n.nextSibling)?n:null;if(l)return xa(Bo(l,1),!1)}if(a<io(e)){let n=e.childNodes[a];for(;n.pmViewDesc&&n.pmViewDesc.ignoreForCoords;)n=n.nextSibling;let l=n?n.nodeType==3?wo(n,0,i?0:1):n.nodeType==1?n:null:null;if(l)return xa(Bo(l,-1),!0)}return xa(Bo(e.nodeType==3?wo(e):e,-o),o>=0)}function xa(t,r){if(t.width==0)return t;let o=r?t.left:t.right;return{top:t.top,bottom:t.bottom,left:o,right:o}}function Yn(t,r){if(t.height==0)return t;let o=r?t.top:t.bottom;return{top:o,bottom:o,left:t.left,right:t.right}}function Ru(t,r,o){let e=t.state,a=t.root.activeElement;e!=r&&t.updateState(r),a!=t.dom&&t.focus();try{return o()}finally{e!=r&&t.updateState(e),a!=t.dom&&a&&a.focus()}}function j0(t,r,o){let e=r.selection,a=o=="up"?e.$from:e.$to;return Ru(t,r,()=>{let{node:i}=t.docView.domFromPos(a.pos,o=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.dom;break}i=l.dom.parentNode}let n=Pu(t,a.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let s;if(l.nodeType==1)s=l.getClientRects();else if(l.nodeType==3)s=wo(l,0,l.nodeValue.length).getClientRects();else continue;for(let c=0;c<s.length;c++){let d=s[c];if(d.bottom>d.top+1&&(o=="up"?n.top-d.top>(d.bottom-n.top)*2:d.bottom-n.bottom>(n.bottom-d.top)*2))return!1}}return!0})}const V0=/[\u0590-\u08ac]/;function H0(t,r,o){let{$head:e}=r.selection;if(!e.parent.isTextblock)return!1;let a=e.parentOffset,i=!a,n=a==e.parent.content.size,l=t.domSelection();return!V0.test(e.parent.textContent)||!l.modify?o=="left"||o=="backward"?i:n:Ru(t,r,()=>{let s=l.getRangeAt(0),c=l.focusNode,d=l.focusOffset,p=l.caretBidiLevel;l.modify("move",o,"character");let u=!(e.depth?t.docView.domAfterPos(e.before()):t.dom).contains(l.focusNode.nodeType==1?l.focusNode:l.focusNode.parentNode)||c==l.focusNode&&d==l.focusOffset;return l.removeAllRanges(),l.addRange(s),p!=null&&(l.caretBidiLevel=p),u})}let jd=null,Vd=null,Hd=!1;function W0(t,r,o){return jd==r&&Vd==o?Hd:(jd=r,Vd=o,Hd=o=="up"||o=="down"?j0(t,r,o):H0(t,r,o))}const Zt=0,Wd=1,Fe=2,mo=3;class ii{constructor(r,o,e,a){this.parent=r,this.children=o,this.dom=e,this.contentDOM=a,this.dirty=Zt,e.pmViewDesc=this}matchesWidget(r){return!1}matchesMark(r){return!1}matchesNode(r,o,e){return!1}matchesHack(r){return!1}parseRule(){return null}stopEvent(r){return!1}get size(){let r=0;for(let o=0;o<this.children.length;o++)r+=this.children[o].size;return r}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let r=0;r<this.children.length;r++)this.children[r].destroy()}posBeforeChild(r){for(let o=0,e=this.posAtStart;;o++){let a=this.children[o];if(a==r)return e;e+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(r,o,e){if(this.contentDOM&&this.contentDOM.contains(r.nodeType==1?r:r.parentNode))if(e<0){let i,n;if(r==this.contentDOM)i=r.childNodes[o-1];else{for(;r.parentNode!=this.contentDOM;)r=r.parentNode;i=r.previousSibling}for(;i&&!((n=i.pmViewDesc)&&n.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(n)+n.size:this.posAtStart}else{let i,n;if(r==this.contentDOM)i=r.childNodes[o];else{for(;r.parentNode!=this.contentDOM;)r=r.parentNode;i=r.nextSibling}for(;i&&!((n=i.pmViewDesc)&&n.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(n):this.posAtEnd}let a;if(r==this.dom&&this.contentDOM)a=o>St(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=r.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(o==0)for(let i=r;;i=i.parentNode){if(i==this.dom){a=!1;break}if(i.previousSibling)break}if(a==null&&o==r.childNodes.length)for(let i=r;;i=i.parentNode){if(i==this.dom){a=!0;break}if(i.nextSibling)break}}return(a==null?e>0:a)?this.posAtEnd:this.posAtStart}nearestDesc(r,o=!1){for(let e=!0,a=r;a;a=a.parentNode){let i=this.getDesc(a),n;if(i&&(!o||i.node))if(e&&(n=i.nodeDOM)&&!(n.nodeType==1?n.contains(r.nodeType==1?r:r.parentNode):n==r))e=!1;else return i}}getDesc(r){let o=r.pmViewDesc;for(let e=o;e;e=e.parent)if(e==this)return o}posFromDOM(r,o,e){for(let a=r;a;a=a.parentNode){let i=this.getDesc(a);if(i)return i.localPosFromDOM(r,o,e)}return-1}descAt(r){for(let o=0,e=0;o<this.children.length;o++){let a=this.children[o],i=e+a.size;if(e==r&&i!=e){for(;!a.border&&a.children.length;)a=a.children[0];return a}if(r<i)return a.descAt(r-e-a.border);e=i}}domFromPos(r,o){if(!this.contentDOM)return{node:this.dom,offset:0};let e=0,a=0;for(let i=0;e<this.children.length;e++){let n=this.children[e],l=i+n.size;if(l>r||n instanceof Fu){a=r-i;break}i=l}if(a)return this.children[e].domFromPos(a-this.children[e].border,o);for(let i;e&&!(i=this.children[e-1]).size&&i instanceof Lu&&i.side>=0;e--);if(o<=0){let i,n=!0;for(;i=e?this.children[e-1]:null,!(!i||i.dom.parentNode==this.contentDOM);e--,n=!1);return i&&o&&n&&!i.border&&!i.domAtom?i.domFromPos(i.size,o):{node:this.contentDOM,offset:i?St(i.dom)+1:0}}else{let i,n=!0;for(;i=e<this.children.length?this.children[e]:null,!(!i||i.dom.parentNode==this.contentDOM);e++,n=!1);return i&&n&&!i.border&&!i.domAtom?i.domFromPos(0,o):{node:this.contentDOM,offset:i?St(i.dom):this.contentDOM.childNodes.length}}}parseRange(r,o,e=0){if(this.children.length==0)return{node:this.contentDOM,from:r,to:o,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,i=-1;for(let n=e,l=0;;l++){let s=this.children[l],c=n+s.size;if(a==-1&&r<=c){let d=n+s.border;if(r>=d&&o<=c-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(r,o,d);r=n;for(let p=l;p>0;p--){let g=this.children[p-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){a=St(g.dom)+1;break}r-=g.size}a==-1&&(a=0)}if(a>-1&&(c>o||l==this.children.length-1)){o=c;for(let d=l+1;d<this.children.length;d++){let p=this.children[d];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){i=St(p.dom);break}o+=p.size}i==-1&&(i=this.contentDOM.childNodes.length);break}n=c}return{node:this.contentDOM,from:r,to:o,fromOffset:a,toOffset:i}}emptyChildAt(r){if(this.border||!this.contentDOM||!this.children.length)return!1;let o=this.children[r<0?0:this.children.length-1];return o.size==0||o.emptyChildAt(r)}domAfterPos(r){let{node:o,offset:e}=this.domFromPos(r,0);if(o.nodeType!=1||e==o.childNodes.length)throw new RangeError("No node after pos "+r);return o.childNodes[e]}setSelection(r,o,e,a=!1){let i=Math.min(r,o),n=Math.max(r,o);for(let g=0,u=0;g<this.children.length;g++){let m=this.children[g],h=u+m.size;if(i>u&&n<h)return m.setSelection(r-u-m.border,o-u-m.border,e,a);u=h}let l=this.domFromPos(r,r?-1:1),s=o==r?l:this.domFromPos(o,o?-1:1),c=e.getSelection(),d=!1;if((uo||xt)&&r==o){let{node:g,offset:u}=l;if(g.nodeType==3){if(d=!!(u&&g.nodeValue[u-1]==`
`),d&&u==g.nodeValue.length)for(let m=g,h;m;m=m.parentNode){if(h=m.nextSibling){h.nodeName=="BR"&&(l=s={node:h.parentNode,offset:St(h)+1});break}let b=m.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let m=g.childNodes[u-1];d=m&&(m.nodeName=="BR"||m.contentEditable=="false")}}if(uo&&c.focusNode&&c.focusNode!=s.node&&c.focusNode.nodeType==1){let g=c.focusNode.childNodes[c.focusOffset];g&&g.contentEditable=="false"&&(a=!0)}if(!(a||d&&xt)&&Za(l.node,l.offset,c.anchorNode,c.anchorOffset)&&Za(s.node,s.offset,c.focusNode,c.focusOffset))return;let p=!1;if((c.extend||r==o)&&!d){c.collapse(l.node,l.offset);try{r!=o&&c.extend(s.node,s.offset),p=!0}catch(g){if(!(g instanceof DOMException))throw g}}if(!p){if(r>o){let u=l;l=s,s=u}let g=document.createRange();g.setEnd(s.node,s.offset),g.setStart(l.node,l.offset),c.removeAllRanges(),c.addRange(g)}}ignoreMutation(r){return!this.contentDOM&&r.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(r,o){for(let e=0,a=0;a<this.children.length;a++){let i=this.children[a],n=e+i.size;if(e==n?r<=n&&o>=e:r<n&&o>e){let l=e+i.border,s=n-i.border;if(r>=l&&o<=s){this.dirty=r==e||o==n?Fe:Wd,r==l&&o==s&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=mo:i.markDirty(r-l,o-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Fe:mo}e=n}this.dirty=Fe}markParentsDirty(){let r=1;for(let o=this.parent;o;o=o.parent,r++){let e=r==1?Fe:Wd;o.dirty<e&&(o.dirty=e)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Lu extends ii{constructor(r,o,e,a){let i,n=o.type.toDOM;if(typeof n=="function"&&(n=n(e,()=>{if(!i)return a;if(i.parent)return i.parent.posBeforeChild(i)})),!o.type.spec.raw){if(n.nodeType!=1){let l=document.createElement("span");l.appendChild(n),n=l}n.contentEditable="false",n.classList.add("ProseMirror-widget")}super(r,[],n,null),this.widget=o,this.widget=o,i=this}matchesWidget(r){return this.dirty==Zt&&r.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(r){let o=this.widget.spec.stopEvent;return o?o(r):!1}ignoreMutation(r){return r.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class K0 extends ii{constructor(r,o,e,a){super(r,[],o,null),this.textDOM=e,this.text=a}get size(){return this.text.length}localPosFromDOM(r,o){return r!=this.textDOM?this.posAtStart+(o?this.size:0):this.posAtStart+o}domFromPos(r){return{node:this.textDOM,offset:r}}ignoreMutation(r){return r.type==="characterData"&&r.target.nodeValue==r.oldValue}}class Se extends ii{constructor(r,o,e,a){super(r,[],e,a),this.mark=o}static create(r,o,e,a){let i=a.nodeViews[o.type.name],n=i&&i(o,a,e);return(!n||!n.dom)&&(n=no.renderSpec(document,o.type.spec.toDOM(o,e))),new Se(r,o,n.dom,n.contentDOM||n.dom)}parseRule(){return this.dirty&mo||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(r){return this.dirty!=mo&&this.mark.eq(r)}markDirty(r,o){if(super.markDirty(r,o),this.dirty!=Zt){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=Zt}}slice(r,o,e){let a=Se.create(this.parent,this.mark,!0,e),i=this.children,n=this.size;o<n&&(i=vs(i,o,n,e)),r>0&&(i=vs(i,0,r,e));for(let l=0;l<i.length;l++)i[l].parent=a;return a.children=i,a}}class $e extends ii{constructor(r,o,e,a,i,n,l,s,c){super(r,[],i,n),this.node=o,this.outerDeco=e,this.innerDeco=a,this.nodeDOM=l,n&&this.updateChildren(s,c)}static create(r,o,e,a,i,n){let l=i.nodeViews[o.type.name],s,c=l&&l(o,i,()=>{if(!s)return n;if(s.parent)return s.parent.posBeforeChild(s)},e,a),d=c&&c.dom,p=c&&c.contentDOM;if(o.isText){if(!d)d=document.createTextNode(o.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:p}=no.renderSpec(document,o.type.spec.toDOM(o)));!p&&!o.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),o.type.spec.draggable&&(d.draggable=!0));let g=d;return d=Hu(d,e,o),c?s=new q0(r,o,e,a,d,p||null,g,c,i,n+1):o.isText?new yn(r,o,e,a,d,g,i):new $e(r,o,e,a,d,p||null,g,i,n+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let r={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(r.preserveWhitespace="full"),!this.contentDOM)r.getContent=()=>this.node.content;else if(!this.contentLost)r.contentElement=this.contentDOM;else{for(let o=this.children.length-1;o>=0;o--){let e=this.children[o];if(this.dom.contains(e.dom.parentNode)){r.contentElement=e.dom.parentNode;break}}r.contentElement||(r.getContent=()=>A.empty)}return r}matchesNode(r,o,e){return this.dirty==Zt&&r.eq(this.node)&&fs(o,this.outerDeco)&&e.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(r,o){let e=this.node.inlineContent,a=o,i=r.composing?this.localCompositionInfo(r,o):null,n=i&&i.pos>-1?i:null,l=i&&i.pos<0,s=new J0(this,n&&n.node);Y0(this.node,this.innerDeco,(c,d,p)=>{c.spec.marks?s.syncToMarks(c.spec.marks,e,r):c.type.side>=0&&!p&&s.syncToMarks(d==this.node.childCount?Cr.none:this.node.child(d).marks,e,r),s.placeWidget(c,r,a)},(c,d,p,g)=>{s.syncToMarks(c.marks,e,r);let u;s.findNodeMatch(c,d,p,g)||l&&r.state.selection.from>a&&r.state.selection.to<a+c.nodeSize&&(u=s.findIndexWithChild(i.node))>-1&&s.updateNodeAt(c,d,p,u,r)||s.updateNextNode(c,d,p,r,g)||s.addNode(c,d,p,r,a),a+=c.nodeSize}),s.syncToMarks([],e,r),this.node.isTextblock&&s.addTextblockHacks(),s.destroyRest(),(s.changed||this.dirty==Fe)&&(n&&this.protectLocalComposition(r,n),ju(this.contentDOM,this.children,r),Xe&&X0(this.dom))}localCompositionInfo(r,o){let{from:e,to:a}=r.state.selection;if(!(r.state.selection instanceof gr)||e<o||a>o+this.node.content.size)return null;let i=r.domSelection(),n=Q0(i.focusNode,i.focusOffset);if(!n||!this.dom.contains(n.parentNode))return null;if(this.node.inlineContent){let l=n.nodeValue,s=rx(this.node.content,l,e-o,a-o);return s<0?null:{node:n,pos:s,text:l}}else return{node:n,pos:-1,text:""}}protectLocalComposition(r,{node:o,pos:e,text:a}){if(this.getDesc(o))return;let i=o;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let n=new K0(this,i,o,a);r.input.compositionNodes.push(n),this.children=vs(this.children,e,e+a.length,r,n)}update(r,o,e,a){return this.dirty==mo||!r.sameMarkup(this.node)?!1:(this.updateInner(r,o,e,a),!0)}updateInner(r,o,e,a){this.updateOuterDeco(o),this.node=r,this.innerDeco=e,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=Zt}updateOuterDeco(r){if(fs(r,this.outerDeco))return;let o=this.nodeDOM.nodeType!=1,e=this.dom;this.dom=Vu(this.dom,this.nodeDOM,hs(this.outerDeco,this.node,o),hs(r,this.node,o)),this.dom!=e&&(e.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=r}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Kd(t,r,o,e,a){return Hu(e,r,t),new $e(void 0,t,r,o,e,e,e,a,0)}class yn extends $e{constructor(r,o,e,a,i,n,l){super(r,o,e,a,i,null,n,l,0)}parseRule(){let r=this.nodeDOM.parentNode;for(;r&&r!=this.dom&&!r.pmIsDeco;)r=r.parentNode;return{skip:r||!0}}update(r,o,e,a){return this.dirty==mo||this.dirty!=Zt&&!this.inParent()||!r.sameMarkup(this.node)?!1:(this.updateOuterDeco(o),(this.dirty!=Zt||r.text!=this.node.text)&&r.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=r.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=r,this.dirty=Zt,!0)}inParent(){let r=this.parent.contentDOM;for(let o=this.nodeDOM;o;o=o.parentNode)if(o==r)return!0;return!1}domFromPos(r){return{node:this.nodeDOM,offset:r}}localPosFromDOM(r,o,e){return r==this.nodeDOM?this.posAtStart+Math.min(o,this.node.text.length):super.localPosFromDOM(r,o,e)}ignoreMutation(r){return r.type!="characterData"&&r.type!="selection"}slice(r,o,e){let a=this.node.cut(r,o),i=document.createTextNode(a.text);return new yn(this.parent,a,this.outerDeco,this.innerDeco,i,i,e)}markDirty(r,o){super.markDirty(r,o),this.dom!=this.nodeDOM&&(r==0||o==this.nodeDOM.nodeValue.length)&&(this.dirty=mo)}get domAtom(){return!1}}class Fu extends ii{parseRule(){return{ignore:!0}}matchesHack(r){return this.dirty==Zt&&this.dom.nodeName==r}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class q0 extends $e{constructor(r,o,e,a,i,n,l,s,c,d){super(r,o,e,a,i,n,l,c,d),this.spec=s}update(r,o,e,a){if(this.dirty==mo)return!1;if(this.spec.update){let i=this.spec.update(r,o,e);return i&&this.updateInner(r,o,e,a),i}else return!this.contentDOM&&!r.isLeaf?!1:super.update(r,o,e,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(r,o,e,a){this.spec.setSelection?this.spec.setSelection(r,o,e):super.setSelection(r,o,e,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(r){return this.spec.stopEvent?this.spec.stopEvent(r):!1}ignoreMutation(r){return this.spec.ignoreMutation?this.spec.ignoreMutation(r):super.ignoreMutation(r)}}function ju(t,r,o){let e=t.firstChild,a=!1;for(let i=0;i<r.length;i++){let n=r[i],l=n.dom;if(l.parentNode==t){for(;l!=e;)e=qd(e),a=!0;e=e.nextSibling}else a=!0,t.insertBefore(l,e);if(n instanceof Se){let s=e?e.previousSibling:t.lastChild;ju(n.contentDOM,n.children,o),e=s?s.nextSibling:t.firstChild}}for(;e;)e=qd(e),a=!0;a&&o.trackWrites==t&&(o.trackWrites=null)}const Ba=function(t){t&&(this.nodeName=t)};Ba.prototype=Object.create(null);const me=[new Ba];function hs(t,r,o){if(t.length==0)return me;let e=o?me[0]:new Ba,a=[e];for(let i=0;i<t.length;i++){let n=t[i].type.attrs;if(!!n){n.nodeName&&a.push(e=new Ba(n.nodeName));for(let l in n){let s=n[l];s!=null&&(o&&a.length==1&&a.push(e=new Ba(r.isInline?"span":"div")),l=="class"?e.class=(e.class?e.class+" ":"")+s:l=="style"?e.style=(e.style?e.style+";":"")+s:l!="nodeName"&&(e[l]=s))}}}return a}function Vu(t,r,o,e){if(o==me&&e==me)return r;let a=r;for(let i=0;i<e.length;i++){let n=e[i],l=o[i];if(i){let s;l&&l.nodeName==n.nodeName&&a!=t&&(s=a.parentNode)&&s.nodeName.toLowerCase()==n.nodeName||(s=document.createElement(n.nodeName),s.pmIsDeco=!0,s.appendChild(a),l=me[0]),a=s}U0(a,l||me[0],n)}return a}function U0(t,r,o){for(let e in r)e!="class"&&e!="style"&&e!="nodeName"&&!(e in o)&&t.removeAttribute(e);for(let e in o)e!="class"&&e!="style"&&e!="nodeName"&&o[e]!=r[e]&&t.setAttribute(e,o[e]);if(r.class!=o.class){let e=r.class?r.class.split(" ").filter(Boolean):[],a=o.class?o.class.split(" ").filter(Boolean):[];for(let i=0;i<e.length;i++)a.indexOf(e[i])==-1&&t.classList.remove(e[i]);for(let i=0;i<a.length;i++)e.indexOf(a[i])==-1&&t.classList.add(a[i]);t.classList.length==0&&t.removeAttribute("class")}if(r.style!=o.style){if(r.style){let e=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=e.exec(r.style);)t.style.removeProperty(a[1])}o.style&&(t.style.cssText+=o.style)}}function Hu(t,r,o){return Vu(t,t,me,hs(r,o,t.nodeType!=1))}function fs(t,r){if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++)if(!t[o].type.eq(r[o].type))return!1;return!0}function qd(t){let r=t.nextSibling;return t.parentNode.removeChild(t),r}class J0{constructor(r,o){this.lock=o,this.index=0,this.stack=[],this.changed=!1,this.top=r,this.preMatch=G0(r.node.content,r)}destroyBetween(r,o){if(r!=o){for(let e=r;e<o;e++)this.top.children[e].destroy();this.top.children.splice(r,o-r),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(r,o,e){let a=0,i=this.stack.length>>1,n=Math.min(i,r.length);for(;a<n&&(a==i-1?this.top:this.stack[a+1<<1]).matchesMark(r[a])&&r[a].type.spec.spanning!==!1;)a++;for(;a<i;)this.destroyRest(),this.top.dirty=Zt,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<r.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(r[i])){l=s;break}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let s=Se.create(this.top,r[i],o,e);this.top.children.splice(this.index,0,s),this.top=s,this.changed=!0}this.index=0,i++}}findNodeMatch(r,o,e,a){let i=-1,n;if(a>=this.preMatch.index&&(n=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&n.matchesNode(r,o,e))i=this.top.children.indexOf(n,this.index);else for(let l=this.index,s=Math.min(this.top.children.length,l+5);l<s;l++){let c=this.top.children[l];if(c.matchesNode(r,o,e)&&!this.preMatch.matched.has(c)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(r,o,e,a,i){let n=this.top.children[a];return n.dirty==mo&&n.dom==n.contentDOM&&(n.dirty=Fe),n.update(r,o,e,i)?(this.destroyBetween(this.index,a),this.index=a+1,!0):!1}findIndexWithChild(r){for(;;){let o=r.parentNode;if(!o)return-1;if(o==this.top.contentDOM){let e=r.pmViewDesc;if(e){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==e)return a}return-1}r=o}}updateNextNode(r,o,e,a,i){for(let n=this.index;n<this.top.children.length;n++){let l=this.top.children[n];if(l instanceof $e){let s=this.preMatch.matched.get(l);if(s!=null&&s!=i)return!1;let c=l.dom;if(!(this.lock&&(c==this.lock||c.nodeType==1&&c.contains(this.lock.parentNode))&&!(r.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==r.text&&l.dirty!=mo&&fs(o,l.outerDeco)))&&l.update(r,o,e,a))return this.destroyBetween(this.index,n),l.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(r,o,e,a,i){this.top.children.splice(this.index++,0,$e.create(this.top,r,o,e,a,i)),this.changed=!0}placeWidget(r,o,e){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(r)&&(r==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let i=new Lu(this.top,r,o,e);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let r=this.top.children[this.index-1],o=this.top;for(;r instanceof Se;)o=r,r=o.children[o.children.length-1];(!r||!(r instanceof yn)||/\n$/.test(r.node.text))&&((xt||dt)&&r&&r.dom.contentEditable=="false"&&this.addHackNode("IMG",o),this.addHackNode("BR",this.top))}addHackNode(r,o){if(o==this.top&&this.index<o.children.length&&o.children[this.index].matchesHack(r))this.index++;else{let e=document.createElement(r);r=="IMG"&&(e.className="ProseMirror-separator",e.alt=""),r=="BR"&&(e.className="ProseMirror-trailingBreak");let a=new Fu(this.top,[],e,null);o!=this.top?o.children.push(a):o.children.splice(this.index++,0,a),this.changed=!0}}}function G0(t,r){let o=r,e=o.children.length,a=t.childCount,i=new Map,n=[];r:for(;a>0;){let l;for(;;)if(e){let c=o.children[e-1];if(c instanceof Se)o=c,e=c.children.length;else{l=c,e--;break}}else{if(o==r)break r;e=o.parent.children.indexOf(o),o=o.parent}let s=l.node;if(!!s){if(s!=t.child(a-1))break;--a,i.set(l,a),n.push(l)}}return{index:a,matched:i,matches:n.reverse()}}function Z0(t,r){return t.type.side-r.type.side}function Y0(t,r,o,e){let a=r.locals(t),i=0;if(a.length==0){for(let c=0;c<t.childCount;c++){let d=t.child(c);e(d,a,r.forChild(i,d),c),i+=d.nodeSize}return}let n=0,l=[],s=null;for(let c=0;;){if(n<a.length&&a[n].to==i){let m=a[n++],h;for(;n<a.length&&a[n].to==i;)(h||(h=[m])).push(a[n++]);if(h){h.sort(Z0);for(let b=0;b<h.length;b++)o(h[b],c,!!s)}else o(m,c,!!s)}let d,p;if(s)p=-1,d=s,s=null;else if(c<t.childCount)p=c,d=t.child(c++);else break;for(let m=0;m<l.length;m++)l[m].to<=i&&l.splice(m--,1);for(;n<a.length&&a[n].from<=i&&a[n].to>i;)l.push(a[n++]);let g=i+d.nodeSize;if(d.isText){let m=g;n<a.length&&a[n].from<m&&(m=a[n].from);for(let h=0;h<l.length;h++)l[h].to<m&&(m=l[h].to);m<g&&(s=d.cut(m-i),d=d.cut(0,m-i),g=m,p=-1)}let u=d.isInline&&!d.isLeaf?l.filter(m=>!m.inline):l.slice();e(d,u,r.forChild(i,d),p),i=g}}function X0(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let r=t.style.cssText;t.style.cssText=r+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=r}}function Q0(t,r){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&r>0){if(t.childNodes.length>r&&t.childNodes[r].nodeType==3)return t.childNodes[r];t=t.childNodes[r-1],r=io(t)}else if(t.nodeType==1&&r<t.childNodes.length)t=t.childNodes[r],r=0;else return null}}function rx(t,r,o,e){for(let a=0,i=0;a<t.childCount&&i<=e;){let n=t.child(a++),l=i;if(i+=n.nodeSize,!n.isText)continue;let s=n.text;for(;a<t.childCount;){let c=t.child(a++);if(i+=c.nodeSize,!c.isText)break;s+=c.text}if(i>=o){let c=l<e?s.lastIndexOf(r,e-l-1):-1;if(c>=0&&c+r.length+l>=o)return l+c;if(o==e&&s.length>=e+r.length-l&&s.slice(e-l,e-l+r.length)==r)return e}}return-1}function vs(t,r,o,e,a){let i=[];for(let n=0,l=0;n<t.length;n++){let s=t[n],c=l,d=l+=s.size;c>=o||d<=r?i.push(s):(c<r&&i.push(s.slice(0,r-c,e)),a&&(i.push(a),a=void 0),d>o&&i.push(s.slice(o-c,s.size,e)))}return i}function Wu(t,r=null){let o=t.domSelection(),e=t.state.doc;if(!o.focusNode)return null;let a=t.docView.nearestDesc(o.focusNode),i=a&&a.size==0,n=t.docView.posFromDOM(o.focusNode,o.focusOffset,1);if(n<0)return null;let l=e.resolve(n),s,c;if(sc(o)){for(s=l;a&&!a.node;)a=a.parent;let d=a.node;if(a&&d.isAtom&&or.isSelectable(d)&&a.parent&&!(d.isInline&&O0(o.focusNode,o.focusOffset,a.dom))){let p=a.posBefore;c=new or(n==p?l:e.resolve(p))}}else{let d=t.docView.posFromDOM(o.anchorNode,o.anchorOffset,1);if(d<0)return null;s=e.resolve(d)}if(!c){let d=r=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;c=dc(t,s,l,d)}return c}function Ku(t){return t.editable?t.hasFocus():Uu(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Zo(t,r=!1){let o=t.state.selection;if(qu(t,o),!!Ku(t)){if(!r&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&dt){let e=t.domSelection(),a=t.domObserver.currentSelection;if(e.anchorNode&&a.anchorNode&&Za(e.anchorNode,e.anchorOffset,a.anchorNode,a.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)ox(t);else{let{anchor:e,head:a}=o,i,n;Ud&&!(o instanceof gr)&&(o.$from.parent.inlineContent||(i=Jd(t,o.from)),!o.empty&&!o.$from.parent.inlineContent&&(n=Jd(t,o.to))),t.docView.setSelection(e,a,t.root,r),Ud&&(i&&Gd(i),n&&Gd(n)),o.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&tx(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Ud=xt||dt&&S0<63;function Jd(t,r){let{node:o,offset:e}=t.docView.domFromPos(r,0),a=e<o.childNodes.length?o.childNodes[e]:null,i=e?o.childNodes[e-1]:null;if(xt&&a&&a.contentEditable=="false")return Xn(a);if((!a||a.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(a)return Xn(a);if(i)return Xn(i)}}function Xn(t){return t.contentEditable="true",xt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Gd(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function tx(t){let r=t.dom.ownerDocument;r.removeEventListener("selectionchange",t.input.hideSelectionGuard);let o=t.domSelection(),e=o.anchorNode,a=o.anchorOffset;r.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(o.anchorNode!=e||o.anchorOffset!=a)&&(r.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Ku(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function ox(t){let r=t.domSelection(),o=document.createRange(),e=t.cursorWrapper.dom,a=e.nodeName=="IMG";a?o.setEnd(e.parentNode,St(e)+1):o.setEnd(e,0),o.collapse(!1),r.removeAllRanges(),r.addRange(o),!a&&!t.state.selection.visible&&Mt&&Wo<=11&&(e.disabled=!0,e.disabled=!1)}function qu(t,r){if(r instanceof or){let o=t.docView.descAt(r.from);o!=t.lastSelectedViewDesc&&(Zd(t),o&&o.selectNode(),t.lastSelectedViewDesc=o)}else Zd(t)}function Zd(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function dc(t,r,o,e){return t.someProp("createSelectionBetween",a=>a(t,r,o))||gr.between(r,o,e)}function Yd(t){return t.editable&&t.root.activeElement!=t.dom?!1:Uu(t)}function Uu(t){let r=t.domSelection();if(!r.anchorNode)return!1;try{return t.dom.contains(r.anchorNode.nodeType==3?r.anchorNode.parentNode:r.anchorNode)&&(t.editable||t.dom.contains(r.focusNode.nodeType==3?r.focusNode.parentNode:r.focusNode))}catch{return!1}}function ex(t){let r=t.docView.domFromPos(t.state.selection.anchor,0),o=t.domSelection();return Za(r.node,r.offset,o.anchorNode,o.anchorOffset)}function bs(t,r){let{$anchor:o,$head:e}=t.selection,a=r>0?o.max(e):o.min(e),i=a.parent.inlineContent?a.depth?t.doc.resolve(r>0?a.after():a.before()):null:a;return i&&dr.findFrom(i,r)}function ge(t,r){return t.dispatch(t.state.tr.setSelection(r).scrollIntoView()),!0}function Xd(t,r,o){let e=t.state.selection;if(e instanceof gr){if(!e.empty||o.indexOf("s")>-1)return!1;if(t.endOfTextblock(r>0?"right":"left")){let a=bs(t.state,r);return a&&a instanceof or?ge(t,a):!1}else if(!(Nt&&o.indexOf("m")>-1)){let a=e.$head,i=a.textOffset?null:r<0?a.nodeBefore:a.nodeAfter,n;if(!i||i.isText)return!1;let l=r<0?a.pos-i.nodeSize:a.pos;return i.isAtom||(n=t.docView.descAt(l))&&!n.contentDOM?or.isSelectable(i)?ge(t,new or(r<0?t.state.doc.resolve(a.pos-i.nodeSize):a)):xn?ge(t,new gr(t.state.doc.resolve(r<0?l:l+i.nodeSize))):!1:!1}}else{if(e instanceof or&&e.node.isInline)return ge(t,new gr(r>0?e.$to:e.$from));{let a=bs(t.state,r);return a?ge(t,a):!1}}}function Ui(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Pa(t){let r=t.pmViewDesc;return r&&r.size==0&&(t.nextSibling||t.nodeName!="BR")}function Qn(t){let r=t.domSelection(),o=r.focusNode,e=r.focusOffset;if(!o)return;let a,i,n=!1;for(uo&&o.nodeType==1&&e<Ui(o)&&Pa(o.childNodes[e])&&(n=!0);;)if(e>0){if(o.nodeType!=1)break;{let l=o.childNodes[e-1];if(Pa(l))a=o,i=--e;else if(l.nodeType==3)o=l,e=o.nodeValue.length;else break}}else{if(Ju(o))break;{let l=o.previousSibling;for(;l&&Pa(l);)a=o.parentNode,i=St(l),l=l.previousSibling;if(l)o=l,e=Ui(o);else{if(o=o.parentNode,o==t.dom)break;e=0}}}n?xs(t,r,o,e):a&&xs(t,r,a,i)}function rl(t){let r=t.domSelection(),o=r.focusNode,e=r.focusOffset;if(!o)return;let a=Ui(o),i,n;for(;;)if(e<a){if(o.nodeType!=1)break;let l=o.childNodes[e];if(Pa(l))i=o,n=++e;else break}else{if(Ju(o))break;{let l=o.nextSibling;for(;l&&Pa(l);)i=l.parentNode,n=St(l)+1,l=l.nextSibling;if(l)o=l,e=0,a=Ui(o);else{if(o=o.parentNode,o==t.dom)break;e=a=0}}}i&&xs(t,r,i,n)}function Ju(t){let r=t.pmViewDesc;return r&&r.node&&r.node.isBlock}function xs(t,r,o,e){if(sc(r)){let i=document.createRange();i.setEnd(o,e),i.setStart(o,e),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(o,e);t.domObserver.setCurSelection();let{state:a}=t;setTimeout(()=>{t.state==a&&Zo(t)},50)}function Qd(t,r,o){let e=t.state.selection;if(e instanceof gr&&!e.empty||o.indexOf("s")>-1||Nt&&o.indexOf("m")>-1)return!1;let{$from:a,$to:i}=e;if(!a.parent.inlineContent||t.endOfTextblock(r<0?"up":"down")){let n=bs(t.state,r);if(n&&n instanceof or)return ge(t,n)}if(!a.parent.inlineContent){let n=r<0?a:i,l=e instanceof Gt?dr.near(n,r):dr.findFrom(n,r);return l?ge(t,l):!1}return!1}function rp(t,r){if(!(t.state.selection instanceof gr))return!0;let{$head:o,$anchor:e,empty:a}=t.state.selection;if(!o.sameParent(e))return!0;if(!a)return!1;if(t.endOfTextblock(r>0?"forward":"backward"))return!0;let i=!o.textOffset&&(r<0?o.nodeBefore:o.nodeAfter);if(i&&!i.isText){let n=t.state.tr;return r<0?n.delete(o.pos-i.nodeSize,o.pos):n.delete(o.pos,o.pos+i.nodeSize),t.dispatch(n),!0}return!1}function tp(t,r,o){t.domObserver.stop(),r.contentEditable=o,t.domObserver.start()}function ax(t){if(!xt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:r,focusOffset:o}=t.domSelection();if(r&&r.nodeType==1&&o==0&&r.firstChild&&r.firstChild.contentEditable=="false"){let e=r.firstChild;tp(t,e,"true"),setTimeout(()=>tp(t,e,"false"),20)}return!1}function ix(t){let r="";return t.ctrlKey&&(r+="c"),t.metaKey&&(r+="m"),t.altKey&&(r+="a"),t.shiftKey&&(r+="s"),r}function nx(t,r){let o=r.keyCode,e=ix(r);return o==8||Nt&&o==72&&e=="c"?rp(t,-1)||Qn(t):o==46||Nt&&o==68&&e=="c"?rp(t,1)||rl(t):o==13||o==27?!0:o==37||Nt&&o==66&&e=="c"?Xd(t,-1,e)||Qn(t):o==39||Nt&&o==70&&e=="c"?Xd(t,1,e)||rl(t):o==38||Nt&&o==80&&e=="c"?Qd(t,-1,e)||Qn(t):o==40||Nt&&o==78&&e=="c"?ax(t)||Qd(t,1,e)||rl(t):e==(Nt?"m":"c")&&(o==66||o==73||o==89||o==90)}function Gu(t,r){let o=[],{content:e,openStart:a,openEnd:i}=r;for(;a>1&&i>1&&e.childCount==1&&e.firstChild.childCount==1;){a--,i--;let u=e.firstChild;o.push(u.type.name,u.attrs!=u.type.defaultAttrs?u.attrs:null),e=u.content}let n=t.someProp("clipboardSerializer")||no.fromSchema(t.state.schema),l=tm(),s=l.createElement("div");s.appendChild(n.serializeFragment(e,{document:l}));let c=s.firstChild,d,p=0;for(;c&&c.nodeType==1&&(d=rm[c.nodeName.toLowerCase()]);){for(let u=d.length-1;u>=0;u--){let m=l.createElement(d[u]);for(;s.firstChild;)m.appendChild(s.firstChild);s.appendChild(m),p++}c=s.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${a} ${i}${p?` -${p}`:""} ${JSON.stringify(o)}`);let g=t.someProp("clipboardTextSerializer",u=>u(r))||r.content.textBetween(0,r.content.size,`

`);return{dom:s,text:g}}function Zu(t,r,o,e,a){let i=a.parent.type.spec.code,n,l;if(!o&&!r)return null;let s=r&&(e||i||!o);if(s){if(t.someProp("transformPastedText",g=>{r=g(r,i||e)}),i)return r?new H(A.from(t.state.schema.text(r.replace(/\r\n?/g,`
`))),0,0):H.empty;let p=t.someProp("clipboardTextParser",g=>g(r,a,e));if(p)l=p;else{let g=a.marks(),{schema:u}=t.state,m=no.fromSchema(u);n=document.createElement("div"),r.split(/(?:\r\n?|\n)+/).forEach(h=>{let b=n.appendChild(document.createElement("p"));h&&b.appendChild(m.serializeNode(u.text(h,g)))})}}else t.someProp("transformPastedHTML",p=>{o=p(o)}),n=cx(o),xn&&dx(n);let c=n&&n.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let p=+d[3];p>0&&n.firstChild;p--)n=n.firstChild;if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||ze.fromSchema(t.state.schema)).parseSlice(n,{preserveWhitespace:!!(s||d),context:a,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!lx.test(g.parentNode.nodeName)?{ignore:!0}:null}})),d)l=px(op(l,+d[1],+d[2]),d[4]);else if(l=H.maxOpen(sx(l.content,a),!0),l.openStart||l.openEnd){let p=0,g=0;for(let u=l.content.firstChild;p<l.openStart&&!u.type.spec.isolating;p++,u=u.firstChild);for(let u=l.content.lastChild;g<l.openEnd&&!u.type.spec.isolating;g++,u=u.lastChild);l=op(l,p,g)}return t.someProp("transformPasted",p=>{l=p(l)}),l}const lx=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function sx(t,r){if(t.childCount<2)return t;for(let o=r.depth;o>=0;o--){let a=r.node(o).contentMatchAt(r.index(o)),i,n=[];if(t.forEach(l=>{if(!n)return;let s=a.findWrapping(l.type),c;if(!s)return n=null;if(c=n.length&&i.length&&Xu(s,i,l,n[n.length-1],0))n[n.length-1]=c;else{n.length&&(n[n.length-1]=Qu(n[n.length-1],i.length));let d=Yu(l,s);n.push(d),a=a.matchType(d.type),i=s}}),n)return A.from(n)}return t}function Yu(t,r,o=0){for(let e=r.length-1;e>=o;e--)t=r[e].create(null,A.from(t));return t}function Xu(t,r,o,e,a){if(a<t.length&&a<r.length&&t[a]==r[a]){let i=Xu(t,r,o,e.lastChild,a+1);if(i)return e.copy(e.content.replaceChild(e.childCount-1,i));if(e.contentMatchAt(e.childCount).matchType(a==t.length-1?o.type:t[a+1]))return e.copy(e.content.append(A.from(Yu(o,t,a+1))))}}function Qu(t,r){if(r==0)return t;let o=t.content.replaceChild(t.childCount-1,Qu(t.lastChild,r-1)),e=t.contentMatchAt(t.childCount).fillBefore(A.empty,!0);return t.copy(o.append(e))}function ys(t,r,o,e,a,i){let n=r<0?t.firstChild:t.lastChild,l=n.content;return a<e-1&&(l=ys(l,r,o,e,a+1,i)),a>=o&&(l=r<0?n.contentMatchAt(0).fillBefore(l,t.childCount>1||i<=a).append(l):l.append(n.contentMatchAt(n.childCount).fillBefore(A.empty,!0))),t.replaceChild(r<0?0:t.childCount-1,n.copy(l))}function op(t,r,o){return r<t.openStart&&(t=new H(ys(t.content,-1,r,t.openStart,0,t.openEnd),r,t.openEnd)),o<t.openEnd&&(t=new H(ys(t.content,1,o,t.openEnd,0,0),t.openStart,o)),t}const rm={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ep=null;function tm(){return ep||(ep=document.implementation.createHTMLDocument("title"))}function cx(t){let r=/^(\s*<meta [^>]*>)*/.exec(t);r&&(t=t.slice(r[0].length));let o=tm().createElement("div"),e=/<([a-z][^>\s]+)/i.exec(t),a;if((a=e&&rm[e[1].toLowerCase()])&&(t=a.map(i=>"<"+i+">").join("")+t+a.map(i=>"</"+i+">").reverse().join("")),o.innerHTML=t,a)for(let i=0;i<a.length;i++)o=o.querySelector(a[i])||o;return o}function dx(t){let r=t.querySelectorAll(dt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let o=0;o<r.length;o++){let e=r[o];e.childNodes.length==1&&e.textContent=="\xA0"&&e.parentNode&&e.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),e)}}function px(t,r){if(!t.size)return t;let o=t.content.firstChild.type.schema,e;try{e=JSON.parse(r)}catch{return t}let{content:a,openStart:i,openEnd:n}=t;for(let l=e.length-2;l>=0;l-=2){let s=o.nodes[e[l]];if(!s||s.hasRequiredAttrs())break;a=A.from(s.create(e[l+1],a)),i++,n++}return new H(a,i,n)}const yt={};let pt={};class gx{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function ux(t){for(let r in yt){let o=yt[r];t.dom.addEventListener(r,t.input.eventHandlers[r]=e=>{hx(t,e)&&!pc(t,e)&&(t.editable||!(e.type in pt))&&o(t,e)})}xt&&t.dom.addEventListener("input",()=>null),ws(t)}function he(t,r){t.input.lastSelectionOrigin=r,t.input.lastSelectionTime=Date.now()}function mx(t){t.domObserver.stop();for(let r in t.input.eventHandlers)t.dom.removeEventListener(r,t.input.eventHandlers[r]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function ws(t){t.someProp("handleDOMEvents",r=>{for(let o in r)t.input.eventHandlers[o]||t.dom.addEventListener(o,t.input.eventHandlers[o]=e=>pc(t,e))})}function pc(t,r){return t.someProp("handleDOMEvents",o=>{let e=o[r.type];return e?e(t,r)||r.defaultPrevented:!1})}function hx(t,r){if(!r.bubbles)return!0;if(r.defaultPrevented)return!1;for(let o=r.target;o!=t.dom;o=o.parentNode)if(!o||o.nodeType==11||o.pmViewDesc&&o.pmViewDesc.stopEvent(r))return!1;return!0}function fx(t,r){!pc(t,r)&&yt[r.type]&&(t.editable||!(r.type in pt))&&yt[r.type](t,r)}pt.keydown=(t,r)=>{let o=r;if(t.input.shiftKey=o.keyCode==16||o.shiftKey,!em(t,o)&&(t.input.lastKeyCode=o.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ao&&dt&&o.keyCode==13)))if(o.keyCode!=229&&t.domObserver.forceFlush(),Xe&&o.keyCode==13&&!o.ctrlKey&&!o.altKey&&!o.metaKey){let e=Date.now();t.input.lastIOSEnter=e,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==e&&(t.someProp("handleKeyDown",a=>a(t,Le(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",e=>e(t,o))||nx(t,o)?o.preventDefault():he(t,"key")};pt.keyup=(t,r)=>{r.keyCode==16&&(t.input.shiftKey=!1)};pt.keypress=(t,r)=>{let o=r;if(em(t,o)||!o.charCode||o.ctrlKey&&!o.altKey||Nt&&o.metaKey)return;if(t.someProp("handleKeyPress",a=>a(t,o))){o.preventDefault();return}let e=t.state.selection;if(!(e instanceof gr)||!e.$from.sameParent(e.$to)){let a=String.fromCharCode(o.charCode);t.someProp("handleTextInput",i=>i(t,e.$from.pos,e.$to.pos,a))||t.dispatch(t.state.tr.insertText(a).scrollIntoView()),o.preventDefault()}};function wn(t){return{left:t.clientX,top:t.clientY}}function vx(t,r){let o=r.x-t.clientX,e=r.y-t.clientY;return o*o+e*e<100}function gc(t,r,o,e,a){if(e==-1)return!1;let i=t.state.doc.resolve(e);for(let n=i.depth+1;n>0;n--)if(t.someProp(r,l=>n>i.depth?l(t,o,i.nodeAfter,i.before(n),a,!0):l(t,o,i.node(n),i.before(n),a,!1)))return!0;return!1}function Ue(t,r,o){t.focused||t.focus();let e=t.state.tr.setSelection(r);o=="pointer"&&e.setMeta("pointer",!0),t.dispatch(e)}function bx(t,r){if(r==-1)return!1;let o=t.state.doc.resolve(r),e=o.nodeAfter;return e&&e.isAtom&&or.isSelectable(e)?(Ue(t,new or(o),"pointer"),!0):!1}function xx(t,r){if(r==-1)return!1;let o=t.state.selection,e,a;o instanceof or&&(e=o.node);let i=t.state.doc.resolve(r);for(let n=i.depth+1;n>0;n--){let l=n>i.depth?i.nodeAfter:i.node(n);if(or.isSelectable(l)){e&&o.$from.depth>0&&n>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?a=i.before(o.$from.depth):a=i.before(n);break}}return a!=null?(Ue(t,or.create(t.state.doc,a),"pointer"),!0):!1}function yx(t,r,o,e,a){return gc(t,"handleClickOn",r,o,e)||t.someProp("handleClick",i=>i(t,r,e))||(a?xx(t,o):bx(t,o))}function wx(t,r,o,e){return gc(t,"handleDoubleClickOn",r,o,e)||t.someProp("handleDoubleClick",a=>a(t,r,e))}function kx(t,r,o,e){return gc(t,"handleTripleClickOn",r,o,e)||t.someProp("handleTripleClick",a=>a(t,r,e))||_x(t,o,e)}function _x(t,r,o){if(o.button!=0)return!1;let e=t.state.doc;if(r==-1)return e.inlineContent?(Ue(t,gr.create(e,0,e.content.size),"pointer"),!0):!1;let a=e.resolve(r);for(let i=a.depth+1;i>0;i--){let n=i>a.depth?a.nodeAfter:a.node(i),l=a.before(i);if(n.inlineContent)Ue(t,gr.create(e,l+1,l+1+n.content.size),"pointer");else if(or.isSelectable(n))Ue(t,or.create(e,l),"pointer");else continue;return!0}}function uc(t){return Ji(t)}const om=Nt?"metaKey":"ctrlKey";yt.mousedown=(t,r)=>{let o=r;t.input.shiftKey=o.shiftKey;let e=uc(t),a=Date.now(),i="singleClick";a-t.input.lastClick.time<500&&vx(o,t.input.lastClick)&&!o[om]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:a,x:o.clientX,y:o.clientY,type:i};let n=t.posAtCoords(wn(o));!n||(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new zx(t,n,o,!!e)):(i=="doubleClick"?wx:kx)(t,n.pos,n.inside,o)?o.preventDefault():he(t,"pointer"))};class zx{constructor(r,o,e,a){this.view=r,this.pos=o,this.event=e,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=r.state.doc,this.selectNode=!!e[om],this.allowDefault=e.shiftKey;let i,n;if(o.inside>-1)i=r.state.doc.nodeAt(o.inside),n=o.inside;else{let d=r.state.doc.resolve(o.pos);i=d.parent,n=d.depth?d.before():0}const l=a?null:e.target,s=l?r.docView.nearestDesc(l,!0):null;this.target=s?s.dom:null;let{selection:c}=r.state;(e.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||c instanceof or&&c.from<=n&&c.to>n)&&(this.mightDrag={node:i,pos:n,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&uo&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),r.root.addEventListener("mouseup",this.up=this.up.bind(this)),r.root.addEventListener("mousemove",this.move=this.move.bind(this)),he(r,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Zo(this.view)),this.view.input.mouseDown=null}up(r){if(this.done(),!this.view.dom.contains(r.target))return;let o=this.pos;this.view.state.doc!=this.startDoc&&(o=this.view.posAtCoords(wn(r))),this.allowDefault||!o?he(this.view,"pointer"):yx(this.view,o.pos,o.inside,r,this.selectNode)?r.preventDefault():r.button==0&&(this.flushed||xt&&this.mightDrag&&!this.mightDrag.node.isAtom||dt&&!(this.view.state.selection instanceof gr)&&Math.min(Math.abs(o.pos-this.view.state.selection.from),Math.abs(o.pos-this.view.state.selection.to))<=2)?(Ue(this.view,dr.near(this.view.state.doc.resolve(o.pos)),"pointer"),r.preventDefault()):he(this.view,"pointer")}move(r){!this.allowDefault&&(Math.abs(this.event.x-r.clientX)>4||Math.abs(this.event.y-r.clientY)>4)&&(this.allowDefault=!0),he(this.view,"pointer"),r.buttons==0&&this.done()}}yt.touchdown=t=>{uc(t),he(t,"pointer")};yt.contextmenu=t=>uc(t);function em(t,r){return t.composing?!0:xt&&Math.abs(r.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Sx=ao?5e3:-1;pt.compositionstart=pt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:r}=t,o=r.selection.$from;if(r.selection.empty&&(r.storedMarks||!o.textOffset&&o.parentOffset&&o.nodeBefore.marks.some(e=>e.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||o.marks(),Ji(t,!0),t.markCursor=null;else if(Ji(t),uo&&r.selection.empty&&o.parentOffset&&!o.textOffset&&o.nodeBefore.marks.length){let e=t.domSelection();for(let a=e.focusNode,i=e.focusOffset;a&&a.nodeType==1&&i!=0;){let n=i<0?a.lastChild:a.childNodes[i-1];if(!n)break;if(n.nodeType==3){e.collapse(n,n.nodeValue.length);break}else a=n,i=-1}}t.input.composing=!0}am(t,Sx)};pt.compositionend=(t,r)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=r.timeStamp,am(t,20))};function am(t,r){clearTimeout(t.input.composingTimeout),r>-1&&(t.input.composingTimeout=setTimeout(()=>Ji(t),r))}function im(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=$x());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function $x(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ji(t,r=!1){if(!(ao&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),im(t),r||t.docView&&t.docView.dirty){let o=Wu(t);return o&&!o.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(o)):t.updateState(t.state),!0}return!1}}function Cx(t,r){if(!t.dom.parentNode)return;let o=t.dom.parentNode.appendChild(document.createElement("div"));o.appendChild(r),o.style.cssText="position: fixed; left: -10000px; top: 10px";let e=getSelection(),a=document.createRange();a.selectNodeContents(r),t.dom.blur(),e.removeAllRanges(),e.addRange(a),setTimeout(()=>{o.parentNode&&o.parentNode.removeChild(o),t.focus()},50)}const Qe=Mt&&Wo<15||Xe&&$0<604;yt.copy=pt.cut=(t,r)=>{let o=r,e=t.state.selection,a=o.type=="cut";if(e.empty)return;let i=Qe?null:o.clipboardData,n=e.content(),{dom:l,text:s}=Gu(t,n);i?(o.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",s)):Cx(t,l),a&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Ox(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Mx(t,r){if(!t.dom.parentNode)return;let o=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,e=t.dom.parentNode.appendChild(document.createElement(o?"textarea":"div"));o||(e.contentEditable="true"),e.style.cssText="position: fixed; left: -10000px; top: 10px",e.focus(),setTimeout(()=>{t.focus(),e.parentNode&&e.parentNode.removeChild(e),o?ks(t,e.value,null,r):ks(t,e.textContent,e.innerHTML,r)},50)}function ks(t,r,o,e){let a=Zu(t,r,o,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,e,a||H.empty)))return!0;if(!a)return!1;let i=Ox(a),n=i?t.state.tr.replaceSelectionWith(i,t.input.shiftKey):t.state.tr.replaceSelection(a);return t.dispatch(n.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}pt.paste=(t,r)=>{let o=r;if(t.composing&&!ao)return;let e=Qe?null:o.clipboardData;e&&ks(t,e.getData("text/plain"),e.getData("text/html"),o)?o.preventDefault():Mx(t,o)};class Tx{constructor(r,o){this.slice=r,this.move=o}}const nm=Nt?"altKey":"ctrlKey";yt.dragstart=(t,r)=>{let o=r,e=t.input.mouseDown;if(e&&e.done(),!o.dataTransfer)return;let a=t.state.selection,i=a.empty?null:t.posAtCoords(wn(o));if(!(i&&i.pos>=a.from&&i.pos<=(a instanceof or?a.to-1:a.to))){if(e&&e.mightDrag)t.dispatch(t.state.tr.setSelection(or.create(t.state.doc,e.mightDrag.pos)));else if(o.target&&o.target.nodeType==1){let c=t.docView.nearestDesc(o.target,!0);c&&c.node.type.spec.draggable&&c!=t.docView&&t.dispatch(t.state.tr.setSelection(or.create(t.state.doc,c.posBefore)))}}let n=t.state.selection.content(),{dom:l,text:s}=Gu(t,n);o.dataTransfer.clearData(),o.dataTransfer.setData(Qe?"Text":"text/html",l.innerHTML),o.dataTransfer.effectAllowed="copyMove",Qe||o.dataTransfer.setData("text/plain",s),t.dragging=new Tx(n,!o[nm])};yt.dragend=t=>{let r=t.dragging;window.setTimeout(()=>{t.dragging==r&&(t.dragging=null)},50)};pt.dragover=pt.dragenter=(t,r)=>r.preventDefault();pt.drop=(t,r)=>{let o=r,e=t.dragging;if(t.dragging=null,!o.dataTransfer)return;let a=t.posAtCoords(wn(o));if(!a)return;let i=t.state.doc.resolve(a.pos);if(!i)return;let n=e&&e.slice;n?t.someProp("transformPasted",m=>{n=m(n)}):n=Zu(t,o.dataTransfer.getData(Qe?"Text":"text/plain"),Qe?null:o.dataTransfer.getData("text/html"),!1,i);let l=!!(e&&!o[nm]);if(t.someProp("handleDrop",m=>m(t,o,n||H.empty,l))){o.preventDefault();return}if(!n)return;o.preventDefault();let s=n?yu(t.state.doc,i.pos,n):i.pos;s==null&&(s=i.pos);let c=t.state.tr;l&&c.deleteSelection();let d=c.mapping.map(s),p=n.openStart==0&&n.openEnd==0&&n.content.childCount==1,g=c.doc;if(p?c.replaceRangeWith(d,d,n.content.firstChild):c.replaceRange(d,d,n),c.doc.eq(g))return;let u=c.doc.resolve(d);if(p&&or.isSelectable(n.content.firstChild)&&u.nodeAfter&&u.nodeAfter.sameMarkup(n.content.firstChild))c.setSelection(new or(u));else{let m=c.mapping.map(s);c.mapping.maps[c.mapping.maps.length-1].forEach((h,b,w,T)=>m=T),c.setSelection(dc(t,u,c.doc.resolve(m)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};yt.focus=t=>{t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelection())&&Zo(t)},20))};yt.blur=(t,r)=>{let o=r;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),o.relatedTarget&&t.dom.contains(o.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};yt.beforeinput=(t,r)=>{if(dt&&ao&&r.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:e}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=e||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,Le(8,"Backspace")))))return;let{$cursor:a}=t.state.selection;a&&a.pos>0&&t.dispatch(t.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let t in pt)yt[t]=pt[t];function Ya(t,r){if(t==r)return!0;for(let o in t)if(t[o]!==r[o])return!1;for(let o in r)if(!(o in t))return!1;return!0}class mc{constructor(r,o){this.toDOM=r,this.spec=o||ye,this.side=this.spec.side||0}map(r,o,e,a){let{pos:i,deleted:n}=r.mapResult(o.from+a,this.side<0?-1:1);return n?null:new Dt(i-e,i-e,this)}valid(){return!0}eq(r){return this==r||r instanceof mc&&(this.spec.key&&this.spec.key==r.spec.key||this.toDOM==r.toDOM&&Ya(this.spec,r.spec))}destroy(r){this.spec.destroy&&this.spec.destroy(r)}}class Ko{constructor(r,o){this.attrs=r,this.spec=o||ye}map(r,o,e,a){let i=r.map(o.from+a,this.spec.inclusiveStart?-1:1)-e,n=r.map(o.to+a,this.spec.inclusiveEnd?1:-1)-e;return i>=n?null:new Dt(i,n,this)}valid(r,o){return o.from<o.to}eq(r){return this==r||r instanceof Ko&&Ya(this.attrs,r.attrs)&&Ya(this.spec,r.spec)}static is(r){return r.type instanceof Ko}destroy(){}}class hc{constructor(r,o){this.attrs=r,this.spec=o||ye}map(r,o,e,a){let i=r.mapResult(o.from+a,1);if(i.deleted)return null;let n=r.mapResult(o.to+a,-1);return n.deleted||n.pos<=i.pos?null:new Dt(i.pos-e,n.pos-e,this)}valid(r,o){let{index:e,offset:a}=r.content.findIndex(o.from),i;return a==o.from&&!(i=r.child(e)).isText&&a+i.nodeSize==o.to}eq(r){return this==r||r instanceof hc&&Ya(this.attrs,r.attrs)&&Ya(this.spec,r.spec)}destroy(){}}class Dt{constructor(r,o,e){this.from=r,this.to=o,this.type=e}copy(r,o){return new Dt(r,o,this.type)}eq(r,o=0){return this.type.eq(r.type)&&this.from+o==r.from&&this.to+o==r.to}map(r,o,e){return this.type.map(r,this,o,e)}static widget(r,o,e){return new Dt(r,r,new mc(o,e))}static inline(r,o,e,a){return new Dt(r,o,new Ko(e,a))}static node(r,o,e,a){return new Dt(r,o,new hc(e,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ko}}const Be=[],ye={};class Ur{constructor(r,o){this.local=r.length?r:Be,this.children=o.length?o:Be}static create(r,o){return o.length?Gi(o,r,0,ye):tt}find(r,o,e){let a=[];return this.findInner(r==null?0:r,o==null?1e9:o,a,0,e),a}findInner(r,o,e,a,i){for(let n=0;n<this.local.length;n++){let l=this.local[n];l.from<=o&&l.to>=r&&(!i||i(l.spec))&&e.push(l.copy(l.from+a,l.to+a))}for(let n=0;n<this.children.length;n+=3)if(this.children[n]<o&&this.children[n+1]>r){let l=this.children[n]+1;this.children[n+2].findInner(r-l,o-l,e,a+l,i)}}map(r,o,e){return this==tt||r.maps.length==0?this:this.mapInner(r,o,0,0,e||ye)}mapInner(r,o,e,a,i){let n;for(let l=0;l<this.local.length;l++){let s=this.local[l].map(r,e,a);s&&s.type.valid(o,s)?(n||(n=[])).push(s):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?Ex(this.children,n||[],r,o,e,a,i):n?new Ur(n.sort(we),Be):tt}add(r,o){return o.length?this==tt?Ur.create(r,o):this.addInner(r,o,0):this}addInner(r,o,e){let a,i=0;r.forEach((l,s)=>{let c=s+e,d;if(!!(d=sm(o,l,c))){for(a||(a=this.children.slice());i<a.length&&a[i]<s;)i+=3;a[i]==s?a[i+2]=a[i+2].addInner(l,d,c+1):a.splice(i,0,s,s+l.nodeSize,Gi(d,l,c+1,ye)),i+=3}});let n=lm(i?cm(o):o,-e);for(let l=0;l<n.length;l++)n[l].type.valid(r,n[l])||n.splice(l--,1);return new Ur(n.length?this.local.concat(n).sort(we):this.local,a||this.children)}remove(r){return r.length==0||this==tt?this:this.removeInner(r,0)}removeInner(r,o){let e=this.children,a=this.local;for(let i=0;i<e.length;i+=3){let n,l=e[i]+o,s=e[i+1]+o;for(let d=0,p;d<r.length;d++)(p=r[d])&&p.from>l&&p.to<s&&(r[d]=null,(n||(n=[])).push(p));if(!n)continue;e==this.children&&(e=this.children.slice());let c=e[i+2].removeInner(n,l+1);c!=tt?e[i+2]=c:(e.splice(i,3),i-=3)}if(a.length){for(let i=0,n;i<r.length;i++)if(n=r[i])for(let l=0;l<a.length;l++)a[l].eq(n,o)&&(a==this.local&&(a=this.local.slice()),a.splice(l--,1))}return e==this.children&&a==this.local?this:a.length||e.length?new Ur(a,e):tt}forChild(r,o){if(this==tt)return this;if(o.isLeaf)return Ur.empty;let e,a;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=r){this.children[l]==r&&(e=this.children[l+2]);break}let i=r+1,n=i+o.content.size;for(let l=0;l<this.local.length;l++){let s=this.local[l];if(s.from<n&&s.to>i&&s.type instanceof Ko){let c=Math.max(i,s.from)-i,d=Math.min(n,s.to)-i;c<d&&(a||(a=[])).push(s.copy(c,d))}}if(a){let l=new Ur(a.sort(we),Be);return e?new Lo([l,e]):l}return e||tt}eq(r){if(this==r)return!0;if(!(r instanceof Ur)||this.local.length!=r.local.length||this.children.length!=r.children.length)return!1;for(let o=0;o<this.local.length;o++)if(!this.local[o].eq(r.local[o]))return!1;for(let o=0;o<this.children.length;o+=3)if(this.children[o]!=r.children[o]||this.children[o+1]!=r.children[o+1]||!this.children[o+2].eq(r.children[o+2]))return!1;return!0}locals(r){return fc(this.localsInner(r))}localsInner(r){if(this==tt)return Be;if(r.inlineContent||!this.local.some(Ko.is))return this.local;let o=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof Ko||o.push(this.local[e]);return o}}Ur.empty=new Ur([],[]);Ur.removeOverlap=fc;const tt=Ur.empty;class Lo{constructor(r){this.members=r}map(r,o){const e=this.members.map(a=>a.map(r,o,ye));return Lo.from(e)}forChild(r,o){if(o.isLeaf)return Ur.empty;let e=[];for(let a=0;a<this.members.length;a++){let i=this.members[a].forChild(r,o);i!=tt&&(i instanceof Lo?e=e.concat(i.members):e.push(i))}return Lo.from(e)}eq(r){if(!(r instanceof Lo)||r.members.length!=this.members.length)return!1;for(let o=0;o<this.members.length;o++)if(!this.members[o].eq(r.members[o]))return!1;return!0}locals(r){let o,e=!0;for(let a=0;a<this.members.length;a++){let i=this.members[a].localsInner(r);if(!!i.length)if(!o)o=i;else{e&&(o=o.slice(),e=!1);for(let n=0;n<i.length;n++)o.push(i[n])}}return o?fc(e?o:o.sort(we)):Be}static from(r){switch(r.length){case 0:return tt;case 1:return r[0];default:return new Lo(r)}}}function Ex(t,r,o,e,a,i,n){let l=t.slice(),s=(d,p,g,u)=>{for(let m=0;m<l.length;m+=3){let h=l[m+1],b;if(h<0||d>h+i)continue;let w=l[m]+i;p>=w?l[m+1]=d<=w?-2:-1:g>=a&&(b=u-g-(p-d))&&(l[m]+=b,l[m+1]+=b)}};for(let d=0;d<o.maps.length;d++)o.maps[d].forEach(s);let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let p=o.map(t[d]+i),g=p-a;if(g<0||g>=e.content.size){c=!0;continue}let u=o.map(t[d+1]+i,-1),m=u-a,{index:h,offset:b}=e.content.findIndex(g),w=e.maybeChild(h);if(w&&b==g&&b+w.nodeSize==m){let T=l[d+2].mapInner(o,w,p+1,t[d]+i+1,n);T!=tt?(l[d]=g,l[d+1]=m,l[d+2]=T):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=Ix(l,t,r,o,a,i,n),p=Gi(d,e,0,n);r=p.local;for(let g=0;g<l.length;g+=3)l[g+1]<0&&(l.splice(g,3),g-=3);for(let g=0,u=0;g<p.children.length;g+=3){let m=p.children[g];for(;u<l.length&&l[u]<m;)u+=3;l.splice(u,0,p.children[g],p.children[g+1],p.children[g+2])}}return new Ur(r.sort(we),l)}function lm(t,r){if(!r||!t.length)return t;let o=[];for(let e=0;e<t.length;e++){let a=t[e];o.push(new Dt(a.from+r,a.to+r,a.type))}return o}function Ix(t,r,o,e,a,i,n){function l(s,c){for(let d=0;d<s.local.length;d++){let p=s.local[d].map(e,a,c);p?o.push(p):n.onRemove&&n.onRemove(s.local[d].spec)}for(let d=0;d<s.children.length;d+=3)l(s.children[d+2],s.children[d]+c+1)}for(let s=0;s<t.length;s+=3)t[s+1]==-1&&l(t[s+2],r[s]+i+1);return o}function sm(t,r,o){if(r.isLeaf)return null;let e=o+r.nodeSize,a=null;for(let i=0,n;i<t.length;i++)(n=t[i])&&n.from>o&&n.to<e&&((a||(a=[])).push(n),t[i]=null);return a}function cm(t){let r=[];for(let o=0;o<t.length;o++)t[o]!=null&&r.push(t[o]);return r}function Gi(t,r,o,e){let a=[],i=!1;r.forEach((l,s)=>{let c=sm(t,l,s+o);if(c){i=!0;let d=Gi(c,l,o+s+1,e);d!=tt&&a.push(s,s+l.nodeSize,d)}});let n=lm(i?cm(t):t,-o).sort(we);for(let l=0;l<n.length;l++)n[l].type.valid(r,n[l])||(e.onRemove&&e.onRemove(n[l].spec),n.splice(l--,1));return n.length||a.length?new Ur(n,a):tt}function we(t,r){return t.from-r.from||t.to-r.to}function fc(t){let r=t;for(let o=0;o<r.length-1;o++){let e=r[o];if(e.from!=e.to)for(let a=o+1;a<r.length;a++){let i=r[a];if(i.from==e.from){i.to!=e.to&&(r==t&&(r=t.slice()),r[a]=i.copy(i.from,e.to),ap(r,a+1,i.copy(e.to,i.to)));continue}else{i.from<e.to&&(r==t&&(r=t.slice()),r[o]=e.copy(e.from,i.from),ap(r,a,e.copy(i.from,e.to)));break}}}return r}function ap(t,r,o){for(;r<t.length&&we(o,t[r])>0;)r++;t.splice(r,0,o)}function tl(t){let r=[];return t.someProp("decorations",o=>{let e=o(t.state);e&&e!=tt&&r.push(e)}),t.cursorWrapper&&r.push(Ur.create(t.state.doc,[t.cursorWrapper.deco])),Lo.from(r)}const Ax={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Nx=Mt&&Wo<=11;class Dx{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(r){this.anchorNode=r.anchorNode,this.anchorOffset=r.anchorOffset,this.focusNode=r.focusNode,this.focusOffset=r.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(r){return r.anchorNode==this.anchorNode&&r.anchorOffset==this.anchorOffset&&r.focusNode==this.focusNode&&r.focusOffset==this.focusOffset}}class Bx{constructor(r,o){this.view=r,this.handleDOMChange=o,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Dx,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let a=0;a<e.length;a++)this.queue.push(e[a]);Mt&&Wo<=11&&e.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),Nx&&(this.onCharData=e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&this.observer.observe(this.view.dom,Ax),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let r=this.observer.takeRecords();if(r.length){for(let o=0;o<r.length;o++)this.queue.push(r[o]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!Yd(this.view)){if(this.suppressingSelectionUpdates)return Zo(this.view);if(Mt&&Wo<=11&&!this.view.state.selection.empty){let r=this.view.domSelection();if(r.focusNode&&Za(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelection())}ignoreSelectionChange(r){if(r.rangeCount==0)return!0;let o=r.getRangeAt(0).commonAncestorContainer,e=this.view.docView.nearestDesc(o);if(e&&e.ignoreMutation({type:"selection",target:o.nodeType==3?o.parentNode:o}))return this.setCurSelection(),!0}flush(){if(!this.view.docView||this.flushingSoon>-1)return;let r=this.observer?this.observer.takeRecords():[];this.queue.length&&(r=this.queue.concat(r),this.queue.length=0);let o=this.view.domSelection(),e=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(o)&&Yd(this.view)&&!this.ignoreSelectionChange(o),a=-1,i=-1,n=!1,l=[];if(this.view.editable)for(let s=0;s<r.length;s++){let c=this.registerMutation(r[s],l);c&&(a=a<0?c.from:Math.min(c.from,a),i=i<0?c.to:Math.max(c.to,i),c.typeOver&&(n=!0))}if(uo&&l.length>1){let s=l.filter(c=>c.nodeName=="BR");if(s.length==2){let c=s[0],d=s[1];c.parentNode&&c.parentNode.parentNode==d.parentNode?d.remove():c.remove()}}(a>-1||e)&&(a>-1&&(this.view.docView.markDirty(a,i),Px(this.view)),this.handleDOMChange(a,i,n,l),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(o)||Zo(this.view),this.currentSelection.set(o))}registerMutation(r,o){if(o.indexOf(r.target)>-1)return null;let e=this.view.docView.nearestDesc(r.target);if(r.type=="attributes"&&(e==this.view.docView||r.attributeName=="contenteditable"||r.attributeName=="style"&&!r.oldValue&&!r.target.getAttribute("style"))||!e||e.ignoreMutation(r))return null;if(r.type=="childList"){for(let d=0;d<r.addedNodes.length;d++)o.push(r.addedNodes[d]);if(e.contentDOM&&e.contentDOM!=e.dom&&!e.contentDOM.contains(r.target))return{from:e.posBefore,to:e.posAfter};let a=r.previousSibling,i=r.nextSibling;if(Mt&&Wo<=11&&r.addedNodes.length)for(let d=0;d<r.addedNodes.length;d++){let{previousSibling:p,nextSibling:g}=r.addedNodes[d];(!p||Array.prototype.indexOf.call(r.addedNodes,p)<0)&&(a=p),(!g||Array.prototype.indexOf.call(r.addedNodes,g)<0)&&(i=g)}let n=a&&a.parentNode==r.target?St(a)+1:0,l=e.localPosFromDOM(r.target,n,-1),s=i&&i.parentNode==r.target?St(i):r.target.childNodes.length,c=e.localPosFromDOM(r.target,s,1);return{from:l,to:c}}else return r.type=="attributes"?{from:e.posAtStart-e.border,to:e.posAtEnd+e.border}:{from:e.posAtStart,to:e.posAtEnd,typeOver:r.target.nodeValue==r.oldValue}}}let ip=!1;function Px(t){ip||(ip=!0,getComputedStyle(t.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}function Rx(t,r,o){let{node:e,fromOffset:a,toOffset:i,from:n,to:l}=t.docView.parseRange(r,o),s=t.domSelection(),c,d=s.anchorNode;if(d&&t.dom.contains(d.nodeType==1?d:d.parentNode)&&(c=[{node:d,offset:s.anchorOffset}],sc(s)||c.push({node:s.focusNode,offset:s.focusOffset})),dt&&t.input.lastKeyCode===8)for(let b=i;b>a;b--){let w=e.childNodes[b-1],T=w.pmViewDesc;if(w.nodeName=="BR"&&!T){i=b;break}if(!T||T.size)break}let p=t.state.doc,g=t.someProp("domParser")||ze.fromSchema(t.state.schema),u=p.resolve(n),m=null,h=g.parse(e,{topNode:u.parent,topMatch:u.parent.contentMatchAt(u.index()),topOpen:!0,from:a,to:i,preserveWhitespace:u.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Lx,context:u});if(c&&c[0].pos!=null){let b=c[0].pos,w=c[1]&&c[1].pos;w==null&&(w=b),m={anchor:b+n,head:w+n}}return{doc:h,sel:m,from:n,to:l}}function Lx(t){let r=t.pmViewDesc;if(r)return r.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(xt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let o=document.createElement("div");return o.appendChild(document.createElement("li")),{skip:o}}else if(t.parentNode.lastChild==t||xt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function Fx(t,r,o,e,a){if(r<0){let O=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,G=Wu(t,O);if(G&&!t.state.selection.eq(G)){let rr=t.state.tr.setSelection(G);O=="pointer"?rr.setMeta("pointer",!0):O=="key"&&rr.scrollIntoView(),t.dispatch(rr)}return}let i=t.state.doc.resolve(r),n=i.sharedDepth(o);r=i.before(n+1),o=t.state.doc.resolve(o).after(n+1);let l=t.state.selection,s=Rx(t,r,o);if(dt&&t.cursorWrapper&&s.sel&&s.sel.anchor==t.cursorWrapper.deco.from){let O=t.cursorWrapper.deco.type.toDOM.nextSibling,G=O&&O.nodeValue?O.nodeValue.length:1;s.sel={anchor:s.sel.anchor+G,head:s.sel.anchor+G}}let c=t.state.doc,d=c.slice(s.from,s.to),p,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,g="end"):(p=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let u=Hx(d.content,s.doc.content,s.from,p,g);if((Xe&&t.input.lastIOSEnter>Date.now()-225||ao)&&a.some(O=>O.nodeName=="DIV"||O.nodeName=="P")&&(!u||u.endA>=u.endB)&&t.someProp("handleKeyDown",O=>O(t,Le(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!u)if(e&&l instanceof gr&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(s.sel&&s.sel.anchor!=s.sel.head))u={start:l.from,endA:l.to,endB:l.to};else{if(s.sel){let O=np(t,t.state.doc,s.sel);O&&!O.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(O))}return}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&u.start==u.endB&&t.state.selection instanceof gr&&(u.start>t.state.selection.from&&u.start<=t.state.selection.from+2&&t.state.selection.from>=s.from?u.start=t.state.selection.from:u.endA<t.state.selection.to&&u.endA>=t.state.selection.to-2&&t.state.selection.to<=s.to&&(u.endB+=t.state.selection.to-u.endA,u.endA=t.state.selection.to)),Mt&&Wo<=11&&u.endB==u.start+1&&u.endA==u.start&&u.start>s.from&&s.doc.textBetween(u.start-s.from-1,u.start-s.from+1)==" \xA0"&&(u.start--,u.endA--,u.endB--);let m=s.doc.resolveNoCache(u.start-s.from),h=s.doc.resolveNoCache(u.endB-s.from),b=c.resolve(u.start),w=m.sameParent(h)&&m.parent.inlineContent&&b.end()>=u.endA,T;if((Xe&&t.input.lastIOSEnter>Date.now()-225&&(!w||a.some(O=>O.nodeName=="DIV"||O.nodeName=="P"))||!w&&m.pos<s.doc.content.size&&(T=dr.findFrom(s.doc.resolve(m.pos+1),1,!0))&&T.head==h.pos)&&t.someProp("handleKeyDown",O=>O(t,Le(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>u.start&&Vx(c,u.start,u.endA,m,h)&&t.someProp("handleKeyDown",O=>O(t,Le(8,"Backspace")))){ao&&dt&&t.domObserver.suppressSelectionUpdates();return}dt&&ao&&u.endB==u.start&&(t.input.lastAndroidDelete=Date.now()),ao&&!w&&m.start()!=h.start()&&h.parentOffset==0&&m.depth==h.depth&&s.sel&&s.sel.anchor==s.sel.head&&s.sel.head==u.endA&&(u.endB-=2,h=s.doc.resolveNoCache(u.endB-s.from),setTimeout(()=>{t.someProp("handleKeyDown",function(O){return O(t,Le(13,"Enter"))})},20));let F=u.start,v=u.endA,j,B,Y;if(w){if(m.pos==h.pos)Mt&&Wo<=11&&m.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Zo(t),20)),j=t.state.tr.delete(F,v),B=c.resolve(u.start).marksAcross(c.resolve(u.endA));else if(u.endA==u.endB&&(Y=jx(m.parent.content.cut(m.parentOffset,h.parentOffset),b.parent.content.cut(b.parentOffset,u.endA-b.start()))))j=t.state.tr,Y.type=="add"?j.addMark(F,v,Y.mark):j.removeMark(F,v,Y.mark);else if(m.parent.child(m.index()).isText&&m.index()==h.index()-(h.textOffset?0:1)){let O=m.parent.textBetween(m.parentOffset,h.parentOffset);if(t.someProp("handleTextInput",G=>G(t,F,v,O)))return;j=t.state.tr.insertText(O,F,v)}}if(j||(j=t.state.tr.replace(F,v,s.doc.slice(u.start-s.from,u.endB-s.from))),s.sel){let O=np(t,j.doc,s.sel);O&&!(dt&&ao&&t.composing&&O.empty&&(u.start!=u.endB||t.input.lastAndroidDelete<Date.now()-100)&&(O.head==F||O.head==j.mapping.map(v)-1)||Mt&&O.empty&&O.head==F)&&j.setSelection(O)}B&&j.ensureMarks(B),t.dispatch(j.scrollIntoView())}function np(t,r,o){return Math.max(o.anchor,o.head)>r.content.size?null:dc(t,r.resolve(o.anchor),r.resolve(o.head))}function jx(t,r){let o=t.firstChild.marks,e=r.firstChild.marks,a=o,i=e,n,l,s;for(let d=0;d<e.length;d++)a=e[d].removeFromSet(a);for(let d=0;d<o.length;d++)i=o[d].removeFromSet(i);if(a.length==1&&i.length==0)l=a[0],n="add",s=d=>d.mark(l.addToSet(d.marks));else if(a.length==0&&i.length==1)l=i[0],n="remove",s=d=>d.mark(l.removeFromSet(d.marks));else return null;let c=[];for(let d=0;d<r.childCount;d++)c.push(s(r.child(d)));if(A.from(c).eq(t))return{mark:l,type:n}}function Vx(t,r,o,e,a){if(!e.parent.isTextblock||o-r<=a.pos-e.pos||ol(e,!0,!1)<a.pos)return!1;let i=t.resolve(r);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let n=t.resolve(ol(i,!0,!0));return!n.parent.isTextblock||n.pos>o||ol(n,!0,!1)<o?!1:e.parent.content.cut(e.parentOffset).eq(n.parent.content)}function ol(t,r,o){let e=t.depth,a=r?t.end():t.pos;for(;e>0&&(r||t.indexAfter(e)==t.node(e).childCount);)e--,a++,r=!1;if(o){let i=t.node(e).maybeChild(t.indexAfter(e));for(;i&&!i.isLeaf;)i=i.firstChild,a++}return a}function Hx(t,r,o,e,a){let i=t.findDiffStart(r,o);if(i==null)return null;let{a:n,b:l}=t.findDiffEnd(r,o+t.size,o+r.size);if(a=="end"){let s=Math.max(0,i-Math.min(n,l));e-=n+s-i}return n<i&&t.size<r.size?(i-=e<=i&&e>=n?i-e:0,l=i+(l-n),n=i):l<i&&(i-=e<=i&&e>=l?i-e:0,n=i+(n-l),l=i),{start:i,endA:n,endB:l}}class Wx{constructor(r,o){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new gx,this.prevDirectPlugins=[],this.pluginViews=[],this.dragging=null,this._props=o,this.state=o.state,this.directPlugins=o.plugins||[],this.directPlugins.forEach(pp),this.dispatch=this.dispatch.bind(this),this.dom=r&&r.mount||document.createElement("div"),r&&(r.appendChild?r.appendChild(this.dom):typeof r=="function"?r(this.dom):r.mount&&(this.mounted=!0)),this.editable=cp(this),sp(this),this.nodeViews=dp(this),this.docView=Kd(this.state.doc,lp(this),tl(this),this.dom,this),this.domObserver=new Bx(this,(e,a,i,n)=>Fx(this,e,a,i,n)),this.domObserver.start(),ux(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let r=this._props;this._props={};for(let o in r)this._props[o]=r[o];this._props.state=this.state}return this._props}update(r){r.handleDOMEvents!=this._props.handleDOMEvents&&ws(this),this._props=r,r.plugins&&(r.plugins.forEach(pp),this.directPlugins=r.plugins),this.updateStateInner(r.state,!0)}setProps(r){let o={};for(let e in this._props)o[e]=this._props[e];o.state=this.state;for(let e in r)o[e]=r[e];this.update(o)}updateState(r){this.updateStateInner(r,this.state.plugins!=r.plugins)}updateStateInner(r,o){let e=this.state,a=!1,i=!1;if(r.storedMarks&&this.composing&&(im(this),i=!0),this.state=r,o){let p=dp(this);qx(p,this.nodeViews)&&(this.nodeViews=p,a=!0),ws(this)}this.editable=cp(this),sp(this);let n=tl(this),l=lp(this),s=o?"reset":r.scrollToSelection>e.scrollToSelection?"to selection":"preserve",c=a||!this.docView.matchesNode(r.doc,l,n);(c||!r.selection.eq(e.selection))&&(i=!0);let d=s=="preserve"&&i&&this.dom.style.overflowAnchor==null&&I0(this);if(i){this.domObserver.stop();let p=c&&(Mt||dt)&&!this.composing&&!e.selection.empty&&!r.selection.empty&&Kx(e.selection,r.selection);if(c){let g=dt?this.trackWrites=this.domSelection().focusNode:null;(a||!this.docView.update(r.doc,l,n,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Kd(r.doc,l,n,this.dom,this)),g&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelection())&&ex(this))?Zo(this,p):(qu(this,r.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(e),s=="reset")this.dom.scrollTop=0;else if(s=="to selection"){let p=this.domSelection().focusNode;if(!this.someProp("handleScrollToSelection",g=>g(this)))if(r.selection instanceof or){let g=this.docView.domAfterPos(r.selection.from);g.nodeType==1&&Fd(this,g.getBoundingClientRect(),p)}else Fd(this,this.coordsAtPos(r.selection.head,1),p)}else d&&A0(d)}destroyPluginViews(){let r;for(;r=this.pluginViews.pop();)r.destroy&&r.destroy()}updatePluginViews(r){if(!r||r.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let o=0;o<this.directPlugins.length;o++){let e=this.directPlugins[o];e.spec.view&&this.pluginViews.push(e.spec.view(this))}for(let o=0;o<this.state.plugins.length;o++){let e=this.state.plugins[o];e.spec.view&&this.pluginViews.push(e.spec.view(this))}}else for(let o=0;o<this.pluginViews.length;o++){let e=this.pluginViews[o];e.update&&e.update(this,r)}}someProp(r,o){let e=this._props&&this._props[r],a;if(e!=null&&(a=o?o(e):e))return a;for(let n=0;n<this.directPlugins.length;n++){let l=this.directPlugins[n].props[r];if(l!=null&&(a=o?o(l):l))return a}let i=this.state.plugins;if(i)for(let n=0;n<i.length;n++){let l=i[n].props[r];if(l!=null&&(a=o?o(l):l))return a}}hasFocus(){return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&N0(this.dom),Zo(this),this.domObserver.start()}get root(){let r=this._root;if(r==null){for(let o=this.dom.parentNode;o;o=o.parentNode)if(o.nodeType==9||o.nodeType==11&&o.host)return o.getSelection||(Object.getPrototypeOf(o).getSelection=()=>o.ownerDocument.getSelection()),this._root=o}return r||document}posAtCoords(r){return L0(this,r)}coordsAtPos(r,o=1){return Pu(this,r,o)}domAtPos(r,o=0){return this.docView.domFromPos(r,o)}nodeDOM(r){let o=this.docView.descAt(r);return o?o.nodeDOM:null}posAtDOM(r,o,e=-1){let a=this.docView.posFromDOM(r,o,e);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(r,o){return W0(this,o||this.state,r)}destroy(){!this.docView||(mx(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],tl(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(r){return fx(this,r)}dispatch(r){let o=this._props.dispatchTransaction;o?o.call(this,r):this.updateState(this.state.apply(r))}domSelection(){return this.root.getSelection()}}function lp(t){let r=Object.create(null);return r.class="ProseMirror",r.contenteditable=String(t.editable),r.translate="no",t.someProp("attributes",o=>{if(typeof o=="function"&&(o=o(t.state)),o)for(let e in o)e=="class"&&(r.class+=" "+o[e]),e=="style"?r.style=(r.style?r.style+";":"")+o[e]:!r[e]&&e!="contenteditable"&&e!="nodeName"&&(r[e]=String(o[e]))}),[Dt.node(0,t.state.doc.content.size,r)]}function sp(t){if(t.markCursor){let r=document.createElement("img");r.className="ProseMirror-separator",r.setAttribute("mark-placeholder","true"),r.setAttribute("alt",""),t.cursorWrapper={dom:r,deco:Dt.widget(t.state.selection.head,r,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function cp(t){return!t.someProp("editable",r=>r(t.state)===!1)}function Kx(t,r){let o=Math.min(t.$anchor.sharedDepth(t.head),r.$anchor.sharedDepth(r.head));return t.$anchor.start(o)!=r.$anchor.start(o)}function dp(t){let r=Object.create(null);function o(e){for(let a in e)Object.prototype.hasOwnProperty.call(r,a)||(r[a]=e[a])}return t.someProp("nodeViews",o),t.someProp("markViews",o),r}function qx(t,r){let o=0,e=0;for(let a in t){if(t[a]!=r[a])return!0;o++}for(let a in r)e++;return o!=e}function pp(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Yo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Zi={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},gp=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Ux=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),Jx=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),up=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),Gx=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Zx=gp&&(up||+gp[1]<57)||Jx&&up;for(var Jr=0;Jr<10;Jr++)Yo[48+Jr]=Yo[96+Jr]=String(Jr);for(var Jr=1;Jr<=24;Jr++)Yo[Jr+111]="F"+Jr;for(var Jr=65;Jr<=90;Jr++)Yo[Jr]=String.fromCharCode(Jr+32),Zi[Jr]=String.fromCharCode(Jr);for(var el in Yo)Zi.hasOwnProperty(el)||(Zi[el]=Yo[el]);function Yx(t){var r=Zx&&(t.ctrlKey||t.altKey||t.metaKey)||(Ux||Gx)&&t.shiftKey&&t.key&&t.key.length==1,o=!r&&t.key||(t.shiftKey?Zi:Yo)[t.keyCode]||t.key||"Unidentified";return o=="Esc"&&(o="Escape"),o=="Del"&&(o="Delete"),o=="Left"&&(o="ArrowLeft"),o=="Up"&&(o="ArrowUp"),o=="Right"&&(o="ArrowRight"),o=="Down"&&(o="ArrowDown"),o}const Xx=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Qx(t){let r=t.split(/-(?!$)/),o=r[r.length-1];o=="Space"&&(o=" ");let e,a,i,n;for(let l=0;l<r.length-1;l++){let s=r[l];if(/^(cmd|meta|m)$/i.test(s))n=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))a=!0;else if(/^s(hift)?$/i.test(s))i=!0;else if(/^mod$/i.test(s))Xx?n=!0:a=!0;else throw new Error("Unrecognized modifier name: "+s)}return e&&(o="Alt-"+o),a&&(o="Ctrl-"+o),n&&(o="Meta-"+o),i&&(o="Shift-"+o),o}function ry(t){let r=Object.create(null);for(let o in t)r[Qx(o)]=t[o];return r}function al(t,r,o){return r.altKey&&(t="Alt-"+t),r.ctrlKey&&(t="Ctrl-"+t),r.metaKey&&(t="Meta-"+t),o!==!1&&r.shiftKey&&(t="Shift-"+t),t}function ty(t){return new ut({props:{handleKeyDown:dm(t)}})}function dm(t){let r=ry(t);return function(o,e){let a=Yx(e),i=a.length==1&&a!=" ",n,l=r[al(a,e,!i)];if(l&&l(o.state,o.dispatch,o))return!0;if(i&&(e.shiftKey||e.altKey||e.metaKey||a.charCodeAt(0)>127)&&(n=Yo[e.keyCode])&&n!=a){let s=r[al(n,e,!0)];if(s&&s(o.state,o.dispatch,o))return!0}else if(i&&e.shiftKey){let s=r[al(a,e,!0)];if(s&&s(o.state,o.dispatch,o))return!0}return!1}}function oy(t){return Object.prototype.toString.call(t).slice(8,-1)}function il(t){return oy(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function kn(t,r){const o=y({},t);return il(t)&&il(r)&&Object.keys(r).forEach(e=>{il(r[e])?e in t?o[e]=kn(t[e],r[e]):Object.assign(o,{[e]:r[e]}):Object.assign(o,{[e]:r[e]})}),o}function pm(t){return typeof t=="function"}function mr(t,r=void 0,...o){return pm(t)?r?t.bind(r)(...o):t(...o):t}function q(t,r,o){return t.config[r]===void 0&&t.parent?q(t.parent,r,o):typeof t.config[r]=="function"?t.config[r].bind(lr(y({},o),{parent:t.parent?q(t.parent,r,o):null})):t.config[r]}class it{constructor(r={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=y(y({},this.config),r),this.name=this.config.name,r.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=mr(q(this,"addOptions",{name:this.name}))),this.storage=mr(q(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(r={}){return new it(r)}configure(r={}){const o=this.extend();return o.options=kn(this.options,r),o.storage=mr(q(o,"addStorage",{name:o.name,options:o.options})),o}extend(r={}){const o=new it(r);return o.parent=this,this.child=o,o.name=r.name?r.name:o.parent.name,r.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${o.name}".`),o.options=mr(q(o,"addOptions",{name:o.name})),o.storage=mr(q(o,"addStorage",{name:o.name,options:o.options})),o}}function gm(t,r,o){const{from:e,to:a}=r,{blockSeparator:i=`

`,textSerializers:n={}}=o||{};let l="",s=!0;return t.nodesBetween(e,a,(c,d,p,g)=>{var u;const m=n==null?void 0:n[c.type.name];m?(c.isBlock&&!s&&(l+=i,s=!0),l+=m({node:c,pos:d,parent:p,index:g,range:r})):c.isText?(l+=(u=c==null?void 0:c.text)===null||u===void 0?void 0:u.slice(Math.max(e,d)-d,a-d),s=!1):c.isBlock&&!s&&(l+=i,s=!0)}),l}function um(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,r])=>r.spec.toText).map(([r,o])=>[r,o.spec.toText]))}const ey=it.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new ut({key:new bo("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:r,schema:o}=t,{doc:e,selection:a}=r,{ranges:i}=a,n=Math.min(...i.map(d=>d.$from.pos)),l=Math.max(...i.map(d=>d.$to.pos)),s=um(o);return gm(e,{from:n,to:l},{textSerializers:s})}}})]}}),ay=()=>({editor:t,view:r})=>(requestAnimationFrame(()=>{var o;t.isDestroyed||(r.dom.blur(),(o=window==null?void 0:window.getSelection())===null||o===void 0||o.removeAllRanges())}),!0);var iy=Object.freeze({__proto__:null,blur:ay});const ny=(t=!1)=>({commands:r})=>r.setContent("",t);var ly=Object.freeze({__proto__:null,clearContent:ny});const sy=()=>({state:t,tr:r,dispatch:o})=>{const{selection:e}=r,{ranges:a}=e;return o&&a.forEach(({$from:i,$to:n})=>{t.doc.nodesBetween(i.pos,n.pos,(l,s)=>{if(l.type.isText)return;const{doc:c,mapping:d}=r,p=c.resolve(d.map(s)),g=c.resolve(d.map(s+l.nodeSize)),u=p.blockRange(g);if(!u)return;const m=ua(u);if(l.type.isTextblock){const{defaultType:h}=p.parent.contentMatchAt(p.index());r.setNodeMarkup(u.start,h)}(m||m===0)&&r.lift(u,m)})}),!0};var cy=Object.freeze({__proto__:null,clearNodes:sy});const dy=t=>r=>t(r);var py=Object.freeze({__proto__:null,command:dy});const gy=()=>({state:t,dispatch:r})=>g0(t,r);var uy=Object.freeze({__proto__:null,createParagraphNear:gy});function Hr(t,r){if(typeof t=="string"){if(!r.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return r.nodes[t]}return t}const my=t=>({tr:r,state:o,dispatch:e})=>{const a=Hr(t,o.schema),i=r.selection.$anchor;for(let n=i.depth;n>0;n-=1)if(i.node(n).type===a){if(e){const s=i.before(n),c=i.after(n);r.delete(s,c).scrollIntoView()}return!0}return!1};var hy=Object.freeze({__proto__:null,deleteNode:my});const fy=t=>({tr:r,dispatch:o})=>{const{from:e,to:a}=t;return o&&r.delete(e,a),!0};var vy=Object.freeze({__proto__:null,deleteRange:fy});const by=()=>({state:t,dispatch:r})=>a0(t,r);var xy=Object.freeze({__proto__:null,deleteSelection:by});const yy=()=>({commands:t})=>t.keyboardShortcut("Enter");var wy=Object.freeze({__proto__:null,enter:yy});const ky=()=>({state:t,dispatch:r})=>p0(t,r);var _y=Object.freeze({__proto__:null,exitCode:ky});function te(t,r){if(typeof t=="string"){if(!r.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return r.marks[t]}return t}function vc(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Yi(t,r,o={strict:!0}){const e=Object.keys(r);return e.length?e.every(a=>o.strict?r[a]===t[a]:vc(r[a])?r[a].test(t[a]):r[a]===t[a]):!0}function _s(t,r,o={}){return t.find(e=>e.type===r&&Yi(e.attrs,o))}function zy(t,r,o={}){return!!_s(t,r,o)}function bc(t,r,o={}){if(!t||!r)return;let e=t.parent.childAfter(t.parentOffset);if(t.parentOffset===e.offset&&e.offset!==0&&(e=t.parent.childBefore(t.parentOffset)),!e.node)return;const a=_s(e.node.marks,r,o);if(!a)return;let i=e.index,n=t.start()+e.offset,l=i+1,s=n+e.node.nodeSize;for(_s(e.node.marks,r,o);i>0&&a.isInSet(t.parent.child(i-1).marks);)i-=1,n-=t.parent.child(i).nodeSize;for(;l<t.parent.childCount&&zy(t.parent.child(l).marks,r,o);)s+=t.parent.child(l).nodeSize,l+=1;return{from:n,to:s}}const Sy=(t,r={})=>({tr:o,state:e,dispatch:a})=>{const i=te(t,e.schema),{doc:n,selection:l}=o,{$from:s,from:c,to:d}=l;if(a){const p=bc(s,i,r);if(p&&p.from<=c&&p.to>=d){const g=gr.create(n,p.from,p.to);o.setSelection(g)}}return!0};var $y=Object.freeze({__proto__:null,extendMarkRange:Sy});const Cy=t=>r=>{const o=typeof t=="function"?t(r):t;for(let e=0;e<o.length;e+=1)if(o[e](r))return!0;return!1};var Oy=Object.freeze({__proto__:null,first:Cy});function My(t){var r;return((r=t.constructor)===null||r===void 0?void 0:r.toString().substring(0,5))==="class"}function mm(t){return t&&typeof t=="object"&&!Array.isArray(t)&&!My(t)}function hm(t){return mm(t)&&t instanceof gr}function xc(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function zo(t=0,r=0,o=0){return Math.min(Math.max(t,r),o)}function fm(t,r=null){if(!r)return null;const o=dr.atStart(t),e=dr.atEnd(t);if(r==="start"||r===!0)return o;if(r==="end")return e;const a=o.from,i=e.to;return r==="all"?gr.create(t,zo(0,a,i),zo(t.content.size,a,i)):gr.create(t,zo(r,a,i),zo(r,a,i))}const Ty=(t=null,r)=>({editor:o,view:e,tr:a,dispatch:i})=>{r=y({scrollIntoView:!0},r);const n=()=>{xc()&&e.dom.focus(),requestAnimationFrame(()=>{o.isDestroyed||(e.focus(),r!=null&&r.scrollIntoView&&o.commands.scrollIntoView())})};if(e.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!hm(o.state.selection))return n(),!0;const l=fm(o.state.doc,t)||o.state.selection,s=o.state.selection.eq(l);return i&&(s||a.setSelection(l),s&&a.storedMarks&&a.setStoredMarks(a.storedMarks),n()),!0};var Ey=Object.freeze({__proto__:null,focus:Ty});const Iy=(t,r)=>o=>t.every((e,a)=>r(e,lr(y({},o),{index:a})));var Ay=Object.freeze({__proto__:null,forEach:Iy});const Ny=(t,r)=>({tr:o,commands:e})=>e.insertContentAt({from:o.selection.from,to:o.selection.to},t,r);var Dy=Object.freeze({__proto__:null,insertContent:Ny});function mp(t){const r=`<body>${t}</body>`;return new window.DOMParser().parseFromString(r,"text/html").body}function Xi(t,r,o){if(o=y({slice:!0,parseOptions:{}},o),typeof t=="object"&&t!==null)try{return Array.isArray(t)?A.fromArray(t.map(e=>r.nodeFromJSON(e))):r.nodeFromJSON(t)}catch(e){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",e),Xi("",r,o)}if(typeof t=="string"){const e=ze.fromSchema(r);return o.slice?e.parseSlice(mp(t),o.parseOptions).content:e.parse(mp(t),o.parseOptions)}return Xi("",r,o)}function By(t,r,o){const e=t.steps.length-1;if(e<r)return;const a=t.steps[e];if(!(a instanceof ot||a instanceof Vr))return;const i=t.mapping.maps[e];let n=0;i.forEach((l,s,c,d)=>{n===0&&(n=d)}),t.setSelection(dr.near(t.doc.resolve(n),o))}const Py=t=>t.toString().startsWith("<"),Ry=(t,r,o)=>({tr:e,dispatch:a,editor:i})=>{if(a){o=y({parseOptions:{},updateSelection:!0},o);const n=Xi(r,i.schema,{parseOptions:y({preserveWhitespace:"full"},o.parseOptions)});if(n.toString()==="<>")return!0;let{from:l,to:s}=typeof t=="number"?{from:t,to:t}:t,c=!0,d=!0;if((Py(n)?n:[n]).forEach(g=>{g.check(),c=c?g.isText&&g.marks.length===0:!1,d=d?g.isBlock:!1}),l===s&&d){const{parent:g}=e.doc.resolve(l);g.isTextblock&&!g.type.spec.code&&!g.childCount&&(l-=1,s+=1)}c?e.insertText(r,l,s):e.replaceWith(l,s,n),o.updateSelection&&By(e,e.steps.length-1,-1)}return!0};var Ly=Object.freeze({__proto__:null,insertContentAt:Ry});const Fy=()=>({state:t,dispatch:r})=>i0(t,r);var jy=Object.freeze({__proto__:null,joinBackward:Fy});const Vy=()=>({state:t,dispatch:r})=>l0(t,r);var Hy=Object.freeze({__proto__:null,joinForward:Vy});function vm(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function Wy(t){const r=t.split(/-(?!$)/);let o=r[r.length-1];o==="Space"&&(o=" ");let e,a,i,n;for(let l=0;l<r.length-1;l+=1){const s=r[l];if(/^(cmd|meta|m)$/i.test(s))n=!0;else if(/^a(lt)?$/i.test(s))e=!0;else if(/^(c|ctrl|control)$/i.test(s))a=!0;else if(/^s(hift)?$/i.test(s))i=!0;else if(/^mod$/i.test(s))xc()||vm()?n=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${s}`)}return e&&(o=`Alt-${o}`),a&&(o=`Ctrl-${o}`),n&&(o=`Meta-${o}`),i&&(o=`Shift-${o}`),o}const Ky=t=>({editor:r,view:o,tr:e,dispatch:a})=>{const i=Wy(t).split(/-(?!$)/),n=i.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),l=new KeyboardEvent("keydown",{key:n==="Space"?" ":n,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),s=r.captureTransaction(()=>{o.someProp("handleKeyDown",c=>c(o,l))});return s==null||s.steps.forEach(c=>{const d=c.map(e.mapping);d&&a&&e.maybeStep(d)}),!0};var qy=Object.freeze({__proto__:null,keyboardShortcut:Ky});function Xa(t,r,o={}){const{from:e,to:a,empty:i}=t.selection,n=r?Hr(r,t.schema):null,l=[];t.doc.nodesBetween(e,a,(p,g)=>{if(p.isText)return;const u=Math.max(e,g),m=Math.min(a,g+p.nodeSize);l.push({node:p,from:u,to:m})});const s=a-e,c=l.filter(p=>n?n.name===p.node.type.name:!0).filter(p=>Yi(p.node.attrs,o,{strict:!1}));return i?!!c.length:c.reduce((p,g)=>p+g.to-g.from,0)>=s}const Uy=(t,r={})=>({state:o,dispatch:e})=>{const a=Hr(t,o.schema);return Xa(o,a,r)?c0(o,e):!1};var Jy=Object.freeze({__proto__:null,lift:Uy});const Gy=()=>({state:t,dispatch:r})=>u0(t,r);var Zy=Object.freeze({__proto__:null,liftEmptyBlock:Gy});const Yy=t=>({state:r,dispatch:o})=>{const e=Hr(t,r.schema);return w0(e)(r,o)};var Xy=Object.freeze({__proto__:null,liftListItem:Yy});const Qy=()=>({state:t,dispatch:r})=>d0(t,r);var rw=Object.freeze({__proto__:null,newlineInCode:Qy});function _n(t,r){return r.nodes[t]?"node":r.marks[t]?"mark":null}function hp(t,r){const o=typeof r=="string"?[r]:r;return Object.keys(t).reduce((e,a)=>(o.includes(a)||(e[a]=t[a]),e),{})}const tw=(t,r)=>({tr:o,state:e,dispatch:a})=>{let i=null,n=null;const l=_n(typeof t=="string"?t:t.name,e.schema);return l?(l==="node"&&(i=Hr(t,e.schema)),l==="mark"&&(n=te(t,e.schema)),a&&o.selection.ranges.forEach(s=>{e.doc.nodesBetween(s.$from.pos,s.$to.pos,(c,d)=>{i&&i===c.type&&o.setNodeMarkup(d,void 0,hp(c.attrs,r)),n&&c.marks.length&&c.marks.forEach(p=>{n===p.type&&o.addMark(d,d+c.nodeSize,n.create(hp(p.attrs,r)))})})}),!0):!1};var ow=Object.freeze({__proto__:null,resetAttributes:tw});const ew=()=>({tr:t,dispatch:r})=>(r&&t.scrollIntoView(),!0);var aw=Object.freeze({__proto__:null,scrollIntoView:ew});const iw=()=>({tr:t,commands:r})=>r.setTextSelection({from:0,to:t.doc.content.size});var nw=Object.freeze({__proto__:null,selectAll:iw});const lw=()=>({state:t,dispatch:r})=>n0(t,r);var sw=Object.freeze({__proto__:null,selectNodeBackward:lw});const cw=()=>({state:t,dispatch:r})=>s0(t,r);var dw=Object.freeze({__proto__:null,selectNodeForward:cw});const pw=()=>({state:t,dispatch:r})=>m0(t,r);var gw=Object.freeze({__proto__:null,selectParentNode:pw});const uw=()=>({state:t,dispatch:r})=>v0(t,r);var mw=Object.freeze({__proto__:null,selectTextblockEnd:uw});const hw=()=>({state:t,dispatch:r})=>f0(t,r);var fw=Object.freeze({__proto__:null,selectTextblockStart:hw});function bm(t,r,o={}){return Xi(t,r,{slice:!1,parseOptions:o})}const vw=(t,r=!1,o={})=>({tr:e,editor:a,dispatch:i})=>{const{doc:n}=e,l=bm(t,a.schema,o),s=gr.create(n,0,n.content.size);return i&&e.setSelection(s).replaceSelectionWith(l,!1).setMeta("preventUpdate",!r),!0};var bw=Object.freeze({__proto__:null,setContent:vw});function xm(t,r){const o=te(r,t.schema),{from:e,to:a,empty:i}=t.selection,n=[];i?(t.storedMarks&&n.push(...t.storedMarks),n.push(...t.selection.$head.marks())):t.doc.nodesBetween(e,a,s=>{n.push(...s.marks)});const l=n.find(s=>s.type.name===o.name);return l?y({},l.attrs):{}}const xw=(t,r={})=>({tr:o,state:e,dispatch:a})=>{const{selection:i}=o,{empty:n,ranges:l}=i,s=te(t,e.schema);if(a)if(n){const c=xm(e,s);o.addStoredMark(s.create(y(y({},c),r)))}else l.forEach(c=>{const d=c.$from.pos,p=c.$to.pos;e.doc.nodesBetween(d,p,(g,u)=>{const m=Math.max(u,d),h=Math.min(u+g.nodeSize,p);g.marks.find(w=>w.type===s)?g.marks.forEach(w=>{s===w.type&&o.addMark(m,h,s.create(y(y({},w.attrs),r)))}):o.addMark(m,h,s.create(r))})});return!0};var yw=Object.freeze({__proto__:null,setMark:xw});const ww=(t,r)=>({tr:o})=>(o.setMeta(t,r),!0);var kw=Object.freeze({__proto__:null,setMeta:ww});const _w=(t,r={})=>({state:o,dispatch:e,chain:a})=>{const i=Hr(t,o.schema);return i.isTextblock?a().command(({commands:n})=>Bd(i,r)(o)?!0:n.clearNodes()).command(({state:n})=>Bd(i,r)(n,e)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)};var zw=Object.freeze({__proto__:null,setNode:_w});const Sw=t=>({tr:r,dispatch:o})=>{if(o){const{doc:e}=r,a=dr.atStart(e).from,i=dr.atEnd(e).to,n=zo(t,a,i),l=or.create(e,n);r.setSelection(l)}return!0};var $w=Object.freeze({__proto__:null,setNodeSelection:Sw});const Cw=t=>({tr:r,dispatch:o})=>{if(o){const{doc:e}=r,{from:a,to:i}=typeof t=="number"?{from:t,to:t}:t,n=gr.atStart(e).from,l=gr.atEnd(e).to,s=zo(a,n,l),c=zo(i,n,l),d=gr.create(e,s,c);r.setSelection(d)}return!0};var Ow=Object.freeze({__proto__:null,setTextSelection:Cw});const Mw=t=>({state:r,dispatch:o})=>{const e=Hr(t,r.schema);return z0(e)(r,o)};var Tw=Object.freeze({__proto__:null,sinkListItem:Mw});function Ti(t,r,o){return Object.fromEntries(Object.entries(o).filter(([e])=>{const a=t.find(i=>i.type===r&&i.name===e);return a?a.attribute.keepOnSplit:!1}))}function Ew(t){for(let r=0;r<t.edgeCount;r+=1){const{type:o}=t.edge(r);if(o.isTextblock&&!o.hasRequiredAttrs())return o}return null}function fp(t,r){const o=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(o){const e=o.filter(a=>r==null?void 0:r.includes(a.type.name));t.tr.ensureMarks(e)}}const Iw=({keepMarks:t=!0}={})=>({tr:r,state:o,dispatch:e,editor:a})=>{const{selection:i,doc:n}=r,{$from:l,$to:s}=i,c=a.extensionManager.attributes,d=Ti(c,l.node().type.name,l.node().attrs);if(i instanceof or&&i.node.isBlock)return!l.parentOffset||!qe(n,l.pos)?!1:(e&&(t&&fp(o,a.extensionManager.splittableMarks),r.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;if(e){const p=s.parentOffset===s.parent.content.size;i instanceof gr&&r.deleteSelection();const g=l.depth===0?void 0:Ew(l.node(-1).contentMatchAt(l.indexAfter(-1)));let u=p&&g?[{type:g,attrs:d}]:void 0,m=qe(r.doc,r.mapping.map(l.pos),1,u);if(!u&&!m&&qe(r.doc,r.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(m=!0,u=g?[{type:g,attrs:d}]:void 0),m&&(r.split(r.mapping.map(l.pos),1,u),g&&!p&&!l.parentOffset&&l.parent.type!==g)){const h=r.mapping.map(l.before()),b=r.doc.resolve(h);l.node(-1).canReplaceWith(b.index(),b.index()+1,g)&&r.setNodeMarkup(r.mapping.map(l.before()),g)}t&&fp(o,a.extensionManager.splittableMarks),r.scrollIntoView()}return!0};var Aw=Object.freeze({__proto__:null,splitBlock:Iw});const Nw=t=>({tr:r,state:o,dispatch:e,editor:a})=>{var i;const n=Hr(t,o.schema),{$from:l,$to:s}=o.selection,c=o.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(s))return!1;const d=l.node(-1);if(d.type!==n)return!1;const p=a.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==n||l.index(-2)!==l.node(-2).childCount-1)return!1;if(e){let b=A.empty;const w=l.index(-1)?1:l.index(-2)?2:3;for(let Y=l.depth-w;Y>=l.depth-3;Y-=1)b=A.from(l.node(Y).copy(b));const T=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,F=Ti(p,l.node().type.name,l.node().attrs),v=((i=n.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(F))||void 0;b=b.append(A.from(n.createAndFill(null,v)||void 0));const j=l.before(l.depth-(w-1));r.replace(j,l.after(-T),new H(b,4-w,0));let B=-1;r.doc.nodesBetween(j,r.doc.content.size,(Y,O)=>{if(B>-1)return!1;Y.isTextblock&&Y.content.size===0&&(B=O+1)}),B>-1&&r.setSelection(gr.near(r.doc.resolve(B))),r.scrollIntoView()}return!0}const g=s.pos===l.end()?d.contentMatchAt(0).defaultType:null,u=Ti(p,d.type.name,d.attrs),m=Ti(p,l.node().type.name,l.node().attrs);r.delete(l.pos,s.pos);const h=g?[{type:n,attrs:u},{type:g,attrs:m}]:[{type:n,attrs:u}];return qe(r.doc,l.pos,2)?(e&&r.split(l.pos,2,h).scrollIntoView(),!0):!1};var Dw=Object.freeze({__proto__:null,splitListItem:Nw});function Bw(t,r){for(let o=t.depth;o>0;o-=1){const e=t.node(o);if(r(e))return{pos:o>0?t.before(o):0,start:t.start(o),depth:o,node:e}}}function yc(t){return r=>Bw(r.$from,t)}function zn(t){const r=t.filter(a=>a.type==="extension"),o=t.filter(a=>a.type==="node"),e=t.filter(a=>a.type==="mark");return{baseExtensions:r,nodeExtensions:o,markExtensions:e}}function vp(t,r){const{nodeExtensions:o}=zn(r),e=o.find(n=>n.name===t);if(!e)return!1;const a={name:e.name,options:e.options,storage:e.storage},i=mr(q(e,"group",a));return typeof i!="string"?!1:i.split(" ").includes("list")}const bp=(t,r)=>{const o=yc(n=>n.type===r)(t.selection);if(!o)return!0;const e=t.doc.resolve(Math.max(0,o.pos-1)).before(o.depth);if(e===void 0)return!0;const a=t.doc.nodeAt(e);return o.node.type===(a==null?void 0:a.type)&&ai(t.doc,o.pos)&&t.join(o.pos),!0},xp=(t,r)=>{const o=yc(n=>n.type===r)(t.selection);if(!o)return!0;const e=t.doc.resolve(o.start).after(o.depth);if(e===void 0)return!0;const a=t.doc.nodeAt(e);return o.node.type===(a==null?void 0:a.type)&&ai(t.doc,e)&&t.join(e),!0},Pw=(t,r)=>({editor:o,tr:e,state:a,dispatch:i,chain:n,commands:l,can:s})=>{const{extensions:c}=o.extensionManager,d=Hr(t,a.schema),p=Hr(r,a.schema),{selection:g}=a,{$from:u,$to:m}=g,h=u.blockRange(m);if(!h)return!1;const b=yc(w=>vp(w.type.name,c))(g);if(h.depth>=1&&b&&h.depth-b.depth<=1){if(b.node.type===d)return l.liftListItem(p);if(vp(b.node.type.name,c)&&d.validContent(b.node.content)&&i)return n().command(()=>(e.setNodeMarkup(b.pos,d),!0)).command(()=>bp(e,d)).command(()=>xp(e,d)).run()}return n().command(()=>s().wrapInList(d)?!0:l.clearNodes()).wrapInList(d).command(()=>bp(e,d)).command(()=>xp(e,d)).run()};var Rw=Object.freeze({__proto__:null,toggleList:Pw});function zs(t,r,o={}){const{empty:e,ranges:a}=t.selection,i=r?te(r,t.schema):null;if(e)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>i?i.name===p.type.name:!0).find(p=>Yi(p.attrs,o,{strict:!1}));let n=0;const l=[];if(a.forEach(({$from:p,$to:g})=>{const u=p.pos,m=g.pos;t.doc.nodesBetween(u,m,(h,b)=>{if(!h.isText&&!h.marks.length)return;const w=Math.max(u,b),T=Math.min(m,b+h.nodeSize);n+=T-w,l.push(...h.marks.map(v=>({mark:v,from:w,to:T})))})}),n===0)return!1;const s=l.filter(p=>i?i.name===p.mark.type.name:!0).filter(p=>Yi(p.mark.attrs,o,{strict:!1})).reduce((p,g)=>p+g.to-g.from,0),c=l.filter(p=>i?p.mark.type!==i&&p.mark.type.excludes(i):!0).reduce((p,g)=>p+g.to-g.from,0);return(s>0?s+c:s)>=n}const Lw=(t,r={},o={})=>({state:e,commands:a})=>{const{extendEmptyMarkRange:i=!1}=o,n=te(t,e.schema);return zs(e,n,r)?a.unsetMark(n,{extendEmptyMarkRange:i}):a.setMark(n,r)};var Fw=Object.freeze({__proto__:null,toggleMark:Lw});const jw=(t,r,o={})=>({state:e,commands:a})=>{const i=Hr(t,e.schema),n=Hr(r,e.schema);return Xa(e,i,o)?a.setNode(n):a.setNode(i,o)};var Vw=Object.freeze({__proto__:null,toggleNode:jw});const Hw=(t,r={})=>({state:o,commands:e})=>{const a=Hr(t,o.schema);return Xa(o,a,r)?e.lift(a):e.wrapIn(a,r)};var Ww=Object.freeze({__proto__:null,toggleWrap:Hw});const Kw=()=>({state:t,dispatch:r})=>{const o=t.plugins;for(let e=0;e<o.length;e+=1){const a=o[e];let i;if(a.spec.isInputRules&&(i=a.getState(t))){if(r){const n=t.tr,l=i.transform;for(let s=l.steps.length-1;s>=0;s-=1)n.step(l.steps[s].invert(l.docs[s]));if(i.text){const s=n.doc.resolve(i.from).marks();n.replaceWith(i.from,i.to,t.schema.text(i.text,s))}else n.delete(i.from,i.to)}return!0}}return!1};var qw=Object.freeze({__proto__:null,undoInputRule:Kw});const Uw=()=>({tr:t,dispatch:r})=>{const{selection:o}=t,{empty:e,ranges:a}=o;return e||r&&a.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0};var Jw=Object.freeze({__proto__:null,unsetAllMarks:Uw});const Gw=(t,r={})=>({tr:o,state:e,dispatch:a})=>{var i;const{extendEmptyMarkRange:n=!1}=r,{selection:l}=o,s=te(t,e.schema),{$from:c,empty:d,ranges:p}=l;if(!a)return!0;if(d&&n){let{from:g,to:u}=l;const m=(i=c.marks().find(b=>b.type===s))===null||i===void 0?void 0:i.attrs,h=bc(c,s,m);h&&(g=h.from,u=h.to),o.removeMark(g,u,s)}else p.forEach(g=>{o.removeMark(g.$from.pos,g.$to.pos,s)});return o.removeStoredMark(s),!0};var Zw=Object.freeze({__proto__:null,unsetMark:Gw});const Yw=(t,r={})=>({tr:o,state:e,dispatch:a})=>{let i=null,n=null;const l=_n(typeof t=="string"?t:t.name,e.schema);return l?(l==="node"&&(i=Hr(t,e.schema)),l==="mark"&&(n=te(t,e.schema)),a&&o.selection.ranges.forEach(s=>{const c=s.$from.pos,d=s.$to.pos;e.doc.nodesBetween(c,d,(p,g)=>{i&&i===p.type&&o.setNodeMarkup(g,void 0,y(y({},p.attrs),r)),n&&p.marks.length&&p.marks.forEach(u=>{if(n===u.type){const m=Math.max(g,c),h=Math.min(g+p.nodeSize,d);o.addMark(m,h,n.create(y(y({},u.attrs),r)))}})})}),!0):!1};var Xw=Object.freeze({__proto__:null,updateAttributes:Yw});const Qw=(t,r={})=>({state:o,dispatch:e})=>{const a=Hr(t,o.schema);return b0(a,r)(o,e)};var r1=Object.freeze({__proto__:null,wrapIn:Qw});const t1=(t,r={})=>({state:o,dispatch:e})=>{const a=Hr(t,o.schema);return x0(a,r)(o,e)};var o1=Object.freeze({__proto__:null,wrapInList:t1});const e1=it.create({name:"commands",addCommands(){return y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y(y({},iy),ly),cy),py),uy),hy),vy),xy),wy),_y),$y),Oy),Ey),Ay),Dy),Ly),jy),Hy),qy),Jy),Zy),Xy),rw),ow),aw),nw),sw),dw),gw),mw),fw),bw),yw),kw),zw),$w),Ow),Tw),Aw),Dw),Rw),Fw),Vw),Ww),qw),Jw),Zw),Xw),r1),o1)}}),a1=it.create({name:"editable",addProseMirrorPlugins(){return[new ut({key:new bo("editable"),props:{editable:()=>this.editor.options.editable}})]}}),i1=it.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new ut({key:new bo("focusEvents"),props:{handleDOMEvents:{focus:(r,o)=>{t.isFocused=!0;const e=t.state.tr.setMeta("focus",{event:o}).setMeta("addToHistory",!1);return r.dispatch(e),!1},blur:(r,o)=>{t.isFocused=!1;const e=t.state.tr.setMeta("blur",{event:o}).setMeta("addToHistory",!1);return r.dispatch(e),!1}}}})]}});function Sn(t){const{state:r,transaction:o}=t;let{selection:e}=o,{doc:a}=o,{storedMarks:i}=o;return lr(y({},r),{schema:r.schema,plugins:r.plugins,apply:r.apply.bind(r),applyTransaction:r.applyTransaction.bind(r),reconfigure:r.reconfigure.bind(r),toJSON:r.toJSON.bind(r),get storedMarks(){return i},get selection(){return e},get doc(){return a},get tr(){return e=o.selection,a=o.doc,i=o.storedMarks,o}})}class $n{constructor(r){this.editor=r.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=r.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:r,editor:o,state:e}=this,{view:a}=o,{tr:i}=e,n=this.buildProps(i);return Object.fromEntries(Object.entries(r).map(([l,s])=>[l,(...d)=>{const p=s(...d)(n);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(r,o=!0){const{rawCommands:e,editor:a,state:i}=this,{view:n}=a,l=[],s=!!r,c=r||i.tr,d=()=>(!s&&o&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(c),l.every(g=>g===!0)),p=lr(y({},Object.fromEntries(Object.entries(e).map(([g,u])=>[g,(...h)=>{const b=this.buildProps(c,o),w=u(...h)(b);return l.push(w),p}]))),{run:d});return p}createCan(r){const{rawCommands:o,state:e}=this,a=void 0,i=r||e.tr,n=this.buildProps(i,a),l=Object.fromEntries(Object.entries(o).map(([s,c])=>[s,(...d)=>c(...d)(lr(y({},n),{dispatch:a}))]));return lr(y({},l),{chain:()=>this.createChain(i,a)})}buildProps(r,o=!0){const{rawCommands:e,editor:a,state:i}=this,{view:n}=a;i.storedMarks&&r.setStoredMarks(i.storedMarks);const l={tr:r,editor:a,view:n,state:Sn({state:i,transaction:r}),dispatch:o?()=>{}:void 0,chain:()=>this.createChain(r),can:()=>this.createCan(r),get commands(){return Object.fromEntries(Object.entries(e).map(([s,c])=>[s,(...d)=>c(...d)(l)]))}};return l}}const n1=it.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:n})=>[()=>n.undoInputRule(),()=>n.command(({tr:l})=>{const{selection:s,doc:c}=l,{empty:d,$anchor:p}=s,{pos:g,parent:u}=p,m=dr.atStart(c).from===g;return!d||!m||!u.type.isTextblock||u.textContent.length?!1:n.clearNodes()}),()=>n.deleteSelection(),()=>n.joinBackward(),()=>n.selectNodeBackward()]),r=()=>this.editor.commands.first(({commands:n})=>[()=>n.deleteSelection(),()=>n.joinForward(),()=>n.selectNodeForward()]),e={Enter:()=>this.editor.commands.first(({commands:n})=>[()=>n.newlineInCode(),()=>n.createParagraphNear(),()=>n.liftEmptyBlock(),()=>n.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:r,"Mod-Delete":r,"Mod-a":()=>this.editor.commands.selectAll()},a=y({},e),i=lr(y({},e),{"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":r,"Ctrl-Alt-Backspace":r,"Alt-Delete":r,"Alt-d":r,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return xc()||vm()?i:a},addProseMirrorPlugins(){return[new ut({key:new bo("clearDocument"),appendTransaction:(t,r,o)=>{if(!(t.some(m=>m.docChanged)&&!r.doc.eq(o.doc)))return;const{empty:a,from:i,to:n}=r.selection,l=dr.atStart(r.doc).from,s=dr.atEnd(r.doc).to,c=i===l&&n===s,d=o.doc.textBetween(0,o.doc.content.size," "," ").length===0;if(a||!c||!d)return;const p=o.tr,g=Sn({state:o,transaction:p}),{commands:u}=new $n({editor:this.editor,state:g});if(u.clearNodes(),!!p.steps.length)return p}})]}}),l1=it.create({name:"tabindex",addProseMirrorPlugins(){return[new ut({key:new bo("tabindex"),props:{attributes:()=>{if(this.editor.isEditable)return{tabindex:"0"}}}})]}});var s1=Object.freeze({__proto__:null,ClipboardTextSerializer:ey,Commands:e1,Editable:a1,FocusEvents:i1,Keymap:n1,Tabindex:l1});function c1(t,r){const o=Hr(r,t.schema),{from:e,to:a}=t.selection,i=[];t.doc.nodesBetween(e,a,l=>{i.push(l)});const n=i.reverse().find(l=>l.type.name===o.name);return n?y({},n.attrs):{}}function d1(t,r){const o=_n(typeof r=="string"?r:r.name,t.schema);return o==="node"?c1(t,r):o==="mark"?xm(t,r):{}}function p1(t,r,o={}){if(!r)return Xa(t,null,o)||zs(t,null,o);const e=_n(r,t.schema);return e==="node"?Xa(t,r,o):e==="mark"?zs(t,r,o):!1}function g1(t,r){const o=no.fromSchema(r).serializeFragment(t),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(o),a.innerHTML}function u1(t,r){const o={from:0,to:t.content.size};return gm(t,o,r)}function m1(t){var r;const o=(r=t.type.createAndFill())===null||r===void 0?void 0:r.toJSON(),e=t.toJSON();return JSON.stringify(o)===JSON.stringify(e)}function h1(t,r){const o=document.querySelector("style[data-tiptap-style]");if(o!==null)return o;const e=document.createElement("style");return r&&e.setAttribute("nonce",r),e.setAttribute("data-tiptap-style",""),e.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(e),e}class Cn{constructor(r){this.find=r.find,this.handler=r.handler}}const f1=(t,r)=>{if(vc(r))return r.exec(t);const o=r(t);if(!o)return null;const e=[];return e.push(o.text),e.index=o.index,e.input=t,e.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),e.push(o.replaceWith)),e};function nl(t){var r;const{editor:o,from:e,to:a,text:i,rules:n,plugin:l}=t,{view:s}=o;if(s.composing)return!1;const c=s.state.doc.resolve(e);if(c.parent.type.spec.code||!!(!((r=c.nodeBefore||c.nodeAfter)===null||r===void 0)&&r.marks.find(u=>u.type.spec.code)))return!1;let d=!1;const p=500,g=c.parent.textBetween(Math.max(0,c.parentOffset-p),c.parentOffset,void 0," ")+i;return n.forEach(u=>{if(d)return;const m=f1(g,u.find);if(!m)return;const h=s.state.tr,b=Sn({state:s.state,transaction:h}),w={from:e-(m[0].length-i.length),to:a},{commands:T,chain:F,can:v}=new $n({editor:o,state:b});u.handler({state:b,range:w,match:m,commands:T,chain:F,can:v})===null||!h.steps.length||(h.setMeta(l,{transform:h,from:e,to:a,text:i}),s.dispatch(h),d=!0)}),d}function v1(t){const{editor:r,rules:o}=t,e=new ut({state:{init(){return null},apply(a,i){const n=a.getMeta(this);return n||(a.selectionSet||a.docChanged?null:i)}},props:{handleTextInput(a,i,n,l){return nl({editor:r,from:i,to:n,text:l,rules:o,plugin:e})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:i}=a.state.selection;i&&nl({editor:r,from:i.pos,to:i.pos,text:"",rules:o,plugin:e})}),!1)},handleKeyDown(a,i){if(i.key!=="Enter")return!1;const{$cursor:n}=a.state.selection;return n?nl({editor:r,from:n.pos,to:n.pos,text:`
`,rules:o,plugin:e}):!1}},isInputRules:!0});return e}function b1(t){return typeof t=="number"}class x1{constructor(r){this.find=r.find,this.handler=r.handler}}const y1=(t,r)=>{if(vc(r))return[...t.matchAll(r)];const o=r(t);return o?o.map(e=>{const a=[];return a.push(e.text),a.index=e.index,a.input=t,a.data=e.data,e.replaceWith&&(e.text.includes(e.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(e.replaceWith)),a}):[]};function w1(t){const{editor:r,state:o,from:e,to:a,rule:i}=t,{commands:n,chain:l,can:s}=new $n({editor:r,state:o}),c=[];return o.doc.nodesBetween(e,a,(p,g)=>{if(!p.isTextblock||p.type.spec.code)return;const u=Math.max(e,g),m=Math.min(a,g+p.content.size),h=p.textBetween(u-g,m-g,void 0,"\uFFFC");y1(h,i.find).forEach(w=>{if(w.index===void 0)return;const T=u+w.index+1,F=T+w[0].length,v={from:o.tr.mapping.map(T),to:o.tr.mapping.map(F)},j=i.handler({state:o,range:v,match:w,commands:n,chain:l,can:s});c.push(j)})}),c.every(p=>p!==null)}function k1(t){const{editor:r,rules:o}=t;let e=null,a=!1,i=!1;return o.map(l=>new ut({view(s){const c=d=>{var p;e=!((p=s.dom.parentElement)===null||p===void 0)&&p.contains(d.target)?s.dom.parentElement:null};return window.addEventListener("dragstart",c),{destroy(){window.removeEventListener("dragstart",c)}}},props:{handleDOMEvents:{drop:s=>(i=e===s.dom.parentElement,!1),paste:(s,c)=>{var d;const p=(d=c.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return a=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(s,c,d)=>{const p=s[0],g=p.getMeta("uiEvent")==="paste"&&!a,u=p.getMeta("uiEvent")==="drop"&&!i;if(!g&&!u)return;const m=c.doc.content.findDiffStart(d.doc.content),h=c.doc.content.findDiffEnd(d.doc.content);if(!b1(m)||!h||m===h.b)return;const b=d.tr,w=Sn({state:d,transaction:b});if(!(!w1({editor:r,state:w,from:Math.max(m-1,0),to:h.b,rule:l})||!b.steps.length))return b}}))}function ym(t){const r=[],{nodeExtensions:o,markExtensions:e}=zn(t),a=[...o,...e],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return t.forEach(n=>{const l={name:n.name,options:n.options,storage:n.storage},s=q(n,"addGlobalAttributes",l);if(!s)return;s().forEach(d=>{d.types.forEach(p=>{Object.entries(d.attributes).forEach(([g,u])=>{r.push({type:p,name:g,attribute:y(y({},i),u)})})})})}),a.forEach(n=>{const l={name:n.name,options:n.options,storage:n.storage},s=q(n,"addAttributes",l);if(!s)return;const c=s();Object.entries(c).forEach(([d,p])=>{r.push({type:n.name,name:d,attribute:y(y({},i),p)})})}),r}function gt(...t){return t.filter(r=>!!r).reduce((r,o)=>{const e=y({},r);return Object.entries(o).forEach(([a,i])=>{if(!e[a]){e[a]=i;return}a==="class"?e[a]=[e[a],i].join(" "):a==="style"?e[a]=[e[a],i].join("; "):e[a]=i}),e},{})}function Ss(t,r){return r.filter(o=>o.attribute.rendered).map(o=>o.attribute.renderHTML?o.attribute.renderHTML(t.attrs)||{}:{[o.name]:t.attrs[o.name]}).reduce((o,e)=>gt(o,e),{})}function _1(t={}){return Object.keys(t).length===0&&t.constructor===Object}function z1(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function yp(t,r){return t.style?t:lr(y({},t),{getAttrs:o=>{const e=t.getAttrs?t.getAttrs(o):t.attrs;if(e===!1)return!1;const a=r.reduce((i,n)=>{const l=n.attribute.parseHTML?n.attribute.parseHTML(o):z1(o.getAttribute(n.name));return l==null?i:lr(y({},i),{[n.name]:l})},{});return y(y({},e),a)}})}function wp(t){return Object.fromEntries(Object.entries(t).filter(([r,o])=>r==="attrs"&&_1(o)?!1:o!=null))}function S1(t){var r;const o=ym(t),{nodeExtensions:e,markExtensions:a}=zn(t),i=(r=e.find(s=>q(s,"topNode")))===null||r===void 0?void 0:r.name,n=Object.fromEntries(e.map(s=>{const c=o.filter(b=>b.type===s.name),d={name:s.name,options:s.options,storage:s.storage},p=t.reduce((b,w)=>{const T=q(w,"extendNodeSchema",d);return y(y({},b),T?T(s):{})},{}),g=wp(lr(y({},p),{content:mr(q(s,"content",d)),marks:mr(q(s,"marks",d)),group:mr(q(s,"group",d)),inline:mr(q(s,"inline",d)),atom:mr(q(s,"atom",d)),selectable:mr(q(s,"selectable",d)),draggable:mr(q(s,"draggable",d)),code:mr(q(s,"code",d)),defining:mr(q(s,"defining",d)),isolating:mr(q(s,"isolating",d)),attrs:Object.fromEntries(c.map(b=>{var w;return[b.name,{default:(w=b==null?void 0:b.attribute)===null||w===void 0?void 0:w.default}]}))})),u=mr(q(s,"parseHTML",d));u&&(g.parseDOM=u.map(b=>yp(b,c)));const m=q(s,"renderHTML",d);m&&(g.toDOM=b=>m({node:b,HTMLAttributes:Ss(b,c)}));const h=q(s,"renderText",d);return h&&(g.toText=h),[s.name,g]})),l=Object.fromEntries(a.map(s=>{const c=o.filter(h=>h.type===s.name),d={name:s.name,options:s.options,storage:s.storage},p=t.reduce((h,b)=>{const w=q(b,"extendMarkSchema",d);return y(y({},h),w?w(s):{})},{}),g=wp(lr(y({},p),{inclusive:mr(q(s,"inclusive",d)),excludes:mr(q(s,"excludes",d)),group:mr(q(s,"group",d)),spanning:mr(q(s,"spanning",d)),code:mr(q(s,"code",d)),attrs:Object.fromEntries(c.map(h=>{var b;return[h.name,{default:(b=h==null?void 0:h.attribute)===null||b===void 0?void 0:b.default}]}))})),u=mr(q(s,"parseHTML",d));u&&(g.parseDOM=u.map(h=>yp(h,c)));const m=q(s,"renderHTML",d);return m&&(g.toDOM=h=>m({mark:h,HTMLAttributes:Ss(h,c)})),[s.name,g]}));return new _b({topNode:i,nodes:n,marks:l})}function ll(t,r){return r.nodes[t]||r.marks[t]||null}function kp(t,r){return Array.isArray(r)?r.some(o=>(typeof o=="string"?o:o.name)===t.name):r}function $1(t){const r=t.filter((o,e)=>t.indexOf(o)!==e);return[...new Set(r)]}class je{constructor(r,o){this.splittableMarks=[],this.editor=o,this.extensions=je.resolve(r),this.schema=S1(this.extensions),this.extensions.forEach(e=>{var a;this.editor.extensionStorage[e.name]=e.storage;const i={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:ll(e.name,this.schema)};e.type==="mark"&&((a=mr(q(e,"keepOnSplit",i)))!==null&&a!==void 0?a:!0)&&this.splittableMarks.push(e.name);const n=q(e,"onBeforeCreate",i);n&&this.editor.on("beforeCreate",n);const l=q(e,"onCreate",i);l&&this.editor.on("create",l);const s=q(e,"onUpdate",i);s&&this.editor.on("update",s);const c=q(e,"onSelectionUpdate",i);c&&this.editor.on("selectionUpdate",c);const d=q(e,"onTransaction",i);d&&this.editor.on("transaction",d);const p=q(e,"onFocus",i);p&&this.editor.on("focus",p);const g=q(e,"onBlur",i);g&&this.editor.on("blur",g);const u=q(e,"onDestroy",i);u&&this.editor.on("destroy",u)})}static resolve(r){const o=je.sort(je.flatten(r)),e=$1(o.map(a=>a.name));return e.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${e.map(a=>`'${a}'`).join(", ")}]. This can lead to issues.`),o}static flatten(r){return r.map(o=>{const e={name:o.name,options:o.options,storage:o.storage},a=q(o,"addExtensions",e);return a?[o,...this.flatten(a())]:o}).flat(10)}static sort(r){return r.sort((e,a)=>{const i=q(e,"priority")||100,n=q(a,"priority")||100;return i>n?-1:i<n?1:0})}get commands(){return this.extensions.reduce((r,o)=>{const e={name:o.name,options:o.options,storage:o.storage,editor:this.editor,type:ll(o.name,this.schema)},a=q(o,"addCommands",e);return a?y(y({},r),a()):r},{})}get plugins(){const{editor:r}=this,o=je.sort([...this.extensions].reverse()),e=[],a=[],i=o.map(n=>{const l={name:n.name,options:n.options,storage:n.storage,editor:r,type:ll(n.name,this.schema)},s=[],c=q(n,"addKeyboardShortcuts",l);if(c){const u=Object.fromEntries(Object.entries(c()).map(([h,b])=>[h,()=>b({editor:r})])),m=ty(u);s.push(m)}const d=q(n,"addInputRules",l);kp(n,r.options.enableInputRules)&&d&&e.push(...d());const p=q(n,"addPasteRules",l);kp(n,r.options.enablePasteRules)&&p&&a.push(...p());const g=q(n,"addProseMirrorPlugins",l);if(g){const u=g();s.push(...u)}return s}).flat();return[v1({editor:r,rules:e}),...k1({editor:r,rules:a}),...i]}get attributes(){return ym(this.extensions)}get nodeViews(){const{editor:r}=this,{nodeExtensions:o}=zn(this.extensions);return Object.fromEntries(o.filter(e=>!!q(e,"addNodeView")).map(e=>{const a=this.attributes.filter(s=>s.type===e.name),i={name:e.name,options:e.options,storage:e.storage,editor:r,type:Hr(e.name,this.schema)},n=q(e,"addNodeView",i);if(!n)return[];const l=(s,c,d,p)=>{const g=Ss(s,a);return n()({editor:r,node:s,getPos:d,decorations:p,HTMLAttributes:g,extension:e})};return[e.name,l]}))}}class C1{constructor(){this.callbacks={}}on(r,o){return this.callbacks[r]||(this.callbacks[r]=[]),this.callbacks[r].push(o),this}emit(r,...o){const e=this.callbacks[r];return e&&e.forEach(a=>a.apply(this,o)),this}off(r,o){const e=this.callbacks[r];return e&&(o?this.callbacks[r]=e.filter(a=>a!==o):delete this.callbacks[r]),this}removeAllListeners(){this.callbacks={}}}const O1=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;class M1 extends C1{constructor(r={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(r),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=h1(O1,this.options.injectNonce))}setOptions(r={}){this.options=y(y({},this.options),r),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(r){this.setOptions({editable:r})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(r,o){const e=pm(o)?o(r,this.state.plugins):[...this.state.plugins,r],a=this.state.reconfigure({plugins:e});this.view.updateState(a)}unregisterPlugin(r){if(this.isDestroyed)return;const o=typeof r=="string"?`${r}$`:r.key,e=this.state.reconfigure({plugins:this.state.plugins.filter(a=>!a.key.startsWith(o))});this.view.updateState(e)}createExtensionManager(){const o=[...this.options.enableCoreExtensions?Object.values(s1):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(e==null?void 0:e.type));this.extensionManager=new je(o,this)}createCommandManager(){this.commandManager=new $n({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const r=bm(this.options.content,this.schema,this.options.parseOptions),o=fm(r,this.options.autofocus);this.view=new Wx(this.options.element,lr(y({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:Re.create({doc:r,selection:o})}));const e=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(e),this.createNodeViews();const a=this.view.dom;a.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(r){this.isCapturingTransaction=!0,r(),this.isCapturingTransaction=!1;const o=this.capturedTransaction;return this.capturedTransaction=null,o}dispatchTransaction(r){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=r;return}r.steps.forEach(n=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(n)});return}const o=this.state.apply(r),e=!this.state.selection.eq(o.selection);this.view.updateState(o),this.emit("transaction",{editor:this,transaction:r}),e&&this.emit("selectionUpdate",{editor:this,transaction:r});const a=r.getMeta("focus"),i=r.getMeta("blur");a&&this.emit("focus",{editor:this,event:a.event,transaction:r}),i&&this.emit("blur",{editor:this,event:i.event,transaction:r}),!(!r.docChanged||r.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:r})}getAttributes(r){return d1(this.state,r)}isActive(r,o){const e=typeof r=="string"?r:null,a=typeof r=="string"?o:r;return p1(this.state,e,a)}getJSON(){return this.state.doc.toJSON()}getHTML(){return g1(this.state.doc.content,this.schema)}getText(r){const{blockSeparator:o=`

`,textSerializers:e={}}=r||{};return u1(this.state.doc,{blockSeparator:o,textSerializers:y(y({},e),um(this.schema))})}get isEmpty(){return m1(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var r;return!(!((r=this.view)===null||r===void 0)&&r.docView)}}class wt{constructor(r={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=y(y({},this.config),r),this.name=this.config.name,r.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=mr(q(this,"addOptions",{name:this.name}))),this.storage=mr(q(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(r={}){return new wt(r)}configure(r={}){const o=this.extend();return o.options=kn(this.options,r),o.storage=mr(q(o,"addStorage",{name:o.name,options:o.options})),o}extend(r={}){const o=new wt(r);return o.parent=this,this.child=o,o.name=r.name?r.name:o.parent.name,r.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${o.name}".`),o.options=mr(q(o,"addOptions",{name:o.name})),o.storage=mr(q(o,"addStorage",{name:o.name,options:o.options})),o}}class Ce{constructor(r={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=y(y({},this.config),r),this.name=this.config.name,r.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=mr(q(this,"addOptions",{name:this.name}))),this.storage=mr(q(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(r={}){return new Ce(r)}configure(r={}){const o=this.extend();return o.options=kn(this.options,r),o.storage=mr(q(o,"addStorage",{name:o.name,options:o.options})),o}extend(r={}){const o=new Ce(r);return o.parent=this,this.child=o,o.name=r.name?r.name:o.parent.name,r.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${o.name}".`),o.options=mr(q(o,"addOptions",{name:o.name})),o.storage=mr(q(o,"addStorage",{name:o.name,options:o.options})),o}}function T1(t){return new Cn({find:t.find,handler:({state:r,range:o,match:e})=>{const a=mr(t.getAttributes,void 0,e)||{},{tr:i}=r,n=o.from;let l=o.to;if(e[1]){const s=e[0].lastIndexOf(e[1]);let c=n+s;c>l?c=l:l=c+e[1].length;const d=e[0][e[0].length-1];i.insertText(d,n+e[0].length-1),i.replaceWith(c,l,t.type.create(a))}else e[0]&&i.replaceWith(n,l,t.type.create(a))}})}function wm(t,r,o){const e=[];return t===r?o.resolve(t).marks().forEach(a=>{const i=o.resolve(t-1),n=bc(i,a.type);!n||e.push(y({mark:a},n))}):o.nodesBetween(t,r,(a,i)=>{e.push(...a.marks.map(n=>({from:i,to:i+a.nodeSize,mark:n})))}),e}function ra(t){return new Cn({find:t.find,handler:({state:r,range:o,match:e})=>{const a=mr(t.getAttributes,void 0,e);if(a===!1||a===null)return null;const{tr:i}=r,n=e[e.length-1],l=e[0];let s=o.to;if(n){const c=l.search(/\S/),d=o.from+l.indexOf(n),p=d+n.length;if(wm(o.from,o.to,r.doc).filter(u=>u.mark.type.excluded.find(h=>h===t.type&&h!==u.mark.type)).filter(u=>u.to>d).length)return null;p<o.to&&i.delete(p,o.to),d>o.from&&i.delete(o.from+c,d),s=o.from+c+n.length,i.addMark(o.from+c,s,t.type.create(a||{})),i.removeStoredMark(t.type)}}})}function $s(t){return new Cn({find:t.find,handler:({state:r,range:o,match:e})=>{const a=r.doc.resolve(o.from),i=mr(t.getAttributes,void 0,e)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t.type))return null;r.tr.delete(o.from,o.to).setBlockType(o.from,o.from,t.type,i)}})}function wc(t){return new Cn({find:t.find,handler:({state:r,range:o,match:e})=>{const a=mr(t.getAttributes,void 0,e)||{},i=r.tr.delete(o.from,o.to),l=i.doc.resolve(o.from).blockRange(),s=l&&ac(l,t.type,a);if(!s)return null;i.wrap(l,s);const c=i.doc.resolve(o.from-1).nodeBefore;c&&c.type===t.type&&ai(i.doc,o.from-1)&&(!t.joinPredicate||t.joinPredicate(e,c))&&i.join(o.from-1)}})}function ta(t){return new x1({find:t.find,handler:({state:r,range:o,match:e})=>{const a=mr(t.getAttributes,void 0,e);if(a===!1||a===null)return null;const{tr:i}=r,n=e[e.length-1],l=e[0];let s=o.to;if(n){const c=l.search(/\S/),d=o.from+l.indexOf(n),p=d+n.length;if(wm(o.from,o.to,r.doc).filter(u=>u.mark.type.excluded.find(h=>h===t.type&&h!==u.mark.type)).filter(u=>u.to>d).length)return null;p<o.to&&i.delete(p,o.to),d>o.from&&i.delete(o.from+c,d),s=o.from+c+n.length,i.addMark(o.from+c,s,t.type.create(a||{})),i.removeStoredMark(t.type)}}})}function E1(t){return mm(t)&&t instanceof or}function km(t,r,o){const a=t.state.doc.content.size,i=zo(r,0,a),n=zo(o,0,a),l=t.coordsAtPos(i),s=t.coordsAtPos(n,-1),c=Math.min(l.top,s.top),d=Math.max(l.bottom,s.bottom),p=Math.min(l.left,s.left),g=Math.max(l.right,s.right),u=g-p,m=d-c,w={top:c,bottom:d,left:p,right:g,width:u,height:m,x:p,y:c};return lr(y({},w),{toJSON:()=>w})}const I1=/^\s*>\s$/,A1=wt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wc({find:I1,type:this.type})]}}),N1=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,D1=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,B1=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,P1=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,R1=Ce.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ra({find:N1,type:this.type}),ra({find:B1,type:this.type})]},addPasteRules(){return[ta({find:D1,type:this.type}),ta({find:P1,type:this.type})]}}),L1=/^\s*([-+*])\s$/,F1=wt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[wc({find:L1,type:this.type})]}}),j1=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,V1=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,H1=Ce.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ra({find:j1,type:this.type})]},addPasteRules(){return[ta({find:V1,type:this.type})]}}),W1=/^```([a-z]+)?[\s\n]$/,K1=/^~~~([a-z]+)?[\s\n]$/,q1=wt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var r;const{languageClassPrefix:o}=this.options,i=[...((r=t.firstElementChild)===null||r===void 0?void 0:r.classList)||[]].filter(n=>n.startsWith(o)).map(n=>n.replace(o,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:r}){return["pre",gt(this.options.HTMLAttributes,r),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:r})=>r.setNode(this.name,t),toggleCodeBlock:t=>({commands:r})=>r.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:r}=this.editor.state.selection,o=r.pos===1;return!t||r.parent.type.name!==this.name?!1:o||!r.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:r}=t,{selection:o}=r,{$from:e,empty:a}=o;if(!a||e.parent.type!==this.type)return!1;const i=e.parentOffset===e.parent.nodeSize-2,n=e.parent.textContent.endsWith(`

`);return!i||!n?!1:t.chain().command(({tr:l})=>(l.delete(e.pos-2,e.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:r}=t,{selection:o,doc:e}=r,{$from:a,empty:i}=o;if(!i||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const l=a.after();return l===void 0||e.nodeAt(l)?!1:t.commands.exitCode()}}},addInputRules(){return[$s({find:W1,type:this.type,getAttributes:t=>({language:t[1]})}),$s({find:K1,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new ut({key:new bo("codeBlockVSCodeHandler"),props:{handlePaste:(t,r)=>{if(!r.clipboardData||this.editor.isActive(this.type.name))return!1;const o=r.clipboardData.getData("text/plain"),e=r.clipboardData.getData("vscode-editor-data"),a=e?JSON.parse(e):void 0,i=a==null?void 0:a.mode;if(!o||!i)return!1;const{tr:n}=t.state;return n.replaceSelectionWith(this.type.create({language:i})),n.setSelection(gr.near(n.doc.resolve(Math.max(0,n.selection.from-2)))),n.insertText(o.replace(/\r\n?/g,`
`)),n.setMeta("paste",!0),t.dispatch(n),!0}}})]}}),U1=wt.create({name:"doc",topNode:!0,content:"block+"});function J1(t={}){return new ut({view(r){return new G1(r,t)}})}class G1{constructor(r,o){this.editorView=r,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=o.width||1,this.color=o.color||"black",this.class=o.class,this.handlers=["dragover","dragend","drop","dragleave"].map(e=>{let a=i=>{this[e](i)};return r.dom.addEventListener(e,a),{name:e,handler:a}})}destroy(){this.handlers.forEach(({name:r,handler:o})=>this.editorView.dom.removeEventListener(r,o))}update(r,o){this.cursorPos!=null&&o.doc!=r.state.doc&&(this.cursorPos>r.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(r){r!=this.cursorPos&&(this.cursorPos=r,r==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let r=this.editorView.state.doc.resolve(this.cursorPos),o;if(!r.parent.inlineContent){let n=r.nodeBefore,l=r.nodeAfter;if(n||l){let s=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),c=n?s.bottom:s.top;n&&l&&(c=(c+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),o={left:s.left,right:s.right,top:c-this.width/2,bottom:c+this.width/2}}}if(!o){let n=this.editorView.coordsAtPos(this.cursorPos);o={left:n.left-this.width/2,right:n.left+this.width/2,top:n.top,bottom:n.bottom}}let e=this.editorView.dom.offsetParent;this.element||(this.element=e.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);let a,i;if(!e||e==document.body&&getComputedStyle(e).position=="static")a=-pageXOffset,i=-pageYOffset;else{let n=e.getBoundingClientRect();a=n.left-e.scrollLeft,i=n.top-e.scrollTop}this.element.style.left=o.left-a+"px",this.element.style.top=o.top-i+"px",this.element.style.width=o.right-o.left+"px",this.element.style.height=o.bottom-o.top+"px"}scheduleRemoval(r){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),r)}dragover(r){if(!this.editorView.editable)return;let o=this.editorView.posAtCoords({left:r.clientX,top:r.clientY}),e=o&&o.inside>=0&&this.editorView.state.doc.nodeAt(o.inside),a=e&&e.type.spec.disableDropCursor,i=typeof a=="function"?a(this.editorView,o):a;if(o&&!i){let n=o.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(n=yu(this.editorView.state.doc,n,this.editorView.dragging.slice),n==null))return this.setCursor(null);this.setCursor(n),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(r){(r.target==this.editorView.dom||!this.editorView.dom.contains(r.relatedTarget))&&this.setCursor(null)}}const Z1=it.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:null}},addProseMirrorPlugins(){return[J1(this.options)]}});class Ir extends dr{constructor(r){super(r,r)}map(r,o){let e=r.resolve(o.map(this.head));return Ir.valid(e)?new Ir(e):dr.near(e)}content(){return H.empty}eq(r){return r instanceof Ir&&r.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(r,o){if(typeof o.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ir(r.resolve(o.pos))}getBookmark(){return new kc(this.anchor)}static valid(r){let o=r.parent;if(o.isTextblock||!Y1(r)||!X1(r))return!1;let e=o.type.spec.allowGapCursor;if(e!=null)return e;let a=o.contentMatchAt(r.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(r,o,e=!1){r:for(;;){if(!e&&Ir.valid(r))return r;let a=r.pos,i=null;for(let n=r.depth;;n--){let l=r.node(n);if(o>0?r.indexAfter(n)<l.childCount:r.index(n)>0){i=l.child(o>0?r.indexAfter(n):r.index(n)-1);break}else if(n==0)return null;a+=o;let s=r.doc.resolve(a);if(Ir.valid(s))return s}for(;;){let n=o>0?i.firstChild:i.lastChild;if(!n){if(i.isAtom&&!i.isText&&!or.isSelectable(i)){r=r.doc.resolve(a+i.nodeSize*o),e=!1;continue r}break}i=n,a+=o;let l=r.doc.resolve(a);if(Ir.valid(l))return l}return null}}}Ir.prototype.visible=!1;Ir.findFrom=Ir.findGapCursorFrom;dr.jsonID("gapcursor",Ir);class kc{constructor(r){this.pos=r}map(r){return new kc(r.map(this.pos))}resolve(r){let o=r.resolve(this.pos);return Ir.valid(o)?new Ir(o):dr.near(o)}}function Y1(t){for(let r=t.depth;r>=0;r--){let o=t.index(r),e=t.node(r);if(o==0){if(e.type.spec.isolating)return!0;continue}for(let a=e.child(o-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function X1(t){for(let r=t.depth;r>=0;r--){let o=t.indexAfter(r),e=t.node(r);if(o==e.childCount){if(e.type.spec.isolating)return!0;continue}for(let a=e.child(o);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function Q1(){return new ut({props:{decorations:ek,createSelectionBetween(t,r,o){return r.pos==o.pos&&Ir.valid(o)?new Ir(o):null},handleClick:tk,handleKeyDown:rk,handleDOMEvents:{beforeinput:ok}}})}const rk=dm({ArrowLeft:ki("horiz",-1),ArrowRight:ki("horiz",1),ArrowUp:ki("vert",-1),ArrowDown:ki("vert",1)});function ki(t,r){const o=t=="vert"?r>0?"down":"up":r>0?"right":"left";return function(e,a,i){let n=e.selection,l=r>0?n.$to:n.$from,s=n.empty;if(n instanceof gr){if(!i.endOfTextblock(o)||l.depth==0)return!1;s=!1,l=e.doc.resolve(r>0?l.after():l.before())}let c=Ir.findGapCursorFrom(l,r,s);return c?(a&&a(e.tr.setSelection(new Ir(c))),!0):!1}}function tk(t,r,o){if(!t||!t.editable)return!1;let e=t.state.doc.resolve(r);if(!Ir.valid(e))return!1;let a=t.posAtCoords({left:o.clientX,top:o.clientY});return a&&a.inside>-1&&or.isSelectable(t.state.doc.nodeAt(a.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ir(e))),!0)}function ok(t,r){if(r.inputType!="insertCompositionText"||!(t.state.selection instanceof Ir))return!1;let{$from:o}=t.state.selection,e=o.parent.contentMatchAt(o.index()).findWrapping(t.state.schema.nodes.text);if(!e)return!1;let a=A.empty;for(let n=e.length-1;n>=0;n--)a=A.from(e[n].createAndFill(null,a));let i=t.state.tr.replace(o.pos,o.pos,new H(a,0,0));return i.setSelection(gr.near(i.doc.resolve(o.pos+1))),t.dispatch(i),!1}function ek(t){if(!(t.selection instanceof Ir))return null;let r=document.createElement("div");return r.className="ProseMirror-gapcursor",Ur.create(t.doc,[Dt.widget(t.selection.head,r,{key:"gapcursor"})])}const ak=it.create({name:"gapCursor",addProseMirrorPlugins(){return[Q1()]},extendNodeSchema(t){var r;const o={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(r=mr(q(t,"allowGapCursor",o)))!==null&&r!==void 0?r:null}}}),ik=wt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",gt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:r,state:o,editor:e})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:a,storedMarks:i}=o;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:n}=this.options,{splittableMarks:l}=e.extensionManager,s=i||a.$to.parentOffset&&a.$from.marks();return r().insertContent({type:this.name}).command(({tr:c,dispatch:d})=>{if(d&&s&&n){const p=s.filter(g=>l.includes(g.type.name));c.ensureMarks(p)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),nk=wt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:r}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,gt(this.options.HTMLAttributes,r),0]},addCommands(){return{setHeading:t=>({commands:r})=>this.options.levels.includes(t.level)?r.setNode(this.name,t):!1,toggleHeading:t=>({commands:r})=>this.options.levels.includes(t.level)?r.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,r)=>lr(y({},t),{[`Mod-Alt-${r}`]:()=>this.editor.commands.toggleHeading({level:r})}),{})},addInputRules(){return this.options.levels.map(t=>$s({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var Qi=200,Zr=function(){};Zr.prototype.append=function(r){return r.length?(r=Zr.from(r),!this.length&&r||r.length<Qi&&this.leafAppend(r)||this.length<Qi&&r.leafPrepend(this)||this.appendInner(r)):this};Zr.prototype.prepend=function(r){return r.length?Zr.from(r).append(this):this};Zr.prototype.appendInner=function(r){return new lk(this,r)};Zr.prototype.slice=function(r,o){return r===void 0&&(r=0),o===void 0&&(o=this.length),r>=o?Zr.empty:this.sliceInner(Math.max(0,r),Math.min(this.length,o))};Zr.prototype.get=function(r){if(!(r<0||r>=this.length))return this.getInner(r)};Zr.prototype.forEach=function(r,o,e){o===void 0&&(o=0),e===void 0&&(e=this.length),o<=e?this.forEachInner(r,o,e,0):this.forEachInvertedInner(r,o,e,0)};Zr.prototype.map=function(r,o,e){o===void 0&&(o=0),e===void 0&&(e=this.length);var a=[];return this.forEach(function(i,n){return a.push(r(i,n))},o,e),a};Zr.from=function(r){return r instanceof Zr?r:r&&r.length?new _m(r):Zr.empty};var _m=function(t){function r(e){t.call(this),this.values=e}t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r;var o={length:{configurable:!0},depth:{configurable:!0}};return r.prototype.flatten=function(){return this.values},r.prototype.sliceInner=function(a,i){return a==0&&i==this.length?this:new r(this.values.slice(a,i))},r.prototype.getInner=function(a){return this.values[a]},r.prototype.forEachInner=function(a,i,n,l){for(var s=i;s<n;s++)if(a(this.values[s],l+s)===!1)return!1},r.prototype.forEachInvertedInner=function(a,i,n,l){for(var s=i-1;s>=n;s--)if(a(this.values[s],l+s)===!1)return!1},r.prototype.leafAppend=function(a){if(this.length+a.length<=Qi)return new r(this.values.concat(a.flatten()))},r.prototype.leafPrepend=function(a){if(this.length+a.length<=Qi)return new r(a.flatten().concat(this.values))},o.length.get=function(){return this.values.length},o.depth.get=function(){return 0},Object.defineProperties(r.prototype,o),r}(Zr);Zr.empty=new _m([]);var lk=function(t){function r(o,e){t.call(this),this.left=o,this.right=e,this.length=o.length+e.length,this.depth=Math.max(o.depth,e.depth)+1}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},r.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},r.prototype.forEachInner=function(e,a,i,n){var l=this.left.length;if(a<l&&this.left.forEachInner(e,a,Math.min(i,l),n)===!1||i>l&&this.right.forEachInner(e,Math.max(a-l,0),Math.min(this.length,i)-l,n+l)===!1)return!1},r.prototype.forEachInvertedInner=function(e,a,i,n){var l=this.left.length;if(a>l&&this.right.forEachInvertedInner(e,a-l,Math.max(i,l)-l,n+l)===!1||i<l&&this.left.forEachInvertedInner(e,Math.min(a,l),i,n)===!1)return!1},r.prototype.sliceInner=function(e,a){if(e==0&&a==this.length)return this;var i=this.left.length;return a<=i?this.left.slice(e,a):e>=i?this.right.slice(e-i,a-i):this.left.slice(e,i).append(this.right.slice(0,a-i))},r.prototype.leafAppend=function(e){var a=this.right.leafAppend(e);if(a)return new r(this.left,a)},r.prototype.leafPrepend=function(e){var a=this.left.leafPrepend(e);if(a)return new r(a,this.right)},r.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new r(this.left,new r(this.right,e)):new r(this,e)},r}(Zr),zm=Zr;const sk=500;class Kt{constructor(r,o){this.items=r,this.eventCount=o}popEvent(r,o){if(this.eventCount==0)return null;let e=this.items.length;for(;;e--)if(this.items.get(e-1).selection){--e;break}let a,i;o&&(a=this.remapping(e,this.items.length),i=a.maps.length);let n=r.tr,l,s,c=[],d=[];return this.items.forEach((p,g)=>{if(!p.step){a||(a=this.remapping(e,g+1),i=a.maps.length),i--,d.push(p);return}if(a){d.push(new to(p.map));let u=p.step.map(a.slice(i)),m;u&&n.maybeStep(u).doc&&(m=n.mapping.maps[n.mapping.maps.length-1],c.push(new to(m,void 0,void 0,c.length+d.length))),i--,m&&a.appendMap(m,i)}else n.maybeStep(p.step);if(p.selection)return l=a?p.selection.map(a.slice(i)):p.selection,s=new Kt(this.items.slice(0,e).append(d.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:s,transform:n,selection:l}}addTransform(r,o,e,a){let i=[],n=this.eventCount,l=this.items,s=!a&&l.length?l.get(l.length-1):null;for(let d=0;d<r.steps.length;d++){let p=r.steps[d].invert(r.docs[d]),g=new to(r.mapping.maps[d],p,o),u;(u=s&&s.merge(g))&&(g=u,d?i.pop():l=l.slice(0,l.length-1)),i.push(g),o&&(n++,o=void 0),a||(s=g)}let c=n-e.depth;return c>dk&&(l=ck(l,c),n-=c),new Kt(l.append(i),n)}remapping(r,o){let e=new Ke;return this.items.forEach((a,i)=>{let n=a.mirrorOffset!=null&&i-a.mirrorOffset>=r?e.maps.length-a.mirrorOffset:void 0;e.appendMap(a.map,n)},r,o),e}addMaps(r){return this.eventCount==0?this:new Kt(this.items.append(r.map(o=>new to(o))),this.eventCount)}rebased(r,o){if(!this.eventCount)return this;let e=[],a=Math.max(0,this.items.length-o),i=r.mapping,n=r.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},a);let s=o;this.items.forEach(g=>{let u=i.getMirror(--s);if(u==null)return;n=Math.min(n,u);let m=i.maps[u];if(g.step){let h=r.steps[u].invert(r.docs[u]),b=g.selection&&g.selection.map(i.slice(s+1,u));b&&l++,e.push(new to(m,h,b))}else e.push(new to(m))},a);let c=[];for(let g=o;g<n;g++)c.push(new to(i.maps[g]));let d=this.items.slice(0,a).append(c).append(e),p=new Kt(d,l);return p.emptyItemCount()>sk&&(p=p.compress(this.items.length-e.length)),p}emptyItemCount(){let r=0;return this.items.forEach(o=>{o.step||r++}),r}compress(r=this.items.length){let o=this.remapping(0,r),e=o.maps.length,a=[],i=0;return this.items.forEach((n,l)=>{if(l>=r)a.push(n),n.selection&&i++;else if(n.step){let s=n.step.map(o.slice(e)),c=s&&s.getMap();if(e--,c&&o.appendMap(c,e),s){let d=n.selection&&n.selection.map(o.slice(e));d&&i++;let p=new to(c.invert(),s,d),g,u=a.length-1;(g=a.length&&a[u].merge(p))?a[u]=g:a.push(p)}}else n.map&&e--},this.items.length,0),new Kt(zm.from(a.reverse()),i)}}Kt.empty=new Kt(zm.empty,0);function ck(t,r){let o;return t.forEach((e,a)=>{if(e.selection&&r--==0)return o=a,!1}),t.slice(o)}class to{constructor(r,o,e,a){this.map=r,this.step=o,this.selection=e,this.mirrorOffset=a}merge(r){if(this.step&&r.step&&!r.selection){let o=r.step.merge(this.step);if(o)return new to(o.getMap().invert(),o,this.selection)}}}class Ro{constructor(r,o,e,a){this.done=r,this.undone=o,this.prevRanges=e,this.prevTime=a}}const dk=20;function pk(t,r,o,e){let a=o.getMeta(qo),i;if(a)return a.historyState;o.getMeta(uk)&&(t=new Ro(t.done,t.undone,null,0));let n=o.getMeta("appendedTransaction");if(o.steps.length==0)return t;if(n&&n.getMeta(qo))return n.getMeta(qo).redo?new Ro(t.done.addTransform(o,void 0,e,Ei(r)),t.undone,_p(o.mapping.maps[o.steps.length-1]),t.prevTime):new Ro(t.done,t.undone.addTransform(o,void 0,e,Ei(r)),null,t.prevTime);if(o.getMeta("addToHistory")!==!1&&!(n&&n.getMeta("addToHistory")===!1)){let l=t.prevTime==0||!n&&(t.prevTime<(o.time||0)-e.newGroupDelay||!gk(o,t.prevRanges)),s=n?sl(t.prevRanges,o.mapping):_p(o.mapping.maps[o.steps.length-1]);return new Ro(t.done.addTransform(o,l?r.selection.getBookmark():void 0,e,Ei(r)),Kt.empty,s,o.time)}else return(i=o.getMeta("rebased"))?new Ro(t.done.rebased(o,i),t.undone.rebased(o,i),sl(t.prevRanges,o.mapping),t.prevTime):new Ro(t.done.addMaps(o.mapping.maps),t.undone.addMaps(o.mapping.maps),sl(t.prevRanges,o.mapping),t.prevTime)}function gk(t,r){if(!r)return!1;if(!t.docChanged)return!0;let o=!1;return t.mapping.maps[0].forEach((e,a)=>{for(let i=0;i<r.length;i+=2)e<=r[i+1]&&a>=r[i]&&(o=!0)}),o}function _p(t){let r=[];return t.forEach((o,e,a,i)=>r.push(a,i)),r}function sl(t,r){if(!t)return null;let o=[];for(let e=0;e<t.length;e+=2){let a=r.map(t[e],1),i=r.map(t[e+1],-1);a<=i&&o.push(a,i)}return o}function Sm(t,r,o,e){let a=Ei(r),i=qo.get(r).spec.config,n=(e?t.undone:t.done).popEvent(r,a);if(!n)return;let l=n.selection.resolve(n.transform.doc),s=(e?t.done:t.undone).addTransform(n.transform,r.selection.getBookmark(),i,a),c=new Ro(e?s:n.remaining,e?n.remaining:s,null,0);o(n.transform.setSelection(l).setMeta(qo,{redo:e,historyState:c}).scrollIntoView())}let cl=!1,zp=null;function Ei(t){let r=t.plugins;if(zp!=r){cl=!1,zp=r;for(let o=0;o<r.length;o++)if(r[o].spec.historyPreserveItems){cl=!0;break}}return cl}const qo=new bo("history"),uk=new bo("closeHistory");function mk(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ut({key:qo,state:{init(){return new Ro(Kt.empty,Kt.empty,null,0)},apply(r,o,e){return pk(o,e,r,t)}},config:t,props:{handleDOMEvents:{beforeinput(r,o){let e=o.inputType,a=e=="historyUndo"?$m:e=="historyRedo"?Cm:null;return a?(o.preventDefault(),a(r.state,r.dispatch)):!1}}}})}const $m=(t,r)=>{let o=qo.getState(t);return!o||o.done.eventCount==0?!1:(r&&Sm(o,t,r,!1),!0)},Cm=(t,r)=>{let o=qo.getState(t);return!o||o.undone.eventCount==0?!1:(r&&Sm(o,t,r,!0),!0)},hk=it.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:r})=>$m(t,r),redo:()=>({state:t,dispatch:r})=>Cm(t,r)}},addProseMirrorPlugins(){return[mk(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),fk=wt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",gt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:r,dispatch:o})=>{var e;if(o){const{$to:a}=r.selection,i=a.end();if(a.nodeAfter)r.setSelection(gr.create(r.doc,a.pos));else{const n=(e=a.parent.type.contentMatch.defaultType)===null||e===void 0?void 0:e.create();n&&(r.insert(i,n),r.setSelection(gr.create(r.doc,i)))}r.scrollIntoView()}return!0}).run()}},addInputRules(){return[T1({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),vk=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,bk=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,xk=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,yk=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,wk=Ce.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ra({find:vk,type:this.type}),ra({find:xk,type:this.type})]},addPasteRules(){return[ta({find:bk,type:this.type}),ta({find:yk,type:this.type})]}}),kk=wt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",gt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),_k=/^(\d+)\.\s$/,zk=wt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const e=t,{start:r}=e,o=gi(e,["start"]);return r===1?["ol",gt(this.options.HTMLAttributes,o),0]:["ol",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[wc({find:_k,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,r)=>r.childCount+r.attrs.start===+t[1]})]}}),Sk=wt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),$k=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,Ck=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,Ok=Ce.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",gt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[ra({find:$k,type:this.type})]},addPasteRules(){return[ta({find:Ck,type:this.type})]}}),Mk=wt.create({name:"text",group:"inline"}),Tk=it.create({name:"starterKit",addExtensions(){var t,r,o,e,a,i,n,l,s,c,d,p,g,u,m,h,b,w;const T=[];return this.options.blockquote!==!1&&T.push(A1.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&T.push(R1.configure((r=this.options)===null||r===void 0?void 0:r.bold)),this.options.bulletList!==!1&&T.push(F1.configure((o=this.options)===null||o===void 0?void 0:o.bulletList)),this.options.code!==!1&&T.push(H1.configure((e=this.options)===null||e===void 0?void 0:e.code)),this.options.codeBlock!==!1&&T.push(q1.configure((a=this.options)===null||a===void 0?void 0:a.codeBlock)),this.options.document!==!1&&T.push(U1.configure((i=this.options)===null||i===void 0?void 0:i.document)),this.options.dropcursor!==!1&&T.push(Z1.configure((n=this.options)===null||n===void 0?void 0:n.dropcursor)),this.options.gapcursor!==!1&&T.push(ak.configure((l=this.options)===null||l===void 0?void 0:l.gapcursor)),this.options.hardBreak!==!1&&T.push(ik.configure((s=this.options)===null||s===void 0?void 0:s.hardBreak)),this.options.heading!==!1&&T.push(nk.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&T.push(hk.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&T.push(fk.configure((p=this.options)===null||p===void 0?void 0:p.horizontalRule)),this.options.italic!==!1&&T.push(wk.configure((g=this.options)===null||g===void 0?void 0:g.italic)),this.options.listItem!==!1&&T.push(kk.configure((u=this.options)===null||u===void 0?void 0:u.listItem)),this.options.orderedList!==!1&&T.push(zk.configure((m=this.options)===null||m===void 0?void 0:m.orderedList)),this.options.paragraph!==!1&&T.push(Sk.configure((h=this.options)===null||h===void 0?void 0:h.paragraph)),this.options.strike!==!1&&T.push(Ok.configure((b=this.options)===null||b===void 0?void 0:b.strike)),this.options.text!==!1&&T.push(Mk.configure((w=this.options)===null||w===void 0?void 0:w.text)),T}});var vt="top",Lt="bottom",Ft="right",bt="left",_c="auto",ni=[vt,Lt,Ft,bt],oa="start",Qa="end",Ek="clippingParents",Om="viewport",ya="popper",Ik="reference",Sp=ni.reduce(function(t,r){return t.concat([r+"-"+oa,r+"-"+Qa])},[]),Mm=[].concat(ni,[_c]).reduce(function(t,r){return t.concat([r,r+"-"+oa,r+"-"+Qa])},[]),Ak="beforeRead",Nk="read",Dk="afterRead",Bk="beforeMain",Pk="main",Rk="afterMain",Lk="beforeWrite",Fk="write",jk="afterWrite",Vk=[Ak,Nk,Dk,Bk,Pk,Rk,Lk,Fk,jk];function ho(t){return t?(t.nodeName||"").toLowerCase():null}function Yt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var r=t.ownerDocument;return r&&r.defaultView||window}return t}function ea(t){var r=Yt(t).Element;return t instanceof r||t instanceof Element}function Rt(t){var r=Yt(t).HTMLElement;return t instanceof r||t instanceof HTMLElement}function Tm(t){if(typeof ShadowRoot=="undefined")return!1;var r=Yt(t).ShadowRoot;return t instanceof r||t instanceof ShadowRoot}function Hk(t){var r=t.state;Object.keys(r.elements).forEach(function(o){var e=r.styles[o]||{},a=r.attributes[o]||{},i=r.elements[o];!Rt(i)||!ho(i)||(Object.assign(i.style,e),Object.keys(a).forEach(function(n){var l=a[n];l===!1?i.removeAttribute(n):i.setAttribute(n,l===!0?"":l)}))})}function Wk(t){var r=t.state,o={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,o.popper),r.styles=o,r.elements.arrow&&Object.assign(r.elements.arrow.style,o.arrow),function(){Object.keys(r.elements).forEach(function(e){var a=r.elements[e],i=r.attributes[e]||{},n=Object.keys(r.styles.hasOwnProperty(e)?r.styles[e]:o[e]),l=n.reduce(function(s,c){return s[c]="",s},{});!Rt(a)||!ho(a)||(Object.assign(a.style,l),Object.keys(i).forEach(function(s){a.removeAttribute(s)}))})}}var Em={name:"applyStyles",enabled:!0,phase:"write",fn:Hk,effect:Wk,requires:["computeStyles"]};function po(t){return t.split("-")[0]}var ke=Math.max,rn=Math.min,aa=Math.round;function ia(t,r){r===void 0&&(r=!1);var o=t.getBoundingClientRect(),e=1,a=1;if(Rt(t)&&r){var i=t.offsetHeight,n=t.offsetWidth;n>0&&(e=aa(o.width)/n||1),i>0&&(a=aa(o.height)/i||1)}return{width:o.width/e,height:o.height/a,top:o.top/a,right:o.right/e,bottom:o.bottom/a,left:o.left/e,x:o.left/e,y:o.top/a}}function zc(t){var r=ia(t),o=t.offsetWidth,e=t.offsetHeight;return Math.abs(r.width-o)<=1&&(o=r.width),Math.abs(r.height-e)<=1&&(e=r.height),{x:t.offsetLeft,y:t.offsetTop,width:o,height:e}}function Im(t,r){var o=r.getRootNode&&r.getRootNode();if(t.contains(r))return!0;if(o&&Tm(o)){var e=r;do{if(e&&t.isSameNode(e))return!0;e=e.parentNode||e.host}while(e)}return!1}function Co(t){return Yt(t).getComputedStyle(t)}function Kk(t){return["table","td","th"].indexOf(ho(t))>=0}function oe(t){return((ea(t)?t.ownerDocument:t.document)||window.document).documentElement}function On(t){return ho(t)==="html"?t:t.assignedSlot||t.parentNode||(Tm(t)?t.host:null)||oe(t)}function $p(t){return!Rt(t)||Co(t).position==="fixed"?null:t.offsetParent}function qk(t){var r=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,o=navigator.userAgent.indexOf("Trident")!==-1;if(o&&Rt(t)){var e=Co(t);if(e.position==="fixed")return null}for(var a=On(t);Rt(a)&&["html","body"].indexOf(ho(a))<0;){var i=Co(a);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||r&&i.willChange==="filter"||r&&i.filter&&i.filter!=="none")return a;a=a.parentNode}return null}function li(t){for(var r=Yt(t),o=$p(t);o&&Kk(o)&&Co(o).position==="static";)o=$p(o);return o&&(ho(o)==="html"||ho(o)==="body"&&Co(o).position==="static")?r:o||qk(t)||r}function Sc(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ra(t,r,o){return ke(t,rn(r,o))}function Uk(t,r,o){var e=Ra(t,r,o);return e>o?o:e}function Am(){return{top:0,right:0,bottom:0,left:0}}function Nm(t){return Object.assign({},Am(),t)}function Dm(t,r){return r.reduce(function(o,e){return o[e]=t,o},{})}var Jk=function(r,o){return r=typeof r=="function"?r(Object.assign({},o.rects,{placement:o.placement})):r,Nm(typeof r!="number"?r:Dm(r,ni))};function Gk(t){var r,o=t.state,e=t.name,a=t.options,i=o.elements.arrow,n=o.modifiersData.popperOffsets,l=po(o.placement),s=Sc(l),c=[bt,Ft].indexOf(l)>=0,d=c?"height":"width";if(!(!i||!n)){var p=Jk(a.padding,o),g=zc(i),u=s==="y"?vt:bt,m=s==="y"?Lt:Ft,h=o.rects.reference[d]+o.rects.reference[s]-n[s]-o.rects.popper[d],b=n[s]-o.rects.reference[s],w=li(i),T=w?s==="y"?w.clientHeight||0:w.clientWidth||0:0,F=h/2-b/2,v=p[u],j=T-g[d]-p[m],B=T/2-g[d]/2+F,Y=Ra(v,B,j),O=s;o.modifiersData[e]=(r={},r[O]=Y,r.centerOffset=Y-B,r)}}function Zk(t){var r=t.state,o=t.options,e=o.element,a=e===void 0?"[data-popper-arrow]":e;a!=null&&(typeof a=="string"&&(a=r.elements.popper.querySelector(a),!a)||!Im(r.elements.popper,a)||(r.elements.arrow=a))}var Yk={name:"arrow",enabled:!0,phase:"main",fn:Gk,effect:Zk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function na(t){return t.split("-")[1]}var Xk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Qk(t){var r=t.x,o=t.y,e=window,a=e.devicePixelRatio||1;return{x:aa(r*a)/a||0,y:aa(o*a)/a||0}}function Cp(t){var r,o=t.popper,e=t.popperRect,a=t.placement,i=t.variation,n=t.offsets,l=t.position,s=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,p=t.isFixed,g=n.x,u=g===void 0?0:g,m=n.y,h=m===void 0?0:m,b=typeof d=="function"?d({x:u,y:h}):{x:u,y:h};u=b.x,h=b.y;var w=n.hasOwnProperty("x"),T=n.hasOwnProperty("y"),F=bt,v=vt,j=window;if(c){var B=li(o),Y="clientHeight",O="clientWidth";if(B===Yt(o)&&(B=oe(o),Co(B).position!=="static"&&l==="absolute"&&(Y="scrollHeight",O="scrollWidth")),B=B,a===vt||(a===bt||a===Ft)&&i===Qa){v=Lt;var G=p&&j.visualViewport?j.visualViewport.height:B[Y];h-=G-e.height,h*=s?1:-1}if(a===bt||(a===vt||a===Lt)&&i===Qa){F=Ft;var rr=p&&j.visualViewport?j.visualViewport.width:B[O];u-=rr-e.width,u*=s?1:-1}}var sr=Object.assign({position:l},c&&Xk),P=d===!0?Qk({x:u,y:h}):{x:u,y:h};if(u=P.x,h=P.y,s){var nr;return Object.assign({},sr,(nr={},nr[v]=T?"0":"",nr[F]=w?"0":"",nr.transform=(j.devicePixelRatio||1)<=1?"translate("+u+"px, "+h+"px)":"translate3d("+u+"px, "+h+"px, 0)",nr))}return Object.assign({},sr,(r={},r[v]=T?h+"px":"",r[F]=w?u+"px":"",r.transform="",r))}function r_(t){var r=t.state,o=t.options,e=o.gpuAcceleration,a=e===void 0?!0:e,i=o.adaptive,n=i===void 0?!0:i,l=o.roundOffsets,s=l===void 0?!0:l,c={placement:po(r.placement),variation:na(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:a,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,Cp(Object.assign({},c,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:n,roundOffsets:s})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,Cp(Object.assign({},c,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}var t_={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:r_,data:{}},_i={passive:!0};function o_(t){var r=t.state,o=t.instance,e=t.options,a=e.scroll,i=a===void 0?!0:a,n=e.resize,l=n===void 0?!0:n,s=Yt(r.elements.popper),c=[].concat(r.scrollParents.reference,r.scrollParents.popper);return i&&c.forEach(function(d){d.addEventListener("scroll",o.update,_i)}),l&&s.addEventListener("resize",o.update,_i),function(){i&&c.forEach(function(d){d.removeEventListener("scroll",o.update,_i)}),l&&s.removeEventListener("resize",o.update,_i)}}var e_={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:o_,data:{}},a_={left:"right",right:"left",bottom:"top",top:"bottom"};function Ii(t){return t.replace(/left|right|bottom|top/g,function(r){return a_[r]})}var i_={start:"end",end:"start"};function Op(t){return t.replace(/start|end/g,function(r){return i_[r]})}function $c(t){var r=Yt(t),o=r.pageXOffset,e=r.pageYOffset;return{scrollLeft:o,scrollTop:e}}function Cc(t){return ia(oe(t)).left+$c(t).scrollLeft}function n_(t){var r=Yt(t),o=oe(t),e=r.visualViewport,a=o.clientWidth,i=o.clientHeight,n=0,l=0;return e&&(a=e.width,i=e.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(n=e.offsetLeft,l=e.offsetTop)),{width:a,height:i,x:n+Cc(t),y:l}}function l_(t){var r,o=oe(t),e=$c(t),a=(r=t.ownerDocument)==null?void 0:r.body,i=ke(o.scrollWidth,o.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),n=ke(o.scrollHeight,o.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-e.scrollLeft+Cc(t),s=-e.scrollTop;return Co(a||o).direction==="rtl"&&(l+=ke(o.clientWidth,a?a.clientWidth:0)-i),{width:i,height:n,x:l,y:s}}function Oc(t){var r=Co(t),o=r.overflow,e=r.overflowX,a=r.overflowY;return/auto|scroll|overlay|hidden/.test(o+a+e)}function Bm(t){return["html","body","#document"].indexOf(ho(t))>=0?t.ownerDocument.body:Rt(t)&&Oc(t)?t:Bm(On(t))}function La(t,r){var o;r===void 0&&(r=[]);var e=Bm(t),a=e===((o=t.ownerDocument)==null?void 0:o.body),i=Yt(e),n=a?[i].concat(i.visualViewport||[],Oc(e)?e:[]):e,l=r.concat(n);return a?l:l.concat(La(On(n)))}function Cs(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function s_(t){var r=ia(t);return r.top=r.top+t.clientTop,r.left=r.left+t.clientLeft,r.bottom=r.top+t.clientHeight,r.right=r.left+t.clientWidth,r.width=t.clientWidth,r.height=t.clientHeight,r.x=r.left,r.y=r.top,r}function Mp(t,r){return r===Om?Cs(n_(t)):ea(r)?s_(r):Cs(l_(oe(t)))}function c_(t){var r=La(On(t)),o=["absolute","fixed"].indexOf(Co(t).position)>=0,e=o&&Rt(t)?li(t):t;return ea(e)?r.filter(function(a){return ea(a)&&Im(a,e)&&ho(a)!=="body"}):[]}function d_(t,r,o){var e=r==="clippingParents"?c_(t):[].concat(r),a=[].concat(e,[o]),i=a[0],n=a.reduce(function(l,s){var c=Mp(t,s);return l.top=ke(c.top,l.top),l.right=rn(c.right,l.right),l.bottom=rn(c.bottom,l.bottom),l.left=ke(c.left,l.left),l},Mp(t,i));return n.width=n.right-n.left,n.height=n.bottom-n.top,n.x=n.left,n.y=n.top,n}function Pm(t){var r=t.reference,o=t.element,e=t.placement,a=e?po(e):null,i=e?na(e):null,n=r.x+r.width/2-o.width/2,l=r.y+r.height/2-o.height/2,s;switch(a){case vt:s={x:n,y:r.y-o.height};break;case Lt:s={x:n,y:r.y+r.height};break;case Ft:s={x:r.x+r.width,y:l};break;case bt:s={x:r.x-o.width,y:l};break;default:s={x:r.x,y:r.y}}var c=a?Sc(a):null;if(c!=null){var d=c==="y"?"height":"width";switch(i){case oa:s[c]=s[c]-(r[d]/2-o[d]/2);break;case Qa:s[c]=s[c]+(r[d]/2-o[d]/2);break}}return s}function ri(t,r){r===void 0&&(r={});var o=r,e=o.placement,a=e===void 0?t.placement:e,i=o.boundary,n=i===void 0?Ek:i,l=o.rootBoundary,s=l===void 0?Om:l,c=o.elementContext,d=c===void 0?ya:c,p=o.altBoundary,g=p===void 0?!1:p,u=o.padding,m=u===void 0?0:u,h=Nm(typeof m!="number"?m:Dm(m,ni)),b=d===ya?Ik:ya,w=t.rects.popper,T=t.elements[g?b:d],F=d_(ea(T)?T:T.contextElement||oe(t.elements.popper),n,s),v=ia(t.elements.reference),j=Pm({reference:v,element:w,strategy:"absolute",placement:a}),B=Cs(Object.assign({},w,j)),Y=d===ya?B:v,O={top:F.top-Y.top+h.top,bottom:Y.bottom-F.bottom+h.bottom,left:F.left-Y.left+h.left,right:Y.right-F.right+h.right},G=t.modifiersData.offset;if(d===ya&&G){var rr=G[a];Object.keys(O).forEach(function(sr){var P=[Ft,Lt].indexOf(sr)>=0?1:-1,nr=[vt,Lt].indexOf(sr)>=0?"y":"x";O[sr]+=rr[nr]*P})}return O}function p_(t,r){r===void 0&&(r={});var o=r,e=o.placement,a=o.boundary,i=o.rootBoundary,n=o.padding,l=o.flipVariations,s=o.allowedAutoPlacements,c=s===void 0?Mm:s,d=na(e),p=d?l?Sp:Sp.filter(function(m){return na(m)===d}):ni,g=p.filter(function(m){return c.indexOf(m)>=0});g.length===0&&(g=p);var u=g.reduce(function(m,h){return m[h]=ri(t,{placement:h,boundary:a,rootBoundary:i,padding:n})[po(h)],m},{});return Object.keys(u).sort(function(m,h){return u[m]-u[h]})}function g_(t){if(po(t)===_c)return[];var r=Ii(t);return[Op(t),r,Op(r)]}function u_(t){var r=t.state,o=t.options,e=t.name;if(!r.modifiersData[e]._skip){for(var a=o.mainAxis,i=a===void 0?!0:a,n=o.altAxis,l=n===void 0?!0:n,s=o.fallbackPlacements,c=o.padding,d=o.boundary,p=o.rootBoundary,g=o.altBoundary,u=o.flipVariations,m=u===void 0?!0:u,h=o.allowedAutoPlacements,b=r.options.placement,w=po(b),T=w===b,F=s||(T||!m?[Ii(b)]:g_(b)),v=[b].concat(F).reduce(function(Et,_t){return Et.concat(po(_t)===_c?p_(r,{placement:_t,boundary:d,rootBoundary:p,padding:c,flipVariations:m,allowedAutoPlacements:h}):_t)},[]),j=r.rects.reference,B=r.rects.popper,Y=new Map,O=!0,G=v[0],rr=0;rr<v.length;rr++){var sr=v[rr],P=po(sr),nr=na(sr)===oa,Er=[vt,Lt].indexOf(P)>=0,Lr=Er?"width":"height",yr=ri(r,{placement:sr,boundary:d,rootBoundary:p,altBoundary:g,padding:c}),fr=Er?nr?Ft:bt:nr?Lt:vt;j[Lr]>B[Lr]&&(fr=Ii(fr));var cr=Ii(fr),Dr=[];if(i&&Dr.push(yr[P]<=0),l&&Dr.push(yr[fr]<=0,yr[cr]<=0),Dr.every(function(Et){return Et})){G=sr,O=!1;break}Y.set(sr,Dr)}if(O)for(var mt=m?3:1,kt=function(_t){var Vt=v.find(function(Qr){var ht=Y.get(Qr);if(ht)return ht.slice(0,_t).every(function(yo){return yo})});if(Vt)return G=Vt,"break"},Kr=mt;Kr>0;Kr--){var Xr=kt(Kr);if(Xr==="break")break}r.placement!==G&&(r.modifiersData[e]._skip=!0,r.placement=G,r.reset=!0)}}var m_={name:"flip",enabled:!0,phase:"main",fn:u_,requiresIfExists:["offset"],data:{_skip:!1}};function Tp(t,r,o){return o===void 0&&(o={x:0,y:0}),{top:t.top-r.height-o.y,right:t.right-r.width+o.x,bottom:t.bottom-r.height+o.y,left:t.left-r.width-o.x}}function Ep(t){return[vt,Ft,Lt,bt].some(function(r){return t[r]>=0})}function h_(t){var r=t.state,o=t.name,e=r.rects.reference,a=r.rects.popper,i=r.modifiersData.preventOverflow,n=ri(r,{elementContext:"reference"}),l=ri(r,{altBoundary:!0}),s=Tp(n,e),c=Tp(l,a,i),d=Ep(s),p=Ep(c);r.modifiersData[o]={referenceClippingOffsets:s,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}var f_={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:h_};function v_(t,r,o){var e=po(t),a=[bt,vt].indexOf(e)>=0?-1:1,i=typeof o=="function"?o(Object.assign({},r,{placement:t})):o,n=i[0],l=i[1];return n=n||0,l=(l||0)*a,[bt,Ft].indexOf(e)>=0?{x:l,y:n}:{x:n,y:l}}function b_(t){var r=t.state,o=t.options,e=t.name,a=o.offset,i=a===void 0?[0,0]:a,n=Mm.reduce(function(d,p){return d[p]=v_(p,r.rects,i),d},{}),l=n[r.placement],s=l.x,c=l.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=s,r.modifiersData.popperOffsets.y+=c),r.modifiersData[e]=n}var x_={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:b_};function y_(t){var r=t.state,o=t.name;r.modifiersData[o]=Pm({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}var w_={name:"popperOffsets",enabled:!0,phase:"read",fn:y_,data:{}};function k_(t){return t==="x"?"y":"x"}function __(t){var r=t.state,o=t.options,e=t.name,a=o.mainAxis,i=a===void 0?!0:a,n=o.altAxis,l=n===void 0?!1:n,s=o.boundary,c=o.rootBoundary,d=o.altBoundary,p=o.padding,g=o.tether,u=g===void 0?!0:g,m=o.tetherOffset,h=m===void 0?0:m,b=ri(r,{boundary:s,rootBoundary:c,padding:p,altBoundary:d}),w=po(r.placement),T=na(r.placement),F=!T,v=Sc(w),j=k_(v),B=r.modifiersData.popperOffsets,Y=r.rects.reference,O=r.rects.popper,G=typeof h=="function"?h(Object.assign({},r.rects,{placement:r.placement})):h,rr=typeof G=="number"?{mainAxis:G,altAxis:G}:Object.assign({mainAxis:0,altAxis:0},G),sr=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,P={x:0,y:0};if(!!B){if(i){var nr,Er=v==="y"?vt:bt,Lr=v==="y"?Lt:Ft,yr=v==="y"?"height":"width",fr=B[v],cr=fr+b[Er],Dr=fr-b[Lr],mt=u?-O[yr]/2:0,kt=T===oa?Y[yr]:O[yr],Kr=T===oa?-O[yr]:-Y[yr],Xr=r.elements.arrow,Et=u&&Xr?zc(Xr):{width:0,height:0},_t=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:Am(),Vt=_t[Er],Qr=_t[Lr],ht=Ra(0,Y[yr],Et[yr]),yo=F?Y[yr]/2-mt-ht-Vt-rr.mainAxis:kt-ht-Vt-rr.mainAxis,lt=F?-Y[yr]/2+mt+ht+Qr+rr.mainAxis:Kr+ht+Qr+rr.mainAxis,Xt=r.elements.arrow&&li(r.elements.arrow),Mo=Xt?v==="y"?Xt.clientTop||0:Xt.clientLeft||0:0,f=(nr=sr==null?void 0:sr[v])!=null?nr:0,x=fr+yo-f-Mo,k=fr+lt-f,C=Ra(u?rn(cr,x):cr,fr,u?ke(Dr,k):Dr);B[v]=C,P[v]=C-fr}if(l){var $,N=v==="x"?vt:bt,R=v==="x"?Lt:Ft,E=B[j],D=j==="y"?"height":"width",M=E+b[N],U=E-b[R],V=[vt,bt].indexOf(w)!==-1,Q=($=sr==null?void 0:sr[j])!=null?$:0,tr=V?M:E-Y[D]-O[D]-Q+rr.altAxis,vr=V?E+Y[D]+O[D]-Q-rr.altAxis:U,kr=u&&V?Uk(tr,E,vr):Ra(u?tr:M,E,u?vr:U);B[j]=kr,P[j]=kr-E}r.modifiersData[e]=P}}var z_={name:"preventOverflow",enabled:!0,phase:"main",fn:__,requiresIfExists:["offset"]};function S_(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function $_(t){return t===Yt(t)||!Rt(t)?$c(t):S_(t)}function C_(t){var r=t.getBoundingClientRect(),o=aa(r.width)/t.offsetWidth||1,e=aa(r.height)/t.offsetHeight||1;return o!==1||e!==1}function O_(t,r,o){o===void 0&&(o=!1);var e=Rt(r),a=Rt(r)&&C_(r),i=oe(r),n=ia(t,a),l={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(e||!e&&!o)&&((ho(r)!=="body"||Oc(i))&&(l=$_(r)),Rt(r)?(s=ia(r,!0),s.x+=r.clientLeft,s.y+=r.clientTop):i&&(s.x=Cc(i))),{x:n.left+l.scrollLeft-s.x,y:n.top+l.scrollTop-s.y,width:n.width,height:n.height}}function M_(t){var r=new Map,o=new Set,e=[];t.forEach(function(i){r.set(i.name,i)});function a(i){o.add(i.name);var n=[].concat(i.requires||[],i.requiresIfExists||[]);n.forEach(function(l){if(!o.has(l)){var s=r.get(l);s&&a(s)}}),e.push(i)}return t.forEach(function(i){o.has(i.name)||a(i)}),e}function T_(t){var r=M_(t);return Vk.reduce(function(o,e){return o.concat(r.filter(function(a){return a.phase===e}))},[])}function E_(t){var r;return function(){return r||(r=new Promise(function(o){Promise.resolve().then(function(){r=void 0,o(t())})})),r}}function I_(t){var r=t.reduce(function(o,e){var a=o[e.name];return o[e.name]=a?Object.assign({},a,e,{options:Object.assign({},a.options,e.options),data:Object.assign({},a.data,e.data)}):e,o},{});return Object.keys(r).map(function(o){return r[o]})}var Ip={placement:"bottom",modifiers:[],strategy:"absolute"};function Ap(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return!r.some(function(e){return!(e&&typeof e.getBoundingClientRect=="function")})}function A_(t){t===void 0&&(t={});var r=t,o=r.defaultModifiers,e=o===void 0?[]:o,a=r.defaultOptions,i=a===void 0?Ip:a;return function(l,s,c){c===void 0&&(c=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ip,i),modifiersData:{},elements:{reference:l,popper:s},attributes:{},styles:{}},p=[],g=!1,u={state:d,setOptions:function(w){var T=typeof w=="function"?w(d.options):w;h(),d.options=Object.assign({},i,d.options,T),d.scrollParents={reference:ea(l)?La(l):l.contextElement?La(l.contextElement):[],popper:La(s)};var F=T_(I_([].concat(e,d.options.modifiers)));return d.orderedModifiers=F.filter(function(v){return v.enabled}),m(),u.update()},forceUpdate:function(){if(!g){var w=d.elements,T=w.reference,F=w.popper;if(!!Ap(T,F)){d.rects={reference:O_(T,li(F),d.options.strategy==="fixed"),popper:zc(F)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(rr){return d.modifiersData[rr.name]=Object.assign({},rr.data)});for(var v=0;v<d.orderedModifiers.length;v++){if(d.reset===!0){d.reset=!1,v=-1;continue}var j=d.orderedModifiers[v],B=j.fn,Y=j.options,O=Y===void 0?{}:Y,G=j.name;typeof B=="function"&&(d=B({state:d,options:O,name:G,instance:u})||d)}}}},update:E_(function(){return new Promise(function(b){u.forceUpdate(),b(d)})}),destroy:function(){h(),g=!0}};if(!Ap(l,s))return u;u.setOptions(c).then(function(b){!g&&c.onFirstUpdate&&c.onFirstUpdate(b)});function m(){d.orderedModifiers.forEach(function(b){var w=b.name,T=b.options,F=T===void 0?{}:T,v=b.effect;if(typeof v=="function"){var j=v({state:d,name:w,instance:u,options:F}),B=function(){};p.push(j||B)}})}function h(){p.forEach(function(b){return b()}),p=[]}return u}}var N_=[e_,w_,t_,Em,x_,m_,z_,Yk,f_],Rm=A_({defaultModifiers:N_}),D_="tippy-box",Lm="tippy-content",B_="tippy-backdrop",Fm="tippy-arrow",jm="tippy-svg-arrow",ce={passive:!0,capture:!0},Vm=function(){return document.body};function dl(t,r,o){if(Array.isArray(t)){var e=t[r];return e==null?Array.isArray(o)?o[r]:o:e}return t}function Mc(t,r){var o={}.toString.call(t);return o.indexOf("[object")===0&&o.indexOf(r+"]")>-1}function Hm(t,r){return typeof t=="function"?t.apply(void 0,r):t}function Np(t,r){if(r===0)return t;var o;return function(e){clearTimeout(o),o=setTimeout(function(){t(e)},r)}}function P_(t){return t.split(/\s+/).filter(Boolean)}function Pe(t){return[].concat(t)}function Dp(t,r){t.indexOf(r)===-1&&t.push(r)}function R_(t){return t.filter(function(r,o){return t.indexOf(r)===o})}function L_(t){return t.split("-")[0]}function tn(t){return[].slice.call(t)}function Bp(t){return Object.keys(t).reduce(function(r,o){return t[o]!==void 0&&(r[o]=t[o]),r},{})}function Fa(){return document.createElement("div")}function Mn(t){return["Element","Fragment"].some(function(r){return Mc(t,r)})}function F_(t){return Mc(t,"NodeList")}function j_(t){return Mc(t,"MouseEvent")}function V_(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function H_(t){return Mn(t)?[t]:F_(t)?tn(t):Array.isArray(t)?t:tn(document.querySelectorAll(t))}function pl(t,r){t.forEach(function(o){o&&(o.style.transitionDuration=r+"ms")})}function Pp(t,r){t.forEach(function(o){o&&o.setAttribute("data-state",r)})}function W_(t){var r,o=Pe(t),e=o[0];return e!=null&&(r=e.ownerDocument)!=null&&r.body?e.ownerDocument:document}function K_(t,r){var o=r.clientX,e=r.clientY;return t.every(function(a){var i=a.popperRect,n=a.popperState,l=a.props,s=l.interactiveBorder,c=L_(n.placement),d=n.modifiersData.offset;if(!d)return!0;var p=c==="bottom"?d.top.y:0,g=c==="top"?d.bottom.y:0,u=c==="right"?d.left.x:0,m=c==="left"?d.right.x:0,h=i.top-e+p>s,b=e-i.bottom-g>s,w=i.left-o+u>s,T=o-i.right-m>s;return h||b||w||T})}function gl(t,r,o){var e=r+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(a){t[e](a,o)})}function Rp(t,r){for(var o=r;o;){var e;if(t.contains(o))return!0;o=o.getRootNode==null||(e=o.getRootNode())==null?void 0:e.host}return!1}var eo={isTouch:!1},Lp=0;function q_(){eo.isTouch||(eo.isTouch=!0,window.performance&&document.addEventListener("mousemove",Wm))}function Wm(){var t=performance.now();t-Lp<20&&(eo.isTouch=!1,document.removeEventListener("mousemove",Wm)),Lp=t}function U_(){var t=document.activeElement;if(V_(t)){var r=t._tippy;t.blur&&!r.state.isVisible&&t.blur()}}function J_(){document.addEventListener("touchstart",q_,ce),window.addEventListener("blur",U_)}var G_=typeof window!="undefined"&&typeof document!="undefined",Z_=G_?!!window.msCrypto:!1,Y_={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},X_={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Ut=Object.assign({appendTo:Vm,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Y_,X_),Q_=Object.keys(Ut),r5=function(r){var o=Object.keys(r);o.forEach(function(e){Ut[e]=r[e]})};function Km(t){var r=t.plugins||[],o=r.reduce(function(e,a){var i=a.name,n=a.defaultValue;if(i){var l;e[i]=t[i]!==void 0?t[i]:(l=Ut[i])!=null?l:n}return e},{});return Object.assign({},t,o)}function t5(t,r){var o=r?Object.keys(Km(Object.assign({},Ut,{plugins:r}))):Q_,e=o.reduce(function(a,i){var n=(t.getAttribute("data-tippy-"+i)||"").trim();if(!n)return a;if(i==="content")a[i]=n;else try{a[i]=JSON.parse(n)}catch{a[i]=n}return a},{});return e}function Fp(t,r){var o=Object.assign({},r,{content:Hm(r.content,[t])},r.ignoreAttributes?{}:t5(t,r.plugins));return o.aria=Object.assign({},Ut.aria,o.aria),o.aria={expanded:o.aria.expanded==="auto"?r.interactive:o.aria.expanded,content:o.aria.content==="auto"?r.interactive?null:"describedby":o.aria.content},o}var o5=function(){return"innerHTML"};function Os(t,r){t[o5()]=r}function jp(t){var r=Fa();return t===!0?r.className=Fm:(r.className=jm,Mn(t)?r.appendChild(t):Os(r,t)),r}function Vp(t,r){Mn(r.content)?(Os(t,""),t.appendChild(r.content)):typeof r.content!="function"&&(r.allowHTML?Os(t,r.content):t.textContent=r.content)}function Ms(t){var r=t.firstElementChild,o=tn(r.children);return{box:r,content:o.find(function(e){return e.classList.contains(Lm)}),arrow:o.find(function(e){return e.classList.contains(Fm)||e.classList.contains(jm)}),backdrop:o.find(function(e){return e.classList.contains(B_)})}}function qm(t){var r=Fa(),o=Fa();o.className=D_,o.setAttribute("data-state","hidden"),o.setAttribute("tabindex","-1");var e=Fa();e.className=Lm,e.setAttribute("data-state","hidden"),Vp(e,t.props),r.appendChild(o),o.appendChild(e),a(t.props,t.props);function a(i,n){var l=Ms(r),s=l.box,c=l.content,d=l.arrow;n.theme?s.setAttribute("data-theme",n.theme):s.removeAttribute("data-theme"),typeof n.animation=="string"?s.setAttribute("data-animation",n.animation):s.removeAttribute("data-animation"),n.inertia?s.setAttribute("data-inertia",""):s.removeAttribute("data-inertia"),s.style.maxWidth=typeof n.maxWidth=="number"?n.maxWidth+"px":n.maxWidth,n.role?s.setAttribute("role",n.role):s.removeAttribute("role"),(i.content!==n.content||i.allowHTML!==n.allowHTML)&&Vp(c,t.props),n.arrow?d?i.arrow!==n.arrow&&(s.removeChild(d),s.appendChild(jp(n.arrow))):s.appendChild(jp(n.arrow)):d&&s.removeChild(d)}return{popper:r,onUpdate:a}}qm.$$tippy=!0;var e5=1,zi=[],ul=[];function a5(t,r){var o=Fp(t,Object.assign({},Ut,Km(Bp(r)))),e,a,i,n=!1,l=!1,s=!1,c=!1,d,p,g,u=[],m=Np(x,o.interactiveDebounce),h,b=e5++,w=null,T=R_(o.plugins),F={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},v={id:b,reference:t,popper:Fa(),popperInstance:w,props:o,state:F,plugins:T,clearDelayTimeouts:tr,setProps:vr,setContent:kr,show:$r,hide:Or,hideWithInteractivity:zt,enable:V,disable:Q,unmount:To,destroy:si};if(!o.render)return v;var j=o.render(v),B=j.popper,Y=j.onUpdate;B.setAttribute("data-tippy-root",""),B.id="tippy-"+v.id,v.popper=B,t._tippy=v,B._tippy=v;var O=T.map(function(z){return z.fn(v)}),G=t.hasAttribute("aria-expanded");return Xt(),mt(),fr(),cr("onCreate",[v]),o.showOnCreate&&M(),B.addEventListener("mouseenter",function(){v.props.interactive&&v.state.isVisible&&v.clearDelayTimeouts()}),B.addEventListener("mouseleave",function(){v.props.interactive&&v.props.trigger.indexOf("mouseenter")>=0&&Er().addEventListener("mousemove",m)}),v;function rr(){var z=v.props.touch;return Array.isArray(z)?z:[z,0]}function sr(){return rr()[0]==="hold"}function P(){var z;return!!((z=v.props.render)!=null&&z.$$tippy)}function nr(){return h||t}function Er(){var z=nr().parentNode;return z?W_(z):document}function Lr(){return Ms(B)}function yr(z){return v.state.isMounted&&!v.state.isVisible||eo.isTouch||d&&d.type==="focus"?0:dl(v.props.delay,z?0:1,Ut.delay)}function fr(z){z===void 0&&(z=!1),B.style.pointerEvents=v.props.interactive&&!z?"":"none",B.style.zIndex=""+v.props.zIndex}function cr(z,K,Z){if(Z===void 0&&(Z=!0),O.forEach(function(xr){xr[z]&&xr[z].apply(xr,K)}),Z){var ur;(ur=v.props)[z].apply(ur,K)}}function Dr(){var z=v.props.aria;if(!!z.content){var K="aria-"+z.content,Z=B.id,ur=Pe(v.props.triggerTarget||t);ur.forEach(function(xr){var st=xr.getAttribute(K);if(v.state.isVisible)xr.setAttribute(K,st?st+" "+Z:Z);else{var It=st&&st.replace(Z,"").trim();It?xr.setAttribute(K,It):xr.removeAttribute(K)}})}}function mt(){if(!(G||!v.props.aria.expanded)){var z=Pe(v.props.triggerTarget||t);z.forEach(function(K){v.props.interactive?K.setAttribute("aria-expanded",v.state.isVisible&&K===nr()?"true":"false"):K.removeAttribute("aria-expanded")})}}function kt(){Er().removeEventListener("mousemove",m),zi=zi.filter(function(z){return z!==m})}function Kr(z){if(!(eo.isTouch&&(s||z.type==="mousedown"))){var K=z.composedPath&&z.composedPath()[0]||z.target;if(!(v.props.interactive&&Rp(B,K))){if(Pe(v.props.triggerTarget||t).some(function(Z){return Rp(Z,K)})){if(eo.isTouch||v.state.isVisible&&v.props.trigger.indexOf("click")>=0)return}else cr("onClickOutside",[v,z]);v.props.hideOnClick===!0&&(v.clearDelayTimeouts(),v.hide(),l=!0,setTimeout(function(){l=!1}),v.state.isMounted||Vt())}}}function Xr(){s=!0}function Et(){s=!1}function _t(){var z=Er();z.addEventListener("mousedown",Kr,!0),z.addEventListener("touchend",Kr,ce),z.addEventListener("touchstart",Et,ce),z.addEventListener("touchmove",Xr,ce)}function Vt(){var z=Er();z.removeEventListener("mousedown",Kr,!0),z.removeEventListener("touchend",Kr,ce),z.removeEventListener("touchstart",Et,ce),z.removeEventListener("touchmove",Xr,ce)}function Qr(z,K){yo(z,function(){!v.state.isVisible&&B.parentNode&&B.parentNode.contains(B)&&K()})}function ht(z,K){yo(z,K)}function yo(z,K){var Z=Lr().box;function ur(xr){xr.target===Z&&(gl(Z,"remove",ur),K())}if(z===0)return K();gl(Z,"remove",p),gl(Z,"add",ur),p=ur}function lt(z,K,Z){Z===void 0&&(Z=!1);var ur=Pe(v.props.triggerTarget||t);ur.forEach(function(xr){xr.addEventListener(z,K,Z),u.push({node:xr,eventType:z,handler:K,options:Z})})}function Xt(){sr()&&(lt("touchstart",f,{passive:!0}),lt("touchend",k,{passive:!0})),P_(v.props.trigger).forEach(function(z){if(z!=="manual")switch(lt(z,f),z){case"mouseenter":lt("mouseleave",k);break;case"focus":lt(Z_?"focusout":"blur",C);break;case"focusin":lt("focusout",C);break}})}function Mo(){u.forEach(function(z){var K=z.node,Z=z.eventType,ur=z.handler,xr=z.options;K.removeEventListener(Z,ur,xr)}),u=[]}function f(z){var K,Z=!1;if(!(!v.state.isEnabled||$(z)||l)){var ur=((K=d)==null?void 0:K.type)==="focus";d=z,h=z.currentTarget,mt(),!v.state.isVisible&&j_(z)&&zi.forEach(function(xr){return xr(z)}),z.type==="click"&&(v.props.trigger.indexOf("mouseenter")<0||n)&&v.props.hideOnClick!==!1&&v.state.isVisible?Z=!0:M(z),z.type==="click"&&(n=!Z),Z&&!ur&&U(z)}}function x(z){var K=z.target,Z=nr().contains(K)||B.contains(K);if(!(z.type==="mousemove"&&Z)){var ur=D().concat(B).map(function(xr){var st,It=xr._tippy,Te=(st=It.popperInstance)==null?void 0:st.state;return Te?{popperRect:xr.getBoundingClientRect(),popperState:Te,props:o}:null}).filter(Boolean);K_(ur,z)&&(kt(),U(z))}}function k(z){var K=$(z)||v.props.trigger.indexOf("click")>=0&&n;if(!K){if(v.props.interactive){v.hideWithInteractivity(z);return}U(z)}}function C(z){v.props.trigger.indexOf("focusin")<0&&z.target!==nr()||v.props.interactive&&z.relatedTarget&&B.contains(z.relatedTarget)||U(z)}function $(z){return eo.isTouch?sr()!==z.type.indexOf("touch")>=0:!1}function N(){R();var z=v.props,K=z.popperOptions,Z=z.placement,ur=z.offset,xr=z.getReferenceClientRect,st=z.moveTransition,It=P()?Ms(B).arrow:null,Te=xr?{getBoundingClientRect:xr,contextElement:xr.contextElement||nr()}:t,Pc={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ci){var Ee=ci.state;if(P()){var uh=Lr(),An=uh.box;["placement","reference-hidden","escaped"].forEach(function(di){di==="placement"?An.setAttribute("data-placement",Ee.placement):Ee.attributes.popper["data-popper-"+di]?An.setAttribute("data-"+di,""):An.removeAttribute("data-"+di)}),Ee.attributes.popper={}}}},ee=[{name:"offset",options:{offset:ur}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!st}},Pc];P()&&It&&ee.push({name:"arrow",options:{element:It,padding:3}}),ee.push.apply(ee,(K==null?void 0:K.modifiers)||[]),v.popperInstance=Rm(Te,B,Object.assign({},K,{placement:Z,onFirstUpdate:g,modifiers:ee}))}function R(){v.popperInstance&&(v.popperInstance.destroy(),v.popperInstance=null)}function E(){var z=v.props.appendTo,K,Z=nr();v.props.interactive&&z===Vm||z==="parent"?K=Z.parentNode:K=Hm(z,[Z]),K.contains(B)||K.appendChild(B),v.state.isMounted=!0,N()}function D(){return tn(B.querySelectorAll("[data-tippy-root]"))}function M(z){v.clearDelayTimeouts(),z&&cr("onTrigger",[v,z]),_t();var K=yr(!0),Z=rr(),ur=Z[0],xr=Z[1];eo.isTouch&&ur==="hold"&&xr&&(K=xr),K?e=setTimeout(function(){v.show()},K):v.show()}function U(z){if(v.clearDelayTimeouts(),cr("onUntrigger",[v,z]),!v.state.isVisible){Vt();return}if(!(v.props.trigger.indexOf("mouseenter")>=0&&v.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(z.type)>=0&&n)){var K=yr(!1);K?a=setTimeout(function(){v.state.isVisible&&v.hide()},K):i=requestAnimationFrame(function(){v.hide()})}}function V(){v.state.isEnabled=!0}function Q(){v.hide(),v.state.isEnabled=!1}function tr(){clearTimeout(e),clearTimeout(a),cancelAnimationFrame(i)}function vr(z){if(!v.state.isDestroyed){cr("onBeforeUpdate",[v,z]),Mo();var K=v.props,Z=Fp(t,Object.assign({},K,Bp(z),{ignoreAttributes:!0}));v.props=Z,Xt(),K.interactiveDebounce!==Z.interactiveDebounce&&(kt(),m=Np(x,Z.interactiveDebounce)),K.triggerTarget&&!Z.triggerTarget?Pe(K.triggerTarget).forEach(function(ur){ur.removeAttribute("aria-expanded")}):Z.triggerTarget&&t.removeAttribute("aria-expanded"),mt(),fr(),Y&&Y(K,Z),v.popperInstance&&(N(),D().forEach(function(ur){requestAnimationFrame(ur._tippy.popperInstance.forceUpdate)})),cr("onAfterUpdate",[v,z])}}function kr(z){v.setProps({content:z})}function $r(){var z=v.state.isVisible,K=v.state.isDestroyed,Z=!v.state.isEnabled,ur=eo.isTouch&&!v.props.touch,xr=dl(v.props.duration,0,Ut.duration);if(!(z||K||Z||ur)&&!nr().hasAttribute("disabled")&&(cr("onShow",[v],!1),v.props.onShow(v)!==!1)){if(v.state.isVisible=!0,P()&&(B.style.visibility="visible"),fr(),_t(),v.state.isMounted||(B.style.transition="none"),P()){var st=Lr(),It=st.box,Te=st.content;pl([It,Te],0)}g=function(){var ee;if(!(!v.state.isVisible||c)){if(c=!0,B.offsetHeight,B.style.transition=v.props.moveTransition,P()&&v.props.animation){var In=Lr(),ci=In.box,Ee=In.content;pl([ci,Ee],xr),Pp([ci,Ee],"visible")}Dr(),mt(),Dp(ul,v),(ee=v.popperInstance)==null||ee.forceUpdate(),cr("onMount",[v]),v.props.animation&&P()&&ht(xr,function(){v.state.isShown=!0,cr("onShown",[v])})}},E()}}function Or(){var z=!v.state.isVisible,K=v.state.isDestroyed,Z=!v.state.isEnabled,ur=dl(v.props.duration,1,Ut.duration);if(!(z||K||Z)&&(cr("onHide",[v],!1),v.props.onHide(v)!==!1)){if(v.state.isVisible=!1,v.state.isShown=!1,c=!1,n=!1,P()&&(B.style.visibility="hidden"),kt(),Vt(),fr(!0),P()){var xr=Lr(),st=xr.box,It=xr.content;v.props.animation&&(pl([st,It],ur),Pp([st,It],"hidden"))}Dr(),mt(),v.props.animation?P()&&Qr(ur,v.unmount):v.unmount()}}function zt(z){Er().addEventListener("mousemove",m),Dp(zi,m),m(z)}function To(){v.state.isVisible&&v.hide(),v.state.isMounted&&(R(),D().forEach(function(z){z._tippy.unmount()}),B.parentNode&&B.parentNode.removeChild(B),ul=ul.filter(function(z){return z!==v}),v.state.isMounted=!1,cr("onHidden",[v]))}function si(){v.state.isDestroyed||(v.clearDelayTimeouts(),v.unmount(),Mo(),delete t._tippy,v.state.isDestroyed=!0,cr("onDestroy",[v]))}}function ma(t,r){r===void 0&&(r={});var o=Ut.plugins.concat(r.plugins||[]);J_();var e=Object.assign({},r,{plugins:o}),a=H_(t),i=a.reduce(function(n,l){var s=l&&a5(l,e);return s&&n.push(s),n},[]);return Mn(t)?i[0]:i}ma.defaultProps=Ut;ma.setDefaultProps=r5;ma.currentInput=eo;Object.assign({},Em,{effect:function(r){var o=r.state,e={popper:{position:o.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(o.elements.popper.style,e.popper),o.styles=e,o.elements.arrow&&Object.assign(o.elements.arrow.style,e.arrow)}});ma.setDefaultProps({render:qm});class i5{constructor({editor:r,element:o,view:e,tippyOptions:a={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:n,state:l,from:s,to:c})=>{const{doc:d,selection:p}=l,{empty:g}=p,u=!d.textBetween(s,c).length&&hm(l.selection);return!(!n.hasFocus()||g||u)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:n})=>{var l;if(this.preventHide){this.preventHide=!1;return}(n==null?void 0:n.relatedTarget)&&((l=this.element.parentNode)===null||l===void 0?void 0:l.contains(n.relatedTarget))||this.hide()},this.editor=r,this.element=o,this.view=e,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=a,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:r}=this.editor.options,o=!!r.parentElement;this.tippy||!o||(this.tippy=ma(r,y({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",e=>{this.blurHandler({event:e})}))}update(r,o){var e,a,i;const{state:n,composing:l}=r,{doc:s,selection:c}=n,d=o&&o.doc.eq(s)&&o.selection.eq(c);if(l||d)return;this.createTooltip();const{ranges:p}=c,g=Math.min(...p.map(h=>h.$from.pos)),u=Math.max(...p.map(h=>h.$to.pos));if(!((e=this.shouldShow)===null||e===void 0?void 0:e.call(this,{editor:this.editor,view:r,state:n,oldState:o,from:g,to:u}))){this.hide();return}(a=this.tippy)===null||a===void 0||a.setProps({getReferenceClientRect:((i=this.tippyOptions)===null||i===void 0?void 0:i.getReferenceClientRect)||(()=>{if(E1(n.selection)){const h=r.nodeDOM(g);if(h)return h.getBoundingClientRect()}return km(r,g,u)})}),this.show()}show(){var r;(r=this.tippy)===null||r===void 0||r.show()}hide(){var r;(r=this.tippy)===null||r===void 0||r.hide()}destroy(){var r;(r=this.tippy)===null||r===void 0||r.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Um=t=>new ut({key:typeof t.pluginKey=="string"?new bo(t.pluginKey):t.pluginKey,view:r=>new i5(y({view:r},t))});it.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Um({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class n5{constructor({editor:r,element:o,view:e,tippyOptions:a={},shouldShow:i}){this.preventHide=!1,this.shouldShow=({view:n,state:l})=>{const{selection:s}=l,{$anchor:c,empty:d}=s,p=c.depth===1,g=c.parent.isTextblock&&!c.parent.type.spec.code&&!c.parent.textContent;return!(!n.hasFocus()||!d||!p||!g)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:n})=>{var l;if(this.preventHide){this.preventHide=!1;return}(n==null?void 0:n.relatedTarget)&&((l=this.element.parentNode)===null||l===void 0?void 0:l.contains(n.relatedTarget))||this.hide()},this.editor=r,this.element=o,this.view=e,i&&(this.shouldShow=i),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=a,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:r}=this.editor.options,o=!!r.parentElement;this.tippy||!o||(this.tippy=ma(r,y({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",e=>{this.blurHandler({event:e})}))}update(r,o){var e,a,i;const{state:n}=r,{doc:l,selection:s}=n,{from:c,to:d}=s;if(o&&o.doc.eq(l)&&o.selection.eq(s))return;if(this.createTooltip(),!((e=this.shouldShow)===null||e===void 0?void 0:e.call(this,{editor:this.editor,view:r,state:n,oldState:o}))){this.hide();return}(a=this.tippy)===null||a===void 0||a.setProps({getReferenceClientRect:((i=this.tippyOptions)===null||i===void 0?void 0:i.getReferenceClientRect)||(()=>km(r,c,d))}),this.show()}show(){var r;(r=this.tippy)===null||r===void 0||r.show()}hide(){var r;(r=this.tippy)===null||r===void 0||r.hide()}destroy(){var r;(r=this.tippy)===null||r===void 0||r.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Jm=t=>new ut({key:typeof t.pluginKey=="string"?new bo(t.pluginKey):t.pluginKey,view:r=>new n5(y({view:r},t))});it.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Jm({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});L({name:"BubbleMenu",props:{pluginKey:{type:null,default:"bubbleMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:r}){const o=ca(null);return da(()=>{const{pluginKey:e,editor:a,tippyOptions:i,shouldShow:n}=t;a.registerPlugin(Um({pluginKey:e,editor:a,element:o.value,tippyOptions:i,shouldShow:n}))}),pa(()=>{const{pluginKey:e,editor:a}=t;a.unregisterPlugin(e)}),()=>{var e;return so("div",{ref:o},(e=r.default)===null||e===void 0?void 0:e.call(r))}}});function Hp(t){return cf((r,o)=>({get(){return r(),t},set(e){t=e,requestAnimationFrame(()=>{requestAnimationFrame(()=>{o()})})}}))}class l5 extends M1{constructor(r={}){return super(r),this.vueRenderers=ti(new Map),this.contentComponent=null,this.reactiveState=Hp(this.view.state),this.reactiveExtensionStorage=Hp(this.extensionStorage),this.on("transaction",()=>{this.reactiveState.value=this.view.state,this.reactiveExtensionStorage.value=this.extensionStorage}),Ws(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(r,o){super.registerPlugin(r,o),this.reactiveState.value=this.view.state}unregisterPlugin(r){super.unregisterPlugin(r),this.reactiveState.value=this.view.state}}const s5=L({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(t){const r=ca(),o=Gg();return Sf(()=>{const e=t.editor;e&&e.options.element&&r.value&&_g(()=>{if(!r.value||!e.options.element.firstChild)return;const a=Je(r.value);r.value.append(...e.options.element.childNodes),e.contentComponent=o.ctx._,e.setOptions({element:a}),e.createNodeViews()})}),pa(()=>{const e=t.editor;if(!e||(e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const a=document.createElement("div");a.append(...e.options.element.childNodes),e.setOptions({element:a})}),{rootEl:r}},render(){const t=[];return this.editor&&this.editor.vueRenderers.forEach(r=>{const o=so(nv,{to:r.teleportElement,key:r.id},so(r.component,y({ref:r.id},r.props)));t.push(o)}),so("div",{ref:r=>{this.rootEl=r}},...t)}});L({name:"FloatingMenu",props:{pluginKey:{type:null,default:"floatingMenu"},editor:{type:Object,required:!0},tippyOptions:{type:Object,default:()=>({})},shouldShow:{type:Function,default:null}},setup(t,{slots:r}){const o=ca(null);return da(()=>{const{pluginKey:e,editor:a,tippyOptions:i,shouldShow:n}=t;a.registerPlugin(Jm({pluginKey:e,editor:a,element:o.value,tippyOptions:i,shouldShow:n}))}),pa(()=>{const{pluginKey:e,editor:a}=t;a.unregisterPlugin(e)}),()=>{var e;return so("div",{ref:o},(e=r.default)===null||e===void 0?void 0:e.call(r))}}});const c5=(t={})=>{const r=af();return da(()=>{r.value=new l5(t)}),pa(()=>{var o;(o=r.value)===null||o===void 0||o.destroy()}),r};L({props:{as:{type:String,default:"div"}},inject:["onDragStart","decorationClasses"],render(){var t,r;return so(this.as,{class:this.decorationClasses.value,style:{whiteSpace:"normal"},"data-node-view-wrapper":"",onDragstart:this.onDragStart},(r=(t=this.$slots).default)===null||r===void 0?void 0:r.call(t))}});L({props:{as:{type:String,default:"div"}},render(){return so(this.as,{style:{whiteSpace:"pre-wrap"},"data-node-view-content":""})}});function d5(t){const r=document.createElement("span");return r.innerHTML=`${t.trim()}`,r}const p5=it.create({name:"snippet",addProseMirrorPlugins(){return[new ut({props:{handleDrop(t,r){if(!r)return!1;r.preventDefault();const o=t.posAtCoords({left:r.clientX,top:r.clientY}),e=r.dataTransfer.getData("snippet"),a=ze.fromSchema(t.state.schema).parseSlice(d5(e));if(o){const i=t.state.tr.insert(o.pos,a.content);i.setMeta("isSnippetDropTransaction",!0),t.dispatch(i)}return!1}}})]}});const g5={class:"flex gap-1rem"},u5=J("b",null,"Create new snippet from current editor content.",-1),m5=jt(" Create "),h5=L({__name:"Tiptap",emits:["newSnippet"],setup(t,{emit:r}){const o=ca(""),e=c5({content:'<p>Example of Snippets with tiptap. \u{1F389}</p><p></p><p>Drag a snippet from right and drop it in the line above and see the magic!</p><p>PS: you can create a new snippet from current editor content by giving it a name and pressing "create snippet" button</p>',extensions:[Tk,p5]}),a=()=>{var n;const i={name:o.value,content:((n=e.value)==null?void 0:n.getHTML())||"<p> Snippet failed </p>"};r("newSnippet",i)};return(i,n)=>{const l=Rr("i-input"),s=Rr("i-button");return _(),S(Ar,null,[J("section",g5,[hr(l,{modelValue:o.value,"onUpdate:modelValue":n[0]||(n[0]=c=>o.value=c),placeholder:"New snippet name..."},{prepend:br(()=>[u5]),_:1},8,["modelValue"]),hr(s,{onClick:a},{default:br(()=>[m5]),_:1})]),hr(Je(s5),{editor:Je(e)},null,8,["editor"])],64)}}});const f5={class:"snippet-example-container container flex"},v5={class:"editor-section"},b5={class:"snippet-section gap-1rem"},x5=["onDragstart"],y5=["innerHTML"],w5=L({__name:"SnippetExample",setup(t){const r=ca([{name:"Test",content:"<p> This is a test. </p>"},{name:"Some demo",content:"<p><strong>This is bold.</strong> <em>This is italic. </em><code>This is code</code> chill it out bro!</p>"}]),o=(a,i)=>{var n;(n=a==null?void 0:a.dataTransfer)==null||n.setData("text/html",i.content)},e=a=>{r.value=[...r.value,a]};return(a,i)=>{const n=Rr("i-tooltip");return _(),S("main",f5,[J("section",v5,[hr(h5,{onNewSnippet:e})]),J("section",b5,[(_(!0),S(Ar,null,ei(r.value,l=>(_(),S("article",{draggable:"true",class:"snippet",onDragstart:s=>o(s,l),key:"snippet.name"},[hr(n,{placement:"right",size:"md"},{body:br(()=>[J("div",{innerHTML:l.content},null,8,y5)]),default:br(()=>[J("b",null,So(l.name),1)]),_:2},1024)],40,x5))),128))])])}}});const k5=L({__name:"App",setup(t){return(r,o)=>(_(),S(Ar,null,[hr(Je(w5)),hr(Je(sb))],64))}});function Sr(t){let r=t.color;return r||(t.$inkline.options.colorMode==="system"?r=typeof window!="undefined"&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":r=t.$inkline.options.colorMode),{[`-${r}`]:!0}}function Gm(t,r){if(!t||!r)return!1;if(r.indexOf(" ")!==-1)throw new Error("Class name should not contain spaces.");return t.classList?t.classList.contains(r):(" "+t.className+" ").indexOf(" "+r+" ")>-1}function Tc(t,r){if(!t)return;let o=t.className;const e=(r||"").split(" ");for(let a=0,i=e.length;a<i;a++){const n=e[a];!n||(t.classList?t.classList.add(n):Gm(t,n)||(o+=" "+n))}t.classList||(t.className=o)}function Wp(t,r="camel"){const o=r==="camel"?/([A-Z])/g:/_([a-zA-Z])/g;return t.replace(o,(e,a)=>"-"+a.toLowerCase())}function Zm(t,r){return["string","number"].indexOf(typeof r)>-1&&r!==""?`${Wp(t)}-${r}`:Wp(t)}function Ts(t){return t.charAt(0).toUpperCase()+t.slice(1)}function on(t){if(Array.isArray(t)){const r=t.slice().map(on),o=Object.keys(r);return Object.keys(t).filter(e=>!o.includes(e)).forEach(e=>{r[e]=t[e]}),r}else if(typeof t=="object")return Object.keys(t).reduce((r,o)=>(r[o]=on(t[o]),r),{});return t}function _5(t,r){let o;return function(...e){const a=this;clearTimeout(o),o=setTimeout(()=>t.apply(a,e),r)}}function Ec(t){if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return t.type!=="hidden"&&t.type!=="file";case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}}function z5(t){if(!Ec(t))return!1;try{t.focus()}catch{}return typeof window!="undefined"&&document.activeElement===t}function Ym(t){for(let r=0;r<t.childNodes.length;r++){const o=t.childNodes[r];if(z5(o)||Ym(o))return!0}return!1}function wa(t,r){if(!t||!r||typeof window=="undefined")return;if(t.currentStyle)return t.currentStyle[r];const o=window.getComputedStyle(t,null);return o.getPropertyValue?o.getPropertyValue(r):o[r]}const Xm=t=>t instanceof Function,Ai={xs:[0,575],sm:[576,767],md:[768,991],lg:[992,1199],xl:[1200,1399],xxl:[1400,1/0]},Ic=["","xs","sm","md","lg","xl","xxl"],S5={tab:["Tab",9],enter:["Enter",13],esc:["Escape",27],space:[" ","Space",32],left:["ArrowLeft","Left",37],up:["ArrowUp","Up",38],right:["ArrowRight","Right",39],down:["ArrowDown","Down",40]},Kp={pristine:!0,dirty:!1,untouched:!0,touched:!1,valid:!0,invalid:!1,errors:[]},$5={value:"",validators:[]},Qm=["value","validators","pristine","dirty","untouched","touched","valid","invalid","errors"],Tr=(t,r)=>{const o=r.key||r.keyIdentifier||r.keyCode;return S5[t].indexOf(o)!==-1};function C5(t){return Boolean(t)&&Boolean(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function O5(t,r){if(!r)return[{text:t}];const o=[],e=t.toLowerCase(),a=r.toLowerCase();let i=0,n=0;for(;n<t.length;){const l=e.indexOf(a,n),s=l>=0;n=s?l:t.length,n&&(o.push({text:t.substring(i,n)}),i=n),s&&(n+=r.length,o.push({text:t.substring(i,n),marked:!0}),i=n)}return o}function M5(t){const r={};return(...o)=>{const e=JSON.stringify(o);return e in r||(r[e]=t(...o)),r[e]}}function T5(t,r,o){t&&r&&t.removeEventListener(r,o,!1)}function E5(t,r,o){t&&r&&t.detachEvent("on"+r,o)}const I5=()=>typeof window=="undefined"?()=>{}:window.document.removeEventListener?T5:E5,Fo=I5();function A5(t,r,o){t&&r&&o&&t.addEventListener(r,o,!1)}function N5(t,r,o){t&&r&&o&&t.attachEvent("on"+r,o)}const D5=()=>typeof window=="undefined"?()=>{}:window.document.addEventListener?A5:N5,_o=D5(),rh=t=>t.map(r=>r.type==="element"?so(r.name,r.attributes,rh(r.children)):r.value);function B5(t){return(t||"").replace(/^[\s\uFEFF]+|[\s\uFEFF]+$/g,"")}function th(t,r){if(!t||!r)return;const o=r.split(" ");let e=" "+t.className+" ";for(let a=0,i=o.length;a<i;a++){const n=o[a];!n||(t.classList?t.classList.remove(n):Gm(t,n)&&(e=e.replace(" "+n+" "," ")))}t.classList||(t.className=B5(e))}function Xo(t,r){return r.split(".").reduce((o,e)=>o&&o[e],t)}function P5(t,r,o,e){return Xo(t,r)[o]=e,t}function qp(t,r,o){return r.split(".").reduce((e,a)=>(Object.keys(o).forEach(i=>{e[a][i]=o[i]}),e&&e[a]),t),Object.keys(o).forEach(e=>{t[e]=o[e]}),t}function R5(t,r="dash"){const o=r==="dash"?/-([a-z0-9])/g:/_([a-z0-9])/g;return t.replace(o,(e,a)=>a.toUpperCase())}function nt(t){return`${t?`${t}-`:""}${Math.random().toString(36).substr(2,9)}`}const fo={"en-US":/^[A-Z]+$/i,"bg-BG":/^[А-Я]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[A-ZÆØÅ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"el-GR":/^[Α-ω]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[A-ZÀÉÈÌÎÓÒÙ]+$/i,"nb-NO":/^[A-ZÆØÅ]+$/i,"nl-NL":/^[A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[A-ZÆØÅ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"sl-SI":/^[A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[A-ZÅÄÖ]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[А-ЩЬЮЯЄIЇҐі]+$/i,"ku-IQ":/^[ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},vo={"en-US":/^[0-9A-Z]+$/i,"bg-BG":/^[0-9А-Я]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[0-9A-ZÆØÅ]+$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"el-GR":/^[0-9Α-ω]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[0-9A-ZÀÉÈÌÎÓÒÙ]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nb-NO":/^[0-9A-ZÆØÅ]+$/i,"nl-NL":/^[0-9A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[0-9A-ZÆØÅ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"sl-SI":/^[0-9A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[0-9A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[0-9A-ZÅÄÖ]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[0-9А-ЩЬЮЯЄIЇҐі]+$/i,"ku-IQ":/^[٠١٢٣٤٥٦٧٨٩0-9ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/},L5=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"],F5=["AU","GB","HK","IN","NZ","ZA","ZM"];F5.forEach(t=>{fo[`en-${t}`]=fo["en-US"],vo[`en-${t}`]=vo["en-US"]});L5.forEach(t=>{fo[`ar-${t}`]=fo.ar,vo[`ar-${t}`]=vo.ar});fo["pt-BR"]=fo["pt-PT"];vo["pt-BR"]=vo["pt-PT"];fo["pl-Pl"]=fo["pl-PL"];vo["pl-Pl"]=vo["pl-PL"];function j5(t,r={}){const o=r.locale||"en-US",e=a=>{let i=String(a);return r.allowDashes&&(i=i.replace(/-/g,"")),r.allowSpaces&&(i=i.replace(/ /g,"")),i};return t.constructor===Array?t.every(a=>fo[o].test(e(a))):fo[o].test(e(t))}function V5(t,r={}){const o=r.locale||"en-US",e=a=>{let i=String(a);return r.allowDashes&&(i=i.replace(/-/g,"")),r.allowSpaces&&(i=i.replace(/ /g,"")),i};return t.constructor===Array?t.every(a=>vo[o].test(e(a))):vo[o].test(e(t))}function H5(t,r={validator:()=>!0}){return t.constructor===Array?t.every(o=>r.validator(o)):r.validator(t)}function W5(t,r={allowNegative:!1,allowDecimal:!1}){let o="\\d+";r.allowNegative&&(o="[-]?"+o),r.allowDecimal&&(o+="([\\.\\,]\\d+)?");const e=new RegExp(`^${o}$`);return t.constructor===Array?t.every(a=>e.test(a)):e.test(t)}const Up=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;function K5(t){return t.constructor===Array?t.every(r=>!r||Up.test(String(r))):!t||Up.test(String(t))}function q5(t,r={value:0}){if(t==null)return!1;const o=e=>Number(e);return Array.isArray(t)?t.every(e=>o(e)<=r.value):o(t)<=r.value}function U5(t,r={value:0}){return t==null?!1:t.constructor===Array?t.length<=r.value:typeof t=="object"?Object.keys(t).length<=r.value:String(t).length<=r.value}function J5(t,r={value:0}){if(t==null)return!1;const o=e=>Number(e);return Array.isArray(t)?t.every(e=>o(e)>=r.value):o(t)>=r.value}function G5(t,r={value:0}){return t==null?!1:t.constructor===Array?t.length>=r.value:typeof t=="object"?Object.keys(t).length>=r.value:String(t).length>=r.value}function Z5(t,r={invalidateFalse:!1}){return t==null?!1:t.constructor===Array?!!t.length:typeof t=="boolean"?r.invalidateFalse?t:!0:!!String(t).trim().length}function Y5(t,r={}){if(!r.target)return!1;const o=Xo(r.schema(),r.target);if(!o)throw new Error(`Could not find target with name '${r.target}' in 'sameAs' validator.`);return t===o.value}const X5={alpha:j5,alphanumeric:V5,custom:H5,number:W5,email:K5,max:q5,maxLength:U5,min:J5,minLength:G5,required:Z5,sameAs:Y5};function oh(t){const o=Object.keys(t).length===0||Array.isArray(t.validators)||t.hasOwnProperty("value")?y(y({},Kp),$5):Kp;return Object.entries(o).forEach(([e,a])=>{t.hasOwnProperty(e)||(t[e]=a)}),Object.keys(t).filter(e=>!Qm.includes(e)).forEach(e=>{(typeof t[e]=="object"||Array.isArray(t[e]))&&(t[e]=oh(t[e]))}),t}const Q5={validation:{alpha:t=>{let r;switch(!0){case(t.allowSpaces&&t.allowDashes):r="letters, spaces, and dashes";break;case t.allowSpaces:r="letters and spaces";break;case t.allowDashes:r="letters and dashes";break;default:r="letters"}return`Please enter ${r} only.`},alphanumeric:t=>{let r;switch(!0){case(t.allowSpaces&&t.allowDashes):r="letters, numbers, spaces, and dashes";break;case t.allowSpaces:r="letters, numbers, and spaces";break;case t.allowDashes:r="letters, numbers, and dashes";break;default:r="letters and numbers"}return`Please enter ${r} only.`},number:t=>{let r;switch(!0){case(t.allowNegative&&t.allowDecimal):r="positive or negative decimal numbers";break;case t.allowNegative:r="positive or negative numbers";break;case t.allowDecimal:r="decimal numbers";break;default:r="numbers"}return`Please enter ${r} only.`},email:()=>"Please enter a valid email address.",max:()=>"Please enter a maximum value of {value}.",maxLength:()=>"Please enter up to {value} characters.",min:()=>"Please enter a minimum value of {value}.",minLength:()=>"Please enter at least {value} characters.",required:()=>"Please enter a value for this field.",sameAs:()=>"Please make sure that the two values match.",custom:()=>"Please enter a correct value for this field."}};function r3(t,r={}){const o=Xo(Es.messages[Es.locale],t),e=Xm(o)?o(r):o||t;return Object.keys(r).reduce((a,i)=>a.replace(new RegExp(`{${i}}`,"g"),`${r[i]}`),e)}const Es={locale:"en",messages:{en:Q5}};function t3(t){Es.locale=t}function o3(t,r=""){const o=[];return t.valid=(t.validators||[]).reduce((e,a)=>{const i=typeof a=="string"?{name:a}:a,n=X5[i.name](t.value,i);if(!n){const l=i,{name:s,message:c}=l,d=gi(l,["name","message"]),p=y({name:r.split(".").pop(),value:t.value},d),g=(c instanceof Function?c():c)||r3(`validation.${s}`,p);o.push({name:s,message:g,path:r})}return e&&n},!0),t.invalid=!t.valid,t.errors=o,t}function eh(t,r=""){return t.valid=Object.keys(t).filter(o=>!Qm.includes(o)).reduce((o,e)=>(Object.keys(t[e]).length===0||t[e].validators||t[e].value?t[e]=o3(t[e],`${r}`?`${r}.${e}`:e):t[e]=eh(t[e],`${r}`?`${r}.${e}`:e),o&&t[e].valid),!0),t.invalid=!t.valid,t}function ml(t){return eh(t,"")}const e3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"28",viewBox:"0 0 16 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"caret-down",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M16 11c0 0.266-0.109 0.516-0.297 0.703l-7 7c-0.187 0.187-0.438 0.297-0.703 0.297s-0.516-0.109-0.703-0.297l-7-7c-0.187-0.187-0.297-0.438-0.297-0.703 0-0.547 0.453-1 1-1h14c0.547 0 1 0.453 1 1z"},children:[]}]},a3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"check",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M23.625 3.5l-13.125 13.125-6.125-6.125-4.375 4.375 10.5 10.5 17.5-17.5z"},children:[]}]},i3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"chevron-down",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M26.297 12.625l-11.594 11.578c-0.391 0.391-1.016 0.391-1.406 0l-11.594-11.578c-0.391-0.391-0.391-1.031 0-1.422l2.594-2.578c0.391-0.391 1.016-0.391 1.406 0l8.297 8.297 8.297-8.297c0.391-0.391 1.016-0.391 1.406 0l2.594 2.578c0.391 0.391 0.391 1.031 0 1.422z"},children:[]}]},n3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"28",viewBox:"0 0 24 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"circle",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M24 14c0 6.625-5.375 12-12 12s-12-5.375-12-12 5.375-12 12-12 12 5.375 12 12z"},children:[]}]},l3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"danger",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M14 2.625c-3.038 0-5.895 1.183-8.043 3.332s-3.332 5.005-3.332 8.043c0 3.038 1.183 5.895 3.332 8.043s5.005 3.332 8.043 3.332c3.038 0 5.895-1.183 8.043-3.332s3.332-5.005 3.332-8.043c0-3.038-1.183-5.895-3.332-8.043s-5.005-3.332-8.043-3.332zM14 0v0c7.732 0 14 6.268 14 14s-6.268 14-14 14c-7.732 0-14-6.268-14-14s6.268-14 14-14zM12.25 19.25h3.5v3.5h-3.5zM12.25 5.25h3.5v10.5h-3.5z"},children:[]}]},s3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"info",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M12.25 8.313c0-0.722 0.591-1.313 1.313-1.313h0.875c0.722 0 1.313 0.591 1.313 1.313v0.875c0 0.722-0.591 1.313-1.313 1.313h-0.875c-0.722 0-1.313-0.591-1.313-1.313v-0.875z"},children:[]},{name:"path",type:"element",value:"",attributes:{d:"M17.5 21h-7v-1.75h1.75v-5.25h-1.75v-1.75h5.25v7h1.75z"},children:[]},{name:"path",type:"element",value:"",attributes:{d:"M14 0c-7.732 0-14 6.268-14 14s6.268 14 14 14 14-6.268 14-14-6.268-14-14-14zM14 25.375c-6.282 0-11.375-5.093-11.375-11.375s5.093-11.375 11.375-11.375 11.375 5.093 11.375 11.375-5.093 11.375-11.375 11.375z"},children:[]}]},c3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"minus",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M0 11.375v5.25c0 0.483 0.392 0.875 0.875 0.875h26.25c0.483 0 0.875-0.392 0.875-0.875v-5.25c0-0.483-0.392-0.875-0.875-0.875h-26.25c-0.483 0-0.875 0.392-0.875 0.875z"},children:[]}]},d3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"plus",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M27.125 10.5h-9.625v-9.625c0-0.483-0.392-0.875-0.875-0.875h-5.25c-0.483 0-0.875 0.392-0.875 0.875v9.625h-9.625c-0.483 0-0.875 0.392-0.875 0.875v5.25c0 0.483 0.392 0.875 0.875 0.875h9.625v9.625c0 0.483 0.392 0.875 0.875 0.875h5.25c0.483 0 0.875-0.392 0.875-0.875v-9.625h9.625c0.483 0 0.875-0.392 0.875-0.875v-5.25c0-0.483-0.392-0.875-0.875-0.875z"},children:[]}]},p3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"search",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M27.132 23.827l-6.632-5.641c-0.686-0.617-1.419-0.9-2.011-0.873 1.566-1.834 2.511-4.213 2.511-6.813 0-5.799-4.701-10.5-10.5-10.5s-10.5 4.701-10.5 10.5 4.701 10.5 10.5 10.5c2.6 0 4.98-0.946 6.813-2.511-0.027 0.592 0.256 1.326 0.873 2.011l5.641 6.632c0.966 1.073 2.544 1.164 3.506 0.201s0.872-2.54-0.201-3.506zM10.5 17.5c-3.866 0-7-3.134-7-7s3.134-7 7-7 7 3.134 7 7-3.134 7-7 7z"},children:[]}]},g3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"28",viewBox:"0 0 16 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"sort-asc",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M16 11c0 0.547-0.453 1-1 1h-14c-0.547 0-1-0.453-1-1 0-0.266 0.109-0.516 0.297-0.703l7-7c0.187-0.187 0.438-0.297 0.703-0.297s0.516 0.109 0.703 0.297l7 7c0.187 0.187 0.297 0.438 0.297 0.703z"},children:[]}]},u3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"28",viewBox:"0 0 16 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"sort-desc",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M16 17c0 0.266-0.109 0.516-0.297 0.703l-7 7c-0.187 0.187-0.438 0.297-0.703 0.297s-0.516-0.109-0.703-0.297l-7-7c-0.187-0.187-0.297-0.438-0.297-0.703 0-0.547 0.453-1 1-1h14c0.547 0 1 0.453 1 1z"},children:[]}]},m3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"28",viewBox:"0 0 16 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"sort",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M16 17c0 0.266-0.109 0.516-0.297 0.703l-7 7c-0.187 0.187-0.438 0.297-0.703 0.297s-0.516-0.109-0.703-0.297l-7-7c-0.187-0.187-0.297-0.438-0.297-0.703 0-0.547 0.453-1 1-1h14c0.547 0 1 0.453 1 1zM16 11c0 0.547-0.453 1-1 1h-14c-0.547 0-1-0.453-1-1 0-0.266 0.109-0.516 0.297-0.703l7-7c0.187-0.187 0.438-0.297 0.703-0.297s0.516 0.109 0.703 0.297l7 7c0.187 0.187 0.297 0.438 0.297 0.703z"},children:[]}]},h3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"times",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M27.745 22.495c-0-0-0-0-0-0l-8.494-8.494 8.494-8.494c0-0 0-0 0-0 0.091-0.091 0.158-0.198 0.2-0.312 0.116-0.311 0.050-0.675-0.2-0.925l-4.013-4.013c-0.25-0.25-0.614-0.316-0.925-0.2-0.114 0.042-0.221 0.109-0.312 0.2 0 0-0 0-0 0l-8.494 8.494-8.494-8.494c-0-0-0-0-0-0-0.091-0.091-0.198-0.158-0.312-0.2-0.311-0.116-0.675-0.050-0.925 0.2l-4.013 4.013c-0.25 0.25-0.316 0.614-0.2 0.925 0.042 0.114 0.109 0.221 0.2 0.312 0 0 0 0 0 0l8.494 8.494-8.494 8.494c-0 0-0 0-0 0-0.091 0.091-0.157 0.198-0.2 0.312-0.116 0.311-0.050 0.675 0.2 0.925l4.013 4.013c0.25 0.25 0.614 0.316 0.925 0.2 0.114-0.042 0.221-0.109 0.312-0.2 0-0 0-0 0-0l8.494-8.494 8.494 8.494c0 0 0 0 0 0 0.092 0.091 0.198 0.158 0.312 0.2 0.311 0.116 0.675 0.050 0.925-0.2l4.013-4.013c0.25-0.25 0.316-0.614 0.2-0.925-0.042-0.114-0.109-0.221-0.2-0.312z"},children:[]}]},f3={name:"svg",type:"element",value:"",attributes:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"currentColor"},children:[{name:"title",type:"element",value:"",attributes:{},children:[{name:"",type:"text",value:"warning",attributes:{},children:[]}]},{name:"path",type:"element",value:"",attributes:{d:"M14 2.537l11.733 23.385h-23.467l11.733-23.385zM14 0c-0.603 0-1.207 0.407-1.665 1.221l-11.951 23.819c-0.916 1.628-0.137 2.96 1.731 2.96h23.77c1.868 0 2.647-1.332 1.731-2.96h0l-11.951-23.819c-0.458-0.814-1.061-1.221-1.665-1.221v0z"},children:[]},{name:"path",type:"element",value:"",attributes:{d:"M15.75 22.75c0 0.966-0.784 1.75-1.75 1.75s-1.75-0.784-1.75-1.75c0-0.966 0.784-1.75 1.75-1.75s1.75 0.784 1.75 1.75z"},children:[]},{name:"path",type:"element",value:"",attributes:{d:"M14 19.25c-0.966 0-1.75-0.784-1.75-1.75v-5.25c0-0.966 0.784-1.75 1.75-1.75s1.75 0.784 1.75 1.75v5.25c0 0.966-0.784 1.75-1.75 1.75z"},children:[]}]};var v3=Object.freeze(Object.defineProperty({__proto__:null,inkCaretDown:e3,inkCheck:a3,inkChevronDown:i3,inkCircle:n3,inkDanger:l3,inkInfo:s3,inkMinus:c3,inkPlus:d3,inkSearch:p3,inkSortAsc:g3,inkSortDesc:u3,inkSort:m3,inkTimes:h3,inkWarning:f3},Symbol.toStringTag,{value:"Module"}));const Jp="inkline-color-mode",hl=t=>{let r;t==="system"?r=matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":r=t,th(document.body,"-light -dark"),Tc(document.body,`-${r}`)},b3={components:{},icons:{},colorMode:"system",locale:"en",validateOn:["input","blur"],color:"",size:"",routerComponent:"router-link",componentOptions:{}};function x3(e){var a=e,{icons:t,components:r}=a,o=gi(a,["icons","components"]);return{form(i){return oh(i)},setLocale(i){t3(i)},options:ti(o)}}const Ca={prototype:void 0,icons:void 0},y3={install(t,r={}){const o=y(y({},b3),r);for(const i in o.components)t.component(o.components[i].name,o.components[i]);typeof window!="undefined"&&(o.colorMode=localStorage.getItem(Jp)||o.colorMode);const e=x3(o);t.config.globalProperties.$inkline=e,t.provide("inkline",e),Ca.prototype=e;const a=y(y({},v3),o.icons);if(t.provide("inklineIcons",a),typeof window!="undefined"){Tc(document.body,"inkline"),$i(()=>e.options.colorMode,l=>{hl(l),localStorage.setItem(Jp,l)});const i=l=>{e.options.prefersColorScheme=l.matches?"dark":"light",e.options.colorMode==="system"&&hl(e.options.colorMode)},n=matchMedia("(prefers-color-scheme: dark)");n.addEventListener?n.addEventListener("change",i):n.addListener(i),hl(o.colorMode)}}};function W(t,r,o=""){return()=>{var e;return Ca.prototype?(e=Ca.prototype.options.componentOptions[t])!=null&&e[r]?Ca.prototype.options.componentOptions[t][r]:Ca.prototype.options[r]:o}}function zr(t){return["","xs","sm","md","lg","xl","xxl"].includes(t)}var ah=L({props:{collapse:{type:[String,Boolean],default:"md"},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{open:this.modelValue,windowWidth:typeof window!="undefined"?window.innerWidth:0}},computed:{collapsibleClasses(){return{"-open":this.open,"-collapsible":this.collapsible,[`-collapse-${this.collapse}`]:Boolean(this.collapse)}},collapsible(){return this.collapse===!0||this.collapse===!1?this.collapse:this.windowWidth<=Ai[this.collapse][1]}},watch:{modelValue(t){this.open=t}},created(){typeof window!="undefined"&&(_o(window,"resize",this.onWindowResize),this.onWindowResize())},beforeUnmount(){typeof window!="undefined"&&Fo(window,"resize",this.onWindowResize)},methods:{setOpen(t){this.open=t,this.$emit("update:modelValue",this.open)},toggleOpen(){this.open=!this.open,this.$emit("update:modelValue",this.open)},onWindowResize(){if(this.collapse===!0||this.collapse===!1||typeof window=="undefined")return;const t=window.innerWidth;this.windowWidth<=Ai[this.collapse][1]&&t>Ai[this.collapse][1]&&this.setOpen(!1),this.windowWidth=window.innerWidth}}}),xo=L({inject:{formGroup:{default:()=>({})},form:{default:()=>({})}},computed:{isDisabled(){return this.disabled||this.form.isDisabled||this.formGroup.isDisabled},isReadonly(){return this.readonly||this.form.isReadonly||this.formGroup.isReadonly},parent(){return this.formGroup.$?this.formGroup:this.form},schema(){const t=this.parent.schema||{};return this.name!==""?Xo(t,`${this.name}`):t}}}),ha=L({props:{tag:{type:String,default:"a"}},computed:{isTag(){return this.$attrs.to?this.routerComponent:this.$attrs.href?"a":this.tag},isComponent(){return this.isTag===this.routerComponent},routerComponent(){return this.$inkline.options.routerComponent}}});const w3=t=>({name:"offset",options:{offset:[0,t]}}),k3=()=>({name:"arrow",options:{padding:6}}),_3=()=>({name:"preventOverflow",options:{padding:8}}),z3=()=>({name:"computeStyles",options:{gpuAcceleration:!1,adaptive:!1}}),S3=()=>({name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:({state:t})=>{t.styles.popper.width=`${t.rects.reference.width}px`},effect({state:t}){t.elements.popper.style.width=`${t.elements.reference.offsetWidth}px`}}),ih=({offset:t})=>[w3(t),k3(),_3(),z3()];var Tn=L({props:{placement:{type:String,default:"auto"},offset:{type:Number,default:6},popperOptions:{type:Object,default:()=>({})}},data(){return{popperInstance:void 0}},watch:{placement(t){this.popperInstance&&this.popperInstance.setOptions({placement:t})}},beforeUnmount(){this.destroyPopper()},methods:{createPopper(){if(typeof window=="undefined")return;const t=ih({offset:this.offset});this.popperInstance=Rm(this.$refs.wrapper,this.$refs.popup,y({strategy:"fixed",placement:this.placement,modifiers:t},this.popperOptions))},destroyPopper(){this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=void 0)}}}),Ac=L({props:{disabled:{type:Boolean,default:!1},modelValue:{type:Boolean,default:void 0},trigger:{type:Array,default:()=>["hover","click","focus"]}},emits:["update:modelValue"],data(){return{visible:this.modelValue,triggerStack:0}},watch:{modelValue(t){t?this.show():this.hide()}},mounted(){if(!this.$slots.default)throw new Error("Popup components require one child element to be used as trigger.");this.addEventListeners()},beforeUnmount(){this.removeEventListeners()},methods:{show(){this.disabled||this.visible||(this.triggerStack+=1,this.visible=!0,this.createPopper(),this.$emit("update:modelValue",!0))},hide(){this.disabled||!this.visible||(this.triggerStack-=1,this.triggerStack<=0&&(this.triggerStack=0,this.visible=!1,this.$emit("update:modelValue",!1)))},onClick(){this.visible?this.hide():this.show()},onClickOutside(){this.modelValue||this.hide()},addEventListeners(){[].concat(this.trigger).forEach(t=>{switch(t){case"hover":_o(this.$refs.trigger,"mouseenter",this.show),_o(this.$refs.trigger,"mouseleave",this.hide);break;case"click":_o(this.$refs.trigger,"click",this.onClick);break;case"focus":for(const r of this.$refs.trigger.children)_o(r,"focus",this.show),_o(r,"blur",this.hide);break}})},removeEventListeners(){[].concat(this.trigger).forEach(t=>{switch(t){case"hover":Fo(this.$refs.trigger,"mouseenter",this.show),Fo(this.$refs.trigger,"mouseleave",this.hide);break;case"click":Fo(this.$refs.trigger,"click",this.onClick);break;case"focus":for(const r of this.$refs.trigger.children)Fo(r,"focus",this.show),Fo(r,"blur",this.hide);break}})},focusTrigger(){for(const t of this.$refs.trigger.children)if(Ym(t)){t.focus();break}}}});const fl="IAlert";var $3=L({name:fl,props:{size:{type:String,default:W(fl,"size"),validator:zr},color:{type:String,default:W(fl,"color")},modelValue:{type:Boolean,default:!0},dismissible:{type:Boolean,default:!1},dismissAriaLabel:{type:String,default:"Dismiss"}},emits:["update:modelValue"],data(){return{dismissed:!1}},computed:{classes(){return{[`-${this.color}`]:Boolean(this.color),[`-${this.size}`]:Boolean(this.size),"-dismissible":this.dismissible,"-with-icon":Boolean(this.$slots.icon)}}},watch:{modelValue(t){this.dismissed=!t}},methods:{dismiss(){this.dismissed=!0,this.$emit("update:modelValue",!1)}}});const C3={key:0,class:"icon",role:"img","aria-hidden":"true"},O3={class:"content"},M3=["aria-label"],T3=jt("\xD7");function E3(t,r,o,e,a,i){return Nr((_(),S("div",Wr({class:["alert",t.classes],role:"alert"},t.$attrs),[t.$slots.icon?(_(),S("span",C3,[I(t.$slots,"icon")])):ar("",!0),J("div",O3,[I(t.$slots,"default")]),t.dismissible?(_(),S("span",{key:1,class:"dismiss",role:"button","aria-label":t.dismissAriaLabel,onClick:r[0]||(r[0]=(...n)=>t.dismiss&&t.dismiss(...n))},[I(t.$slots,"dismiss",{},()=>[T3])],8,M3)):ar("",!0)],16)),[[Gr,!t.dismissed]])}var X=(t,r)=>{const o=t.__vccOpts||t;for(const[e,a]of r)o[e]=a;return o},I3=X($3,[["render",E3]]);const vl="IBadge";var A3=L({name:vl,props:{color:{type:String,default:W(vl,"color")},size:{type:String,default:W(vl,"size"),validator:zr}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})}}});function N3(t,r,o,e,a,i){return _(),S("div",Wr({class:["badge",t.classes]},t.$attrs),[I(t.$slots,"default")],16)}var D3=X(A3,[["render",N3]]);const bl="IBreadcrumb";var B3=L({name:bl,props:{ariaLabel:{type:String,default:"Breadcrumbs"},color:{type:String,default:W(bl,"color")},size:{type:String,default:W(bl,"size"),validator:zr}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})}}});const P3=["aria-label"];function R3(t,r,o,e,a,i){return _(),S("nav",Wr({class:["breadcrumb",t.classes],"aria-label":t.ariaLabel},t.$attrs),[J("ol",null,[I(t.$slots,"default")])],16,P3)}var L3=X(B3,[["render",R3]]);const F3="IBreadcrumbItem";var j3=L({name:F3,mixins:[ha],props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},tabindex:{type:[Number,String],default:0}},computed:{classes(){return{"-active":this.active,"-disabled":this.disabled}},tabIndex(){return this.disabled||this.active?-1:this.tabindex}}});const V3=["is","tabindex","aria-current"];function H3(t,r,o,e,a,i){return _(),S("li",{class:er(["breadcrumb-item",t.classes])},[J("a",Wr({is:t.isTag},t.$attrs,{tabindex:t.tabIndex,"aria-current":t.active?"location":null}),[I(t.$slots,"default",{},void 0,!0)],16,V3)],2)}var W3=X(j3,[["render",H3],["__scopeId","data-v-4f65c4cb"]]);const xl="ILoader";var K3=L({name:xl,props:{color:{type:String,default:W(xl,"color")},size:{type:String,default:W(xl,"size")}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})}}});const q3={key:0,class:"loader-text"},U3=J("svg",{viewBox:"25 25 50 50"},[J("circle",{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"4","stroke-miterlimit":"10"})],-1);function J3(t,r,o,e,a,i){return _(),S("div",{class:er(["loader",t.classes]),role:"img","aria-hidden":"true"},[t.$slots.default?(_(),S("span",q3,[I(t.$slots,"default")])):ar("",!0),U3],2)}var nh=X(K3,[["render",J3]]);const yl="IButton";var G3=L({name:yl,components:{ILoader:nh},mixins:[ha],inject:{buttonGroup:{default:()=>({})},form:{default:()=>({})},formGroup:{default:()=>({})}},props:{active:{type:Boolean,default:!1},block:{type:Boolean,default:!1},circle:{type:Boolean,default:!1},color:{type:String,default:W(yl,"color")},disabled:{type:Boolean,default:!1},link:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},outline:{type:Boolean,default:!1},tag:{type:String,default:"button"},tabindex:{type:[Number,String],default:0},size:{type:String,default:W(yl,"size"),validator:zr}},computed:{ariaBusy(){return this.role!=="button"?null:this.loading?"true":"false"},ariaDisabled(){return this.role!=="button"?null:this.disabled?"true":"false"},ariaPressed(){return this.role!=="button"?null:this.active?"true":"false"},classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-active":this.active,"-block":this.block,"-circle":this.circle,"-disabled":this.isDisabled,"-link":this.link,"-outline":this.outline})},isDisabled(){return this.disabled||this.buttonGroup.disabled||this.form.disabled||this.formGroup.disabled},role(){return this.$attrs.to||this.$attrs.href?"link":"button"},tabIndex(){return this.isDisabled?-1:this.tabindex}}});function Z3(t,r,o,e,a,i){const n=Rr("i-loader");return _(),jr(oi(t.isTag),Wr(t.$attrs,{class:["button",t.classes],tag:t.tag,role:t.role,tabindex:t.tabIndex,disabled:t.isDisabled||t.loading,"aria-disabled":t.ariaDisabled,"aria-pressed":t.ariaPressed,"aria-busy":t.ariaBusy,"aria-live":"polite"}),{default:br(()=>[t.loading?I(t.$slots,"loading",{key:0},()=>[hr(n)]):ar("",!0),t.loading?ar("",!0):I(t.$slots,"default",{key:1})]),_:3},16,["tag","role","tabindex","class","disabled","aria-disabled","aria-pressed","aria-busy"])}var lh=X(G3,[["render",Z3]]);const Y3="IButtonGroup";var X3=L({name:Y3,inject:{form:{default:()=>({})},buttonGroup:{default:()=>({})},formGroup:{default:()=>({})}},provide(){return{buttonGroup:this}},props:{vertical:{type:Boolean,default:!1},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},computed:{classes(){return{"-vertical":this.vertical,"-block":this.block,"-disabled":this.isDisabled}},isDisabled(){return this.disabled||this.buttonGroup.disabled||this.form.disabled||this.formGroup.disabled}}});const Q3=["aria-disabled"];function r6(t,r,o,e,a,i){return _(),S("div",Wr({class:["button-group",t.classes],role:"group","aria-disabled":t.isDisabled},t.$attrs),[I(t.$slots,"default")],16,Q3)}var t6=X(X3,[["render",r6]]);const ja={};for(const t of Ic){t!==""&&(ja[t]={type:[String,Boolean,Number],default:!1});for(const r of["first","last"])ja[`${r}${Ts(t)}`]={type:Boolean,default:!1};for(const r of["offset","push","pull"])ja[`${r}${Ts(t)}`]={type:[String,Number],default:""}}const o6="IColumn";var e6=L({name:o6,props:ja,computed:{classes(){return Object.keys(ja).reduce((t,r)=>(this[r]&&(t[Zm(`-${r}`,this[r])]=!0),t),{})}}});function a6(t,r,o,e,a,i){return _(),S("div",{class:er(["column",t.classes])},[I(t.$slots,"default")],2)}var Nc=X(e6,[["render",a6]]);const i6="IContainer";var n6=L({name:i6,props:{fluid:{type:Boolean,default:!1}},computed:{classes(){return{"-fluid":this.fluid}}}});function l6(t,r,o,e,a,i){return _(),S("div",{class:er(["container",t.classes])},[I(t.$slots,"default")],2)}var Dc=X(n6,[["render",l6]]);const wl="ICard";var s6=L({name:wl,props:{color:{type:String,default:W(wl,"color")},size:{type:String,default:W(wl,"size"),validator:zr}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})}}});const c6={key:0,class:"card-header"},d6={key:1,class:"card-body"},p6={key:2,class:"card-footer"};function g6(t,r,o,e,a,i){return _(),S("div",{class:er(["card",t.classes])},[t.$slots.header?(_(),S("header",c6,[I(t.$slots,"header")])):ar("",!0),I(t.$slots,"image"),t.$slots.default?(_(),S("div",d6,[I(t.$slots,"default")])):ar("",!0),t.$slots.footer?(_(),S("footer",p6,[I(t.$slots,"footer")])):ar("",!0)],2)}var u6=X(s6,[["render",g6]]);const kl="ICheckbox";var m6=L({name:kl,mixins:[xo],props:{color:{type:String,default:W(kl,"color")},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},value:{default:!1},modelValue:{default:!1},name:{type:[String,Number],default(){return nt("checkbox")}},native:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},size:{type:String,default:W(kl,"size"),validator:zr},tabindex:{type:[Number,String],default:0}},emits:["update:modelValue"],computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-disabled":this.isDisabled,"-readonly":this.isReadonly,"-native":this.native})},checked(){return this.formGroup.checked?this.formGroup.checked.includes(this.value):this.schema?this.schema.value:this.modelValue},tabIndex(){return this.isDisabled?-1:this.tabindex}},methods:{clickInputRef(){this.isReadonly||this.$refs.input.click()},onChange(t){var r,o,e,a;(o=(r=this.parent).onInput)==null||o.call(r,this.name,t.target.checked),(a=(e=this.formGroup).onChange)==null||a.call(e,this.value),this.$emit("update:modelValue",t.target.checked)},onBlur(t){var r,o;(o=(r=this.parent).onBlur)==null||o.call(r,this.name,t)}}});const h6=["aria-checked"],f6=["checked","name","disabled","readonly",".indeterminate"],v6=["aria-checked","aria-disabled","aria-readonly","tabindex"];function b6(t,r,o,e,a,i){return _(),S("div",{class:er(["checkbox",t.classes]),"aria-checked":t.checked?"true":"false",role:"checkbox"},[J("input",{ref:"input",type:"checkbox",checked:t.checked,tabindex:"-1",name:t.name,disabled:t.isDisabled,readonly:t.isReadonly,".indeterminate":t.indeterminate,"aria-hidden":"true",onChange:r[0]||(r[0]=(...n)=>t.onChange&&t.onChange(...n))},null,40,f6),J("label",{class:"checkbox-label","aria-checked":t.checked,"aria-disabled":t.isDisabled,"aria-readonly":t.isReadonly,tabindex:t.tabIndex,onBlur:r[1]||(r[1]=(...n)=>t.onBlur&&t.onBlur(...n)),onClick:r[2]||(r[2]=(...n)=>t.clickInputRef&&t.clickInputRef(...n)),onKeydown:r[3]||(r[3]=Me(oc((...n)=>t.clickInputRef&&t.clickInputRef(...n),["stop","prevent"]),["space"]))},[I(t.$slots,"default")],40,v6)],10,h6)}var x6=X(m6,[["render",b6]]);const _l="ICheckboxGroup";var y6=L({name:_l,mixins:[xo],provide(){return{formGroup:this}},props:{color:{type:String,default:W(_l,"color")},disabled:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},modelValue:{default:()=>[]},name:{type:[String,Number],default(){return nt("checkbox-group")}},readonly:{type:Boolean,default:!1},size:{type:String,default:W(_l,"size"),validator:zr}},emits:["update:modelValue"],computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-disabled":this.isDisabled,"-readonly":this.isReadonly,"-inline":this.inline})},checked(){return this.schema?this.schema.value:this.modelValue}},methods:{onChange(t){var e,a;const r=[...this.modelValue],o=r.findIndex(i=>i===t);o!==-1?r.splice(o,1):r.push(t),(a=(e=this.parent).onInput)==null||a.call(e,this.name,r),this.$emit("update:modelValue",r)}}});const w6=["name"];function k6(t,r,o,e,a,i){return _(),S("div",{class:er(["form-group checkbox-group",t.classes]),name:t.name,role:"checkboxgroup"},[I(t.$slots,"default",{},void 0,!0)],10,w6)}var _6=X(y6,[["render",k6],["__scopeId","data-v-63461e47"]]);const zl="ICollapsible";var z6=L({name:zl,provide(){return{collapsible:this}},props:{accordion:{type:Boolean,default:!1},color:{type:String,default:W(zl,"color")},size:{type:String,default:W(zl,"size"),validator:zr},modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],data(){return{activeItems:[].concat(this.modelValue)}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})}},watch:{modelValue(t){this.activeItems=[].concat(t)}},methods:{onItemClick(t){if(this.accordion)return this.activeItems=this.activeItems.indexOf(t.name)>-1?[]:[t.name],this.activeItems;const r=this.activeItems.indexOf(t.name);r>-1?this.activeItems.splice(r,1):this.activeItems.push(t.name),this.$emit("update:modelValue",this.activeItems)}}});function S6(t,r,o,e,a,i){return _(),S("div",Wr({class:["collapsible",t.classes],role:"tablist","aria-multiselectable":"true"},t.$attrs),[I(t.$slots,"default")],16)}var $6=X(z6,[["render",S6]]),C6=L({name:"IExpandTransition",methods:{onEnter(t){const r=wa(t,"width");t.style.width=r,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto";const o=wa(t,"height");t.style.width=null,t.style.position=null,t.style.visibility=null,t.style.height=0,wa(t,"height"),setTimeout(()=>{t.style.height=o})},onAfterEnter(t){t.style.height="auto"},onLeave(t){t.style.height=wa(t,"height"),wa(t,"height"),setTimeout(()=>{t.style.height=0})}}});function O6(t,r,o,e,a,i){return _(),jr(Ot,{name:"expand",onEnter:t.onEnter,onAfterEnter:t.onAfterEnter,onLeave:t.onLeave},{default:br(()=>[I(t.$slots,"default",{},void 0,!0)]),_:3},8,["onEnter","onAfterEnter","onLeave"])}var sh=X(C6,[["render",O6],["__scopeId","data-v-2b76e686"]]);const M6="ICollapsibleItem";var T6=L({name:M6,components:{IExpandTransition:sh},inject:{collapsible:{default:()=>({activeItems:[]})}},props:{name:{type:String,default(){return nt("collapsible-item")}},title:{type:String,default:""}},computed:{active(){return this.collapsible.activeItems.indexOf(this.name)>-1},classes(){return{"-active":this.active}}},methods:{onClick(){this.collapsible.onItemClick(this)}}});const E6=["name"],I6=["id","aria-expanded","aria-controls","aria-describedby"],A6=J("i",{class:"icon"},null,-1),N6=["id","aria-hidden","aria-labelledby"],D6={class:"content"};function B6(t,r,o,e,a,i){const n=Rr("i-expand-transition");return _(),S("div",{class:er(["collapsible-item",t.classes]),name:t.name},[J("a",{class:"collapsible-header",role:"tab",id:`collapsible-item-heading-${t.name}`,"aria-expanded":t.active?"true":"false","aria-controls":`collapsible-item-content-${t.name}`,"aria-describedby":`collapsible-item-content-${t.name}`,tabindex:"0",onClick:r[0]||(r[0]=(...l)=>t.onClick&&t.onClick(...l))},[I(t.$slots,"header",{},()=>[jt(So(t.title),1)]),A6],8,I6),hr(n,null,{default:br(()=>[Nr(J("div",{class:"collapsible-body",role:"tabpanel",id:`collapsible-item-content-${t.name}`,"aria-hidden":t.active?"false":"true","aria-labelledby":`collapsible-item-heading-${t.name}`},[J("div",D6,[I(t.$slots,"default")])],8,N6),[[Gr,t.active]])]),_:3})],10,E6)}var P6=X(T6,[["render",B6]]);const R6=(t,r)=>o=>{!C5(t)||!o.target||t===o.target||t.contains(o.target)||r.value(o)},fa={beforeMount(t,r){typeof window!="undefined"&&_o(window.document,"mouseup",R6(t,r))}},Sl="IDropdown";var L6=L({name:Sl,directives:{ClickOutside:fa},mixins:[Tn,Ac],provide(){return{dropdown:this}},inject:{navbar:{default:()=>({onItemClick:()=>{}})},sidebar:{default:()=>({onItemClick:()=>{}})}},props:{animationDuration:{type:Number,default:300},color:{type:String,default:W(Sl,"color")},disabled:{type:Boolean,default:!1},hideOnItemClick:{type:Boolean,default:!0},keydownTrigger:{type:Array,default:()=>["up","down","enter","space","tab","esc"]},keydownItem:{type:Array,default:()=>["up","down","enter","space","tab","esc"]},modelValue:{type:Boolean,default:!1},arrow:{type:Boolean,default:!0},placement:{type:String,default:"bottom"},trigger:{type:[String,Array],default:()=>["click"]},offset:{type:Number,default:6},popperOptions:{type:Object,default:()=>({})},size:{type:String,default:W(Sl,"size"),validator:zr}},emits:["update:modelValue"],computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})}},mounted(){for(const t of this.$refs.trigger.children)_o(t,"keydown",this.onTriggerKeyDown);_o(this.$refs.popup,"keydown",this.onItemKeyDown)},beforeUnmount(){for(const t of this.$refs.trigger.children)Fo(t,"keydown",this.onTriggerKeyDown);Fo(this.$refs.popup,"keydown",this.onItemKeyDown)},methods:{onEscape(){this.visible=!1,this.$emit("update:modelValue",!1)},handleClickOutside(){this.visible=!1,this.$emit("update:modelValue",!1),this.onClickOutside()},getFocusableItems(){const t=[];for(const r of this.$refs.body.children)Ec(r)&&t.push(r);return t},onTriggerKeyDown(t){if(this.keydownTrigger.length===0)return;const r=this.getFocusableItems(),o=r.findIndex(i=>i.active),e=o>-1?o:0,a=r[e];switch(!0){case(Tr("up",t)&&this.keydownTrigger.includes("up")):case(Tr("down",t)&&this.keydownTrigger.includes("down")):this.show(),setTimeout(()=>{a.focus()},this.visible?0:this.animationDuration),t.preventDefault(),t.stopPropagation();break;case(Tr("enter",t)&&this.keydownTrigger.includes("enter")):case(Tr("space",t)&&this.keydownTrigger.includes("space")):this.onClick(),this.visible||setTimeout(()=>{a.focus()},this.animationDuration),t.preventDefault();break;case(Tr("tab",t)&&this.keydownTrigger.includes("tab")):case(Tr("esc",t)&&this.keydownTrigger.includes("esc")):this.hide();break}},onItemKeyDown(t){if(this.keydownItem.length!==0)switch(!0){case(Tr("up",t)&&this.keydownItem.includes("up")):case(Tr("down",t)&&this.keydownItem.includes("down")):const r=this.getFocusableItems(),o=r.findIndex(i=>i===t.target),e=r.length-1;let a;Tr("up",t)?a=o>0?o-1:0:a=o<e?o+1:e,r[a].focus(),t.preventDefault(),t.stopPropagation();break;case(Tr("enter",t)&&this.keydownItem.includes("enter")):case(Tr("space",t)&&this.keydownItem.includes("space")):t.target.click(),this.hideOnItemClick&&this.hide(),this.focusTrigger(),t.preventDefault();break;case(Tr("tab",t)&&this.keydownItem.includes("tab")):case(Tr("esc",t)&&this.keydownItem.includes("esc")):this.hide(),this.focusTrigger(),t.preventDefault();break}},onItemClick(){this.hideOnItemClick&&this.hide(),[this.navbar,this.sidebar].forEach(t=>{t.onItemClick()})}}});const F6={class:"dropdown-trigger",ref:"trigger"},j6=["aria-hidden"],V6={key:0,"data-popper-arrow":""},H6={key:1,class:"dropdown-header"},W6={key:2,class:"dropdown-body",ref:"body"},K6={key:3,class:"dropdown-footer"};function q6(t,r,o,e,a,i){const n=ga("click-outside");return Nr((_(),S("div",{class:"dropdown-wrapper",ref:"wrapper","aria-haspopup":"true",onKeyup:r[0]||(r[0]=Me((...l)=>t.onEscape&&t.onEscape(...l),["esc"]))},[J("div",F6,[I(t.$slots,"default")],512),hr(Ot,{name:"zoom-in-top-transition",onAfterLeave:t.destroyPopper},{default:br(()=>[Nr(J("div",{class:er(["dropdown",t.classes]),role:"menu",ref:"popup","aria-hidden":t.visible?"false":"true"},[t.arrow?(_(),S("span",V6)):ar("",!0),t.$slots.header?(_(),S("div",H6,[I(t.$slots,"header")])):ar("",!0),t.$slots.body?(_(),S("div",W6,[I(t.$slots,"body")],512)):ar("",!0),t.$slots.footer?(_(),S("div",K6,[I(t.$slots,"footer")])):ar("",!0)],10,j6),[[Gr,t.visible]])]),_:3},8,["onAfterLeave"])],32)),[[n,t.onClickOutside]])}var U6=X(L6,[["render",q6]]);const J6="IDropdownDivider";var G6=L({name:J6});const Z6={class:"dropdown-divider",role:"separator"};function Y6(t,r,o,e,a,i){return _(),S("div",Z6)}var X6=X(G6,[["render",Y6]]);const Q6="IDropdownItem";var r2=L({name:Q6,mixins:[ha],inject:{dropdown:{default:()=>({})}},props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},plaintext:{type:Boolean,default:!1},tag:{type:String,default:"div"},tabindex:{type:[Number,String],default:0}},computed:{classes(){return{"-active":this.active,"-disabled":this.disabled,"-plaintext":this.plaintext}},role(){return this.$attrs.to||this.$attrs.href?"link":"menuitem"},tabIndex(){return this.disabled?-1:this.tabindex}},methods:{onClick(t){var r,o;(o=(r=this.dropdown).onItemClick)==null||o.call(r,this,t)}}});function t2(t,r,o,e,a,i){return _(),jr(oi(t.isTag),Wr(t.$attrs,{class:["dropdown-item",t.classes],role:t.role,tag:t.tag,tabindex:t.tabIndex,disabled:t.disabled,"aria-disabled":t.disabled,"aria-pressed":t.active,onClick:t.onClick}),{default:br(()=>[I(t.$slots,"default")]),_:3},16,["class","role","tag","tabindex","disabled","aria-disabled","aria-pressed","onClick"])}var o2=X(r2,[["render",t2]]);const Gp="IForm";var e2=L({name:Gp,mixins:[xo],provide(){return{form:this}},inheritAttrs:!1,props:{color:{type:String,default:""},disabled:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},name:{type:String,default(){return nt("form")}},modelValue:{type:Object,default:()=>null},readonly:{type:Boolean,default:!1},size:{type:String,default:W(Gp,"size"),validator:zr}},emits:["update:modelValue","submit"],computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-disabled":this.isDisabled,"-readonly":this.isReadonly,"-inline":this.inline})},schema(){return this.modelValue?this.modelValue:Xo(this.formGroup.schema||this.form.schema||{},this.name)}},methods:{onBlur(t,r){var o,e;if((e=(o=this.parent).onBlur)==null||e.call(o,this.name?`${this.name}.${t}`:t,r),this.modelValue){let a=on(this.modelValue);a=qp(a,t,{untouched:!1,touched:!0}),this.shouldValidate(t,"blur")&&(a=ml(a)),this.$emit("update:modelValue",a)}},onInput(t,r){var o,e;if((e=(o=this.parent).onInput)==null||e.call(o,this.name?`${this.name}.${t}`:t,r),this.modelValue){let a=this.modelValue;a=P5(a,t,"value",r),a=qp(a,t,{pristine:!1,dirty:!0}),this.shouldValidate(t,"input")&&(a=ml(a)),this.$emit("update:modelValue",a)}},onSubmit(t){if(t.preventDefault(),this.modelValue){let r=on(this.modelValue);if(r=ml(r),this.$emit("update:modelValue",r),r.invalid)return}this.$emit("submit",t)},shouldValidate(t,r){const o=Xo(this.modelValue,t);return(o.validateOn?[].concat(o.validateOn):this.$inkline.options.validateOn).includes(r)}}});const a2=["name","readonly","disabled"];function i2(t,r,o,e,a,i){return _(),S("form",{class:er(["form",t.classes]),role:"form",name:t.name,readonly:t.isReadonly,disabled:t.isDisabled,onSubmit:r[0]||(r[0]=(...n)=>t.onSubmit&&t.onSubmit(...n))},[I(t.$slots,"default",{},void 0,!0)],42,a2)}var n2=X(e2,[["render",i2],["__scopeId","data-v-65e36f52"]]);const $l="IFormGroup";var l2=L({name:$l,mixins:[xo],provide(){return{formGroup:this}},props:{color:{type:String,default:W($l,"color")},disabled:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},name:{type:String,default:""},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},size:{type:String,default:W($l,"size"),validator:zr}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-disabled":this.isDisabled,"-readonly":this.isReadonly,"-inline":this.inline,"-required":this.required})}},methods:{onBlur(t,r){var o,e;(e=(o=this.parent)==null?void 0:o.onBlur)==null||e.call(o,this.name?`${this.name}.${t}`:t,r)},onInput(t,r){var o,e;(e=(o=this.parent)==null?void 0:o.onInput)==null||e.call(o,this.name?`${this.name}.${t}`:t,r)}}});const s2=["name"];function c2(t,r,o,e,a,i){return _(),S("fieldset",{class:er(["form-group",t.classes]),name:t.name,role:"group"},[I(t.$slots,"default")],10,s2)}var d2=X(l2,[["render",c2]]);const p2="IFormError";var g2=L({name:p2,inject:{formGroup:{default:()=>({})},form:{default:()=>({})}},props:{for:{type:String,default:""},visible:{type:[Array,String],default:()=>["touched","dirty","invalid"]}},computed:{parent(){return this.formGroup.$?this.formGroup:this.form},schema(){return this.for!==""?Xo(this.parent.schema||{},`${this.for}`):this.parent.schema||{}},errors(){return this.schema.errors||[]},isVisible(){let t=!0;return this.schema&&this.visible&&[].concat(this.visible).forEach(r=>{t=t&&this.schema[r]}),t}}});const u2={key:0,class:"form-error","aria-live":"polite"};function m2(t,r,o,e,a,i){return t.schema?Nr((_(),jr(Ot,{key:0,name:"fade-in-transition"},{default:br(()=>[t.errors.length>0?(_(),S("ul",u2,[(_(!0),S(Ar,null,ei(t.errors,n=>(_(),S("li",null,So(n.message),1))),256))])):ar("",!0)]),_:1},512)),[[Gr,t.isVisible]]):ar("",!0)}var h2=X(g2,[["render",m2]]);const Zp="IFormLabel";var f2=L({name:Zp,mixins:[xo],props:{for:{type:String,default:""},placement:{type:String,default:""},size:{type:String,default:W(Zp,"size"),validator:zr}},computed:{classes(){return{[`-${this.size}`]:Boolean(this.size),[`-${this.placement}`]:Boolean(this.placement)}},forAttr(){return this.for}},methods:{getNextSibling(){return this.$el.nextSibling.querySelector("input, textarea")},onClick(){var t;this.for||(t=this.getNextSibling())==null||t.focus()}}});const v2=["for"];function b2(t,r,o,e,a,i){return _(),S("label",Wr({class:["form-label",t.classes],for:t.forAttr},t.$attrs,{onClick:r[0]||(r[0]=(...n)=>t.onClick&&t.onClick(...n))}),[I(t.$slots,"default")],16,v2)}var x2=X(f2,[["render",b2]]);const Yp="IHamburgerMenu";var y2=L({name:Yp,props:{animation:{type:String,default:"close"},color:{type:String,default:W(Yp,"color")},modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],computed:{classes(){return lr(y({},Sr(this)),{"-active":this.modelValue,[`-${this.animation}`]:!0})}},methods:{onClick(){this.$emit("update:modelValue",!this.modelValue)}}});const w2=J("span",{class:"hamburger-menu-bars"},null,-1),k2=[w2];function _2(t,r,o,e,a,i){return _(),S("div",{class:er(["hamburger-menu",t.classes]),onClick:r[0]||(r[0]=(...n)=>t.onClick&&t.onClick(...n))},k2,2)}var ch=X(y2,[["render",_2]]);const Is={};for(const t of Ic)for(const r of["start","center","end","top","middle","bottom","around","between","reverse"])Is[`${r}${Ts(t)}`]={type:Boolean,default:!1};const z2="IRow";var S2=L({name:z2,props:y({noGutter:{type:Boolean,default:!1},noCollapse:{type:Boolean,default:!1}},Is),computed:{classes(){const t=Object.keys(Is).reduce((r,o)=>(this[o]&&(r[Zm(`-${o}`,this[o])]=!0),r),{});return y({"-no-gutter":this.noGutter,"-no-collapse":this.noCollapse},t)}}});function $2(t,r,o,e,a,i){return _(),S("div",{class:er(["row",t.classes])},[I(t.$slots,"default")],2)}var Bc=X(S2,[["render",$2]]);const Cl="IHeader";var C2=L({name:Cl,components:{IContainer:Dc,IRow:Bc,IColumn:Nc},props:{color:{type:String,default:W(Cl,"color")},cover:{type:Boolean,default:!1},fluid:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},size:{type:String,default:W(Cl,"size"),validator:zr}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-cover":this.cover,"-fullscreen":this.fullscreen})}}});function O2(t,r,o,e,a,i){const n=Rr("i-column"),l=Rr("i-row"),s=Rr("i-container");return _(),S("header",{class:er(["header",t.classes])},[hr(s,{fluid:t.fluid},{default:br(()=>[hr(l,null,{default:br(()=>[hr(n,null,{default:br(()=>[I(t.$slots,"default")]),_:3})]),_:3})]),_:3},8,["fluid"])],2)}var M2=X(C2,[["render",O2]]);const Xp="IIcon";var T2=L({name:Xp,props:{name:{type:String,default:""},size:{type:String,default:W(Xp,"size"),validator:zr}},setup(t){const r=Ta("inklineIcons"),o=Oi(()=>R5(t.name)),e=Oi(()=>r[o.value]),a=Oi(()=>({"inkline-icon":!0,[`-${t.size}`]:Boolean(t.size)}));return da(()=>{o.value&&!r[o.value]&&console.error(`The icon ${o.value} is not registered.`)}),()=>{var i,n;return so("svg",y({class:a.value},(i=e.value)==null?void 0:i.attributes),rh(((n=e.value)==null?void 0:n.children)||[]))}}});function E2(t,r,o,e,a,i){const n=Rr("icon");return _(),jr(n,Wr({size:t.size},t.$attrs),null,16,["size"])}var dh=X(T2,[["render",E2]]);const Ol="IInput";var I2=L({name:Ol,mixins:[xo],inheritAttrs:!1,props:{color:{type:String,default:W(Ol,"color")},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:[Array,Boolean],default:()=>["touched","dirty","invalid"]},id:{type:String,default:void 0},modelValue:{type:[String,Number],default:""},name:{type:[String,Number],default(){return nt("input")}},plaintext:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},size:{type:String,default:W(Ol,"size"),validator:zr},tabindex:{type:[Number,String],default:0},type:{type:String,default:"text"},clearAriaLabel:{type:String,default:"Clear"}},emits:["update:modelValue","clear"],computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-disabled":this.isDisabled,"-error":this.hasError,"-readonly":this.isReadonly,"-prefixed":Boolean(this.$slots.prefix),"-suffixed":Boolean(this.$slots.suffix),"-prepended":Boolean(this.$slots.prepend),"-appended":Boolean(this.$slots.append)})},hasError(){if(typeof this.error=="boolean")return this.error;if(this.schema&&this.error){let t=!0;return[].concat(this.error).forEach(r=>{t=t&&this.schema[r]}),t}return!1},tabIndex(){return this.isDisabled?-1:this.tabindex},isClearable(){return this.clearable&&!this.isDisabled&&!this.isReadonly&&this.value!==""},value(){return this.schema?this.schema.value:this.modelValue}},methods:{onBlur(t){var r,o;(o=(r=this.parent).onBlur)==null||o.call(r,this.name,t)},onInput(t){var r,o;(o=(r=this.parent).onInput)==null||o.call(r,this.name,t.target.value),this.$emit("update:modelValue",t.target.value)},onClear(t){this.$emit("update:modelValue",""),this.$emit("clear",t)},focus(){this.$refs.input.focus()}}});const A2={key:0,class:"input-prepend"},N2={class:"input"},D2={key:0,class:"input-prefix"},B2=["value","name","id","type","tabindex","disabled","aria-disabled","readonly","aria-readonly"],P2={key:1,class:"input-suffix"},R2=["aria-label","aria-hidden"],L2={key:1,class:"input-append"};function F2(t,r,o,e,a,i){return _(),S("div",{class:er(["input-wrapper",t.classes])},[t.$slots.prepend?(_(),S("div",A2,[I(t.$slots,"prepend")])):ar("",!0),J("div",N2,[t.$slots.prefix?(_(),S("span",D2,[I(t.$slots,"prefix")])):ar("",!0),J("input",Wr(t.$attrs,{value:t.value,ref:"input",name:t.name,id:t.id,type:t.type,tabindex:t.tabIndex,disabled:t.isDisabled,"aria-disabled":t.isDisabled?"true":!1,readonly:t.isReadonly||t.plaintext,"aria-readonly":t.isReadonly||t.plaintext?"true":!1,onInput:r[0]||(r[0]=(...n)=>t.onInput&&t.onInput(...n)),onBlur:r[1]||(r[1]=(...n)=>t.onBlur&&t.onBlur(...n))}),null,16,B2),t.$slots.suffix||t.clearable&&t.isClearable?(_(),S("span",P2,[I(t.$slots,"clearable",{clear:t.onClear},()=>[t.clearable?Nr((_(),S("i",{key:0,class:"input-clear",role:"button","aria-label":t.clearAriaLabel,"aria-hidden":t.isClearable?"false":"true",onClick:r[2]||(r[2]=(...n)=>t.onClear&&t.onClear(...n))},null,8,R2)),[[Gr,t.isClearable]]):ar("",!0)]),I(t.$slots,"suffix")])):ar("",!0)]),t.$slots.append?(_(),S("div",L2,[I(t.$slots,"append")])):ar("",!0)],2)}var En=X(I2,[["render",F2]]);const Ml="INumberInput";var j2=L({name:Ml,components:{IButton:lh},extends:En,props:{color:{type:String,default:W(Ml,"color")},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String,default:""},modelValue:{type:[String,Number],default:""},name:{type:[String,Number],default(){return nt("input")}},readonly:{type:Boolean,default:!1},size:{type:String,default:W(Ml,"size"),validator:zr},tabindex:{type:[Number,String],default:0},min:{type:[Number,String],default:-1/0},max:{type:[Number,String],default:1/0},precision:{type:Number,default:0},step:{type:Number,default:1}},emits:["update:modelValue"],watch:{modelValue:{immediate:!0,handler(t){var o,e;let r=(t||"").toString().replace(/^[^0-9-]/,"").replace(/^(-)[^0-9]/,"$1").replace(new RegExp(`^(-?[0-9]+)[^0-9${this.precision>0?".":""}]`),"$1");this.precision>0&&(r=r.replace(/^(-?[0-9]+\.)[^0-9]/,"$1").replace(new RegExp(`^(-?[0-9]+\\.[0-9]{0,${this.precision}}).*`),"$1")),parseFloat(r)>=parseFloat(this.max)&&(r=this.max.toString()),parseFloat(r)<=parseFloat(this.min)&&(r=this.min.toString()),(e=(o=this.parent).onInput)==null||e.call(o,this.name,r),this.$emit("update:modelValue",r)}}},methods:{decrease(){this.$emit("update:modelValue",this.formatPrecision((Number(this.modelValue)-this.step).toString()))},increase(){this.$emit("update:modelValue",this.formatPrecision((Number(this.modelValue)+this.step).toString()))},formatPrecision(t){const r=t.split(".");let o=r[1]||"";for(let e=o.length;e<this.precision;e+=1)o+="0";return this.precision>0?`${r[0]}.${o}`:r[0]},onBlurFormatPrecision(t){var r,o;this.$emit("update:modelValue",this.formatPrecision(Number(this.modelValue).toString())),(o=(r=this.parent).onBlur)==null||o.call(r,this.name,t)}}});const V2={class:"input-prepend"},H2=jt(" - "),W2={class:"input"},K2={key:0,class:"input-prefix"},q2=["value","name","id","tabindex","disabled","aria-disabled","readonly","aria-readonly"],U2={key:1,class:"input-suffix"},J2=["aria-label","aria-hidden"],G2={class:"input-append"},Z2=jt(" + ");function Y2(t,r,o,e,a,i){const n=Rr("i-button");return _(),S("div",{class:er(["input-wrapper -prepended -appended",t.classes])},[J("div",V2,[I(t.$slots,"prepend"),hr(n,{type:"button",color:t.color,size:t.size,disabled:t.disabled,class:"input-button-decrease",onClick:t.decrease},{default:br(()=>[H2]),_:1},8,["color","size","disabled","onClick"])]),J("div",W2,[t.$slots.prefix?(_(),S("span",K2,[I(t.$slots,"prefix")])):ar("",!0),J("input",Wr(t.$attrs,{value:t.value,ref:"input",name:t.name,id:t.id,type:"text",tabindex:t.tabIndex,disabled:t.isDisabled,"aria-disabled":t.isDisabled?"true":!1,readonly:t.isReadonly,"aria-readonly":t.isReadonly?"true":!1,onInput:r[0]||(r[0]=(...l)=>t.onInput&&t.onInput(...l)),onBlur:r[1]||(r[1]=(...l)=>t.onBlur&&t.onBlur(...l))}),null,16,q2),t.$slots.suffix||t.clearable&&t.isClearable?(_(),S("span",U2,[I(t.$slots,"clearable",{clear:t.onClear},()=>[t.clearable?Nr((_(),S("i",{key:0,class:"input-clear",role:"button","aria-label":t.clearAriaLabel,"aria-hidden":t.isClearable?"false":"true",onClick:r[2]||(r[2]=(...l)=>t.onClear&&t.onClear(...l))},null,8,J2)),[[Gr,t.isClearable]]):ar("",!0)]),I(t.$slots,"suffix")])):ar("",!0)]),J("div",G2,[hr(n,{type:"button",color:t.color,size:t.size,disabled:t.disabled,class:"input-button-increase",onClick:t.increase},{default:br(()=>[Z2]),_:1},8,["color","size","disabled","onClick"]),I(t.$slots,"append")])],2)}var X2=X(j2,[["render",Y2]]);const Tl="ITextarea";var Q2=L({name:Tl,extends:En,props:{color:{type:String,default:W(Tl,"color")},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},id:{type:String,default:""},modelValue:{type:String,default:""},name:{type:[String,Number],default(){return nt("textarea")}},readonly:{type:Boolean,default:!1},size:{type:String,default:W(Tl,"size"),validator:zr},tabindex:{type:[Number,String],default:0}},emits:["update:modelValue"]});const r4={key:0,class:"input-prepend"},t4={class:"input"},o4={key:0,class:"input-prefix"},e4=["value","name","id","tabindex","disabled","aria-disabled","readonly","aria-readonly"],a4={key:1,class:"input-suffix"},i4={key:1,class:"input-append"};function n4(t,r,o,e,a,i){return _(),S("div",{class:er(["input-wrapper",t.classes])},[t.$slots.prepend?(_(),S("div",r4,[I(t.$slots,"prepend")])):ar("",!0),J("div",t4,[t.$slots.prefix?(_(),S("span",o4,[I(t.$slots,"prefix")])):ar("",!0),J("textarea",Wr(t.$attrs,{value:t.value,ref:"input",role:"textbox",name:t.name,id:t.id,tabindex:t.tabIndex,disabled:t.isDisabled,"aria-disabled":t.isDisabled?"true":!1,readonly:t.isReadonly,"aria-readonly":t.isReadonly?"true":!1,"aria-multiline":"true",onInput:r[0]||(r[0]=(...n)=>t.onInput&&t.onInput(...n)),onBlur:r[1]||(r[1]=(...n)=>t.onBlur&&t.onBlur(...n))}),null,16,e4),t.$slots.suffix||t.clearable&&t.isClearable?(_(),S("span",a4,[I(t.$slots,"clearable",{clear:t.onClear},()=>[Nr(J("i",{class:"input-clear","aria-label":"Clear",onClick:r[2]||(r[2]=(...n)=>t.onClear&&t.onClear(...n))},null,512),[[Gr,t.isClearable]])]),I(t.$slots,"suffix")])):ar("",!0)]),t.$slots.append?(_(),S("div",i4,[I(t.$slots,"append")])):ar("",!0)],2)}var l4=X(Q2,[["render",n4]]);const s4="ILayout";var c4=L({name:s4,props:{vertical:{type:Boolean,default:!1}},computed:{classes(){return{"-vertical":this.vertical}}}});function d4(t,r,o,e,a,i){return _(),S("main",{class:er(["layout",t.classes])},[I(t.$slots,"default",{},void 0,!0)],2)}var p4=X(c4,[["render",d4],["__scopeId","data-v-e54ee446"]]);const g4="ILayoutAside";var u4=L({name:g4});const m4={class:"layout-aside"},h4={class:"layout-aside-children"};function f4(t,r,o,e,a,i){return _(),S("aside",m4,[J("div",h4,[I(t.$slots,"default",{},void 0,!0)])])}var v4=X(u4,[["render",f4],["__scopeId","data-v-7f70120e"]]);const b4="ILayoutContent";var x4=L({name:b4});const y4={class:"layout-content"};function w4(t,r,o,e,a,i){return _(),S("section",y4,[I(t.$slots,"default",{},void 0,!0)])}var k4=X(x4,[["render",w4],["__scopeId","data-v-199dc92d"]]);const _4="ILayoutFooter";var z4=L({name:_4});const S4={class:"layout-footer"};function $4(t,r,o,e,a,i){return _(),S("footer",S4,[I(t.$slots,"default",{},void 0,!0)])}var C4=X(z4,[["render",$4],["__scopeId","data-v-cbbb0aba"]]);const O4="ILayoutHeader";var M4=L({name:O4});const T4={class:"layout-header"};function E4(t,r,o,e,a,i){return _(),S("header",T4,[I(t.$slots,"default",{},void 0,!0)])}var I4=X(M4,[["render",E4],["__scopeId","data-v-dbdcc31e"]]);const El="IListGroup";var A4=L({name:El,props:{border:{type:Boolean,default:!0},color:{type:String,default:W(El,"color")},size:{type:String,default:W(El,"size"),validator:zr}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-border":this.border})}}});function N4(t,r,o,e,a,i){return _(),S("div",{class:er(["list-group",t.classes]),role:"list"},[I(t.$slots,"default")],2)}var D4=X(A4,[["render",N4]]);const B4="IListGroupItem";var P4=L({name:B4,mixins:[ha],props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},tag:{type:String,default:"div"},tabindex:{type:[Number,String],default:0}},computed:{ariaDisabled(){return this.role==="link"?null:this.disabled?"true":"false"},classes(){return{"-active":this.active,"-disabled":this.disabled}},role(){return this.$attrs.to||this.$attrs.href?"link":"listitem"},tabIndex(){return this.disabled?-1:this.tabindex}}});function R4(t,r,o,e,a,i){return _(),jr(oi(t.isTag),Wr(t.$attrs,{class:["list-group-item",t.classes],tag:t.tag,role:t.role,tabindex:t.tabIndex,disabled:t.disabled,"aria-disabled":t.ariaDisabled}),{default:br(()=>[I(t.$slots,"default")]),_:3},16,["tag","role","tabindex","class","disabled","aria-disabled"])}var L4=X(P4,[["render",R4]]);const F4=M5(O5),j4="IMark";var V4=L({name:j4,props:{text:{type:String,default:""},query:{type:String,default:""}},computed:{parts(){return F4(this.text,this.query)}}});const H4={key:0};function W4(t,r,o,e,a,i){return _(),S("span",null,[(_(!0),S(Ar,null,ei(t.parts,({text:n,marked:l})=>(_(),S(Ar,null,[l?(_(),S("mark",H4,So(n),1)):(_(),S(Ar,{key:1},[jt(So(n),1)],64))],64))),256))])}var ph=X(V4,[["render",W4]]);const K4="IMedia";var q4=L({name:K4});const U4={class:"media"},J4={class:"media-body"};function G4(t,r,o,e,a,i){return _(),S("div",U4,[I(t.$slots,"image"),J("div",J4,[I(t.$slots,"default")])])}var Z4=X(q4,[["render",G4]]);const rt={instances:{},stack:[],zIndex:1050,register(t){t&&t.name&&(rt.instances[t.name]=t)},unregister(t){t&&t.name&&(rt.instances[t.name]=null,delete rt.instances[t.name])},open(t){typeof window!="undefined"&&(rt.stack.push(t),rt.instances[t].$el.style.zIndex=rt.zIndex++)},close(t){typeof window!="undefined"&&rt.stack.splice(rt.stack.indexOf(t),1)},getTopOverlay(){const t=rt.stack.slice(-1)[0]||"";return rt.instances[t]},onPressEscape(){const t=rt.getTopOverlay();t&&t.closeOnPressEscape&&t.hide()}};typeof window!="undefined"&&window.addEventListener("keydown",t=>{Tr("esc",t)&&rt.onPressEscape()});const Il="IModal";var Y4=L({name:Il,directives:{ClickOutside:fa},props:{closeOnPressEscape:{type:Boolean,default:!0},closeAriaLabel:{type:String,default:"Close"},color:{type:String,default:W(Il,"color")},disabled:{type:Boolean,default:!1},hideOnClickOutside:{type:Boolean,default:!0},name:{type:String,default(){return nt("modal")}},showClose:{type:Boolean,default:!0},size:{type:String,default:W(Il,"size"),validator:zr},modelValue:{type:Boolean,default:!1},transition:{type:String,default:"zoom-in-center-transition"}},emits:["update:modelValue"],data(){return{visible:this.modelValue}},computed:{classes(){return lr(y({"-disabled":this.disabled},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})}},watch:{modelValue(t){t?this.show():this.hide()}},mounted(){rt.register(this)},unmounted(){rt.unregister(this)},methods:{show(){this.disabled||(this.visible=!0,this.$emit("update:modelValue",!0),rt.open(this.name),typeof window!="undefined"&&Tc(window.document.body,"-modal"))},hide(){this.disabled||(this.visible=!1,this.$emit("update:modelValue",!1),rt.close(this.name),typeof window!="undefined"&&th(window.document.body,"-modal"))},onClickOutside(){!this.hideOnClickOutside||this.hide()}}});const X4=["aria-hidden","id","name","aria-labelledby"],Q4={class:"modal"},rz=["id"],tz=["aria-label"],oz=J("i",{class:"icon"},null,-1),ez={key:1,class:"modal-body"},az={key:2,class:"modal-footer"};function iz(t,r,o,e,a,i){const n=ga("click-outside");return _(),jr(Ot,{name:"fade-in-transition"},{default:br(()=>[Nr(J("div",{class:er(["modal-wrapper",t.classes]),role:"dialog","aria-modal":"true","aria-hidden":t.visible?"false":"true",id:t.name,name:t.name,"aria-labelledby":`${t.name}-header`},[hr(Ot,{name:t.transition},{default:br(()=>[Nr((_(),S("div",Q4,[t.$slots.header?(_(),S("div",{key:0,class:"modal-header",id:`${t.name}-header`},[I(t.$slots,"header"),t.showClose?(_(),S("button",{key:0,class:"close","aria-hidden":"true","aria-label":t.closeAriaLabel,onClick:r[0]||(r[0]=(...l)=>t.hide&&t.hide(...l))},[I(t.$slots,"close",{},()=>[oz])],8,tz)):ar("",!0)],8,rz)):ar("",!0),t.$slots.default?(_(),S("div",ez,[I(t.$slots,"default")])):ar("",!0),t.$slots.footer?(_(),S("div",az,[I(t.$slots,"footer")])):ar("",!0)])),[[n,t.onClickOutside],[Gr,t.visible]])]),_:3},8,["name"])],10,X4),[[Gr,t.visible]])]),_:3})}var nz=X(Y4,[["render",iz]]);const Al="INav";var lz=L({name:Al,provide(){return{nav:this}},inject:{navbar:{default:()=>({onItemClick:()=>{}})},sidebar:{default:()=>({onItemClick:()=>{}})}},props:{color:{type:String,default:W(Al,"color")},size:{type:String,default:W(Al,"size"),validator:zr},vertical:{type:Boolean,default:!1}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-vertical":this.vertical})}},methods:{onItemClick(){[this.navbar,this.sidebar].forEach(t=>{t.onItemClick()})}}});function sz(t,r,o,e,a,i){return _(),S("nav",{class:er(["nav",t.classes]),role:"menubar"},[I(t.$slots,"default")],2)}var cz=X(lz,[["render",sz]]);const dz="INavItem";var pz=L({name:dz,mixins:[ha],inject:{nav:{default:()=>({onItemClick:()=>{}})}},inheritAttrs:!1,props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},stopPropagation:{type:Boolean,default:!1},tag:{type:String,default:"div"},tabindex:{type:[Number,String],default:0}},computed:{ariaDisabled(){return this.role==="link"?null:this.disabled?"true":"false"},classes(){return{"-active":this.active,"-disabled":this.disabled}},role(){return this.$attrs.to||this.$attrs.href?"link":"menuitem"},tabIndex(){return this.disabled?-1:this.tabindex}},methods:{onClick(t){this.stopPropagation||this.nav.onItemClick(this,t)}}});function gz(t,r,o,e,a,i){return _(),jr(oi(t.isTag),Wr(t.$attrs,{class:["nav-item",t.classes],role:t.role,tag:t.tag,tabindex:t.tabIndex,disabled:t.disabled,"aria-disabled":t.ariaDisabled,onClick:t.onClick}),{default:br(()=>[I(t.$slots,"default")]),_:3},16,["role","tag","tabindex","class","disabled","aria-disabled","onClick"])}var uz=X(pz,[["render",gz]]);const Nl="INavbar";var mz=L({name:Nl,components:{IContainer:Dc,IRow:Bc,IColumn:Nc,IHamburgerMenu:ch},directives:{ClickOutside:fa},mixins:[ah],provide(){return{navbar:this}},props:{collapseOnItemClick:{type:Boolean,default:!0},collapseOnClickOutside:{type:Boolean,default:!0},color:{type:String,default:W(Nl,"color")},fluid:{type:Boolean,default:!1},size:{type:String,default:W(Nl,"size"),validator:zr},menuAnimation:{type:String,default:"close"}},emits:["update:modelValue"],computed:{classes(){return lr(y(y({},this.collapsibleClasses),Sr(this)),{[`-${this.size}`]:Boolean(this.size)})}},methods:{onItemClick(){this.collapseOnItemClick&&this.open&&this.setOpen(!1)},onClickOutside(){this.collapseOnClickOutside&&this.open&&this.setOpen(!1)}}});function hz(t,r,o,e,a,i){const n=Rr("i-hamburger-menu"),l=Rr("i-column"),s=Rr("i-row"),c=Rr("i-container"),d=ga("click-outside");return Nr((_(),S("nav",Wr({class:["navbar",t.classes]},t.$attrs),[hr(c,{fluid:t.fluid},{default:br(()=>[hr(s,null,{default:br(()=>[hr(l,null,{default:br(()=>[hr(n,{class:"collapse-toggle",animation:t.menuAnimation,color:t.color,modelValue:t.open,"onUpdate:modelValue":t.toggleOpen},null,8,["animation","color","modelValue","onUpdate:modelValue"]),I(t.$slots,"default")]),_:3})]),_:3})]),_:3},8,["fluid"])],16)),[[d,t.onClickOutside]])}var fz=X(mz,[["render",hz]]);const vz="INavbarBrand";var bz=L({name:vz,mixins:[ha],props:{tag:{type:String,default:"div"}}});function xz(t,r,o,e,a,i){return _(),jr(oi(t.isTag),{class:"navbar-brand",tag:t.tag,translate:"no"},{default:br(()=>[I(t.$slots,"default")]),_:3},8,["tag"])}var yz=X(bz,[["render",xz]]);const wz="INavbarCollapsible";var kz=L({name:wz,components:{IExpandTransition:sh},inject:{navbar:{default:()=>({})}},computed:{visible(){return this.navbar.open||!this.navbar.collapsible}}});const _z=["aria-hidden","aria-expanded"];function zz(t,r,o,e,a,i){const n=Rr("i-expand-transition");return _(),jr(n,null,{default:br(()=>[Nr(J("div",{class:"navbar-collapsible","aria-hidden":t.visible?"false":"true","aria-expanded":t.visible?"true":"false"},[I(t.$slots,"default")],8,_z),[[Gr,t.visible]])]),_:3})}var Sz=X(kz,[["render",zz]]);const Dl="IPagination";var $z=L({name:Dl,props:{ariaLabel:{type:String,default:"Pagination"},color:{type:String,default:W(Dl,"color")},itemsPerPage:{type:Number,default:20},itemsTotal:{type:Number,default:0},limit:{type:[Number,Object],default(){return{xs:3,sm:5}}},quickLink:{type:Boolean,default:!1},modelValue:{type:Number,default:1},size:{type:String,default:W(Dl,"size"),validator:zr}},emits:["update:modelValue"],data(){return{pageLimit:5}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})},pageCount(){return Math.ceil(this.itemsTotal/this.itemsPerPage)},showQuickPrevious(){return this.pageCount>this.pageLimit&&this.modelValue>this.pageLimit-(this.pageLimit-1)/2},showQuickNext(){return this.pageCount>this.pageLimit&&this.modelValue<this.pageCount-(this.pageLimit-1)/2},pages(){const t=[];if(this.showQuickPrevious&&!this.showQuickNext){const r=this.pageCount-(this.pageLimit-2);for(let o=r;o<this.pageCount;o++)t.push(o)}else if(!this.showQuickPrevious&&this.showQuickNext)for(let r=2;r<this.pageLimit;r++)t.push(r);else if(this.showQuickPrevious&&this.showQuickNext){const r=Math.floor(this.pageLimit/2)-1;for(let o=this.modelValue-r;o<=this.modelValue+r;o++)t.push(o)}else for(let r=2;r<this.pageCount;r++)t.push(r);return t}},created(){this.debouncedOnWindowResize=_5(this.onWindowResize,250),typeof window!="undefined"&&(window.addEventListener("resize",this.debouncedOnWindowResize),this.onWindowResize())},unmounted(){typeof window!="undefined"&&window.removeEventListener("resize",this.debouncedOnWindowResize)},methods:{next(){this.modelValue!==this.pageCount&&this.onClick(this.modelValue+1)},quickNext(){if(!this.quickLink)return;const t=this.modelValue+(this.pageLimit-2);this.onClick(t>this.pageCount?this.pageCount:t)},previous(){this.modelValue!==1&&this.onClick(this.modelValue-1)},quickPrevious(){if(!this.quickLink)return;const t=this.modelValue-(this.pageLimit-2);this.onClick(t<1?1:t)},onClick(t){this.$emit("update:modelValue",t)},onWindowResize(){if(typeof this.limit=="number")return this.pageLimit=this.limit,this.pageLimit;for(const t of Ic.slice().reverse())if(this.limit.hasOwnProperty(t)&&typeof window!="undefined"&&window.innerWidth>=Ai[t][0])return this.pageLimit=this.limit[t],this.pageLimit}}});const Cz=["aria-label"],Oz={class:"pagination-items"},Mz={"aria-hidden":"true"},Tz=jt("<"),Ez=["aria-current","onClick"],Iz={"aria-hidden":"true"},Az=jt(">");function Nz(t,r,o,e,a,i){return _(),S("nav",{class:er(["pagination",t.classes]),role:"navigation","aria-label":t.ariaLabel},[J("ul",Oz,[t.pageCount>0?(_(),S("li",{key:0,class:er(["pagination-item -previous",{"-disabled":t.modelValue===1}]),onClick:r[0]||(r[0]=(...n)=>t.previous&&t.previous(...n))},[J("span",Mz,[I(t.$slots,"previous",{},()=>[Tz])])],2)):ar("",!0),t.pageCount>0?(_(),S("li",{key:1,class:er(["pagination-item -first",{"-active":t.modelValue===1}]),onClick:r[1]||(r[1]=n=>t.onClick(1))}," 1 ",2)):ar("",!0),t.showQuickPrevious?(_(),S("li",{key:2,class:er(["pagination-item -quick-previous",{"-disabled":!t.quickLink}]),onClick:r[2]||(r[2]=(...n)=>t.quickPrevious&&t.quickPrevious(...n))}," \u2026 ",2)):ar("",!0),(_(!0),S(Ar,null,ei(t.pages,n=>(_(),S("li",{class:er(["pagination-item",{"-active":t.modelValue===n}]),"aria-current":t.modelValue===n?"page":!1,onClick:l=>t.onClick(n)},So(n),11,Ez))),256)),t.showQuickNext?(_(),S("li",{key:3,class:er(["pagination-item -quick-next",{"-disabled":!t.quickLink}]),onClick:r[3]||(r[3]=(...n)=>t.quickNext&&t.quickNext(...n))}," \u2026 ",2)):ar("",!0),t.pageCount>1?(_(),S("li",{key:4,class:er(["pagination-item -last",{"-active":t.modelValue===t.pageCount}]),onClick:r[4]||(r[4]=n=>t.onClick(t.pageCount))},So(t.pageCount),3)):ar("",!0),t.pageCount>0?(_(),S("li",{key:5,class:er(["pagination-item -next",{"-disabled":t.modelValue===t.pageCount}]),onClick:r[5]||(r[5]=(...n)=>t.next&&t.next(...n))},[J("span",Iz,[I(t.$slots,"next",{},()=>[Az])])],2)):ar("",!0)])],10,Cz)}var Dz=X($z,[["render",Nz]]);const Bl="IPopover";var Bz=L({name:Bl,directives:{ClickOutside:fa},mixins:[Tn,Ac],props:{color:{type:String,default:W(Bl,"color")},disabled:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},name:{type:String,default(){return nt("popover")}},arrow:{type:Boolean,default:!0},placement:{type:String,default:"top"},trigger:{type:[String,Array],default:()=>["click"]},offset:{type:Number,default:6},popperOptions:{type:Object,default:()=>({})},size:{type:String,default:W(Bl,"size"),validator:zr}},emits:["update:modelValue"],computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})}},methods:{onEscape(){this.visible=!1,this.$emit("update:modelValue",!1)},handleClickOutside(){this.visible=!1,this.$emit("update:modelValue",!1),this.onClickOutside()}}});const Pz=["id"],Rz=["aria-describedby","aria-disabled","aria-expanded"],Lz=["id","aria-hidden"],Fz={key:0,"data-popper-arrow":""},jz={key:1,class:"popover-header"},Vz={key:2,class:"popover-body"},Hz={key:3,class:"popover-footer"};function Wz(t,r,o,e,a,i){const n=ga("click-outside");return Nr((_(),S("div",{class:er(["popover-wrapper",t.classes]),ref:"wrapper",id:t.name,onKeyup:r[0]||(r[0]=Me((...l)=>t.onEscape&&t.onEscape(...l),["esc"]))},[J("div",{class:"popover-trigger",ref:"trigger","aria-describedby":`${t.name}-popup`,"aria-disabled":t.disabled?"true":"false","aria-expanded":t.visible?"true":"false"},[I(t.$slots,"default")],8,Rz),hr(Ot,{name:"zoom-in-top-transition",onAfterLeave:t.destroyPopper},{default:br(()=>[Nr(J("div",{class:"popover",ref:"popup",role:"tooltip","aria-live":"polite",id:`${t.name}-popup`,"aria-hidden":t.visible?"false":"true"},[t.arrow?(_(),S("span",Fz)):ar("",!0),t.$slots.header?(_(),S("div",jz,[I(t.$slots,"header")])):ar("",!0),t.$slots.body?(_(),S("div",Vz,[I(t.$slots,"body")])):ar("",!0),t.$slots.footer?(_(),S("div",Hz,[I(t.$slots,"footer")])):ar("",!0)],8,Lz),[[Gr,t.visible]])]),_:3},8,["onAfterLeave"])],42,Pz)),[[n,t.onClickOutside]])}var Kz=X(Bz,[["render",Wz]]);const Pl="IProgress";var qz=L({name:Pl,provide(){return{progress:this}},props:{color:{type:String,default:W(Pl,"color")},min:{type:[String,Number],default:0},max:{type:[String,Number],default:100},size:{type:String,default:W(Pl,"size"),validator:zr}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})}}});function Uz(t,r,o,e,a,i){return _(),S("div",{class:er(["progress",t.classes])},[I(t.$slots,"default")],2)}var Jz=X(qz,[["render",Uz]]);const Qp="IProgressBar";var Gz=L({name:Qp,inject:{progress:{default:()=>({min:0,max:100})}},props:{color:{type:String,default:W(Qp,"color","primary")},value:{type:[String,Number],default:0}},computed:{computedValue(){const t=typeof this.min=="string"?parseFloat(this.min):this.min,r=typeof this.value=="string"?parseFloat(this.value.replace("%","")):this.value,o=typeof this.max=="string"?parseFloat(this.max):this.max;return(r-t)*100/(o-t)},min(){return this.progress.min},max(){return this.progress.max},style(){return{width:`${this.computedValue}%`}},classes(){return y({},Sr(this))}}});const Zz=["aria-valuemin","aria-valuemax","aria-valuenow"];function Yz(t,r,o,e,a,i){return _(),S("div",{class:er(["progress-bar",t.classes]),style:en(t.style),role:"progressbar","aria-valuemin":t.min,"aria-valuemax":t.max,"aria-valuenow":t.computedValue},[I(t.$slots,"default")],14,Zz)}var Xz=X(Gz,[["render",Yz]]);const Rl="IRadio";var Qz=L({name:Rl,mixins:[xo],props:{color:{type:String,default:W(Rl,"color")},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},value:{default:""},modelValue:{default:!1},name:{type:[String,Number],default(){return nt("radio")}},native:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},size:{type:String,default:W(Rl,"size"),validator:zr},tabindex:{type:[Number,String],default:0}},emits:["update:modelValue"],computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-disabled":this.isDisabled,"-readonly":this.isReadonly,"-native":this.native})},checked(){return this.formGroup.checked===this.value},tabIndex(){return this.isDisabled?-1:this.tabindex}},methods:{clickInputRef(){this.isReadonly||this.$refs.input.click()},onChange(t){var r,o,e,a;(o=(r=this.parent).onInput)==null||o.call(r,this.name,t.target.checked),(a=(e=this.formGroup).onChange)==null||a.call(e,this.value),this.$emit("update:modelValue",t.target.checked)},onBlur(t){var r,o;(o=(r=this.parent).onBlur)==null||o.call(r,this.name,t)}}});const r7=["checked","name","disabled","readonly",".indeterminate"],t7=["aria-checked","aria-disabled","aria-readonly","tabindex"];function o7(t,r,o,e,a,i){return _(),S("div",{class:er(["radio",t.classes]),role:"radio"},[J("input",{checked:t.checked,ref:"input",type:"radio",tabindex:"-1",name:t.name,disabled:t.isDisabled,readonly:t.isReadonly,".indeterminate":t.indeterminate,onChange:r[0]||(r[0]=(...n)=>t.onChange&&t.onChange(...n))},null,40,r7),J("label",{class:"radio-label","aria-checked":t.checked,"aria-disabled":t.isDisabled,"aria-readonly":t.isReadonly,tabindex:t.tabIndex,onBlur:r[1]||(r[1]=(...n)=>t.onBlur&&t.onBlur(...n)),onClick:r[2]||(r[2]=(...n)=>t.clickInputRef&&t.clickInputRef(...n)),onKeydown:r[3]||(r[3]=Me(oc((...n)=>t.clickInputRef&&t.clickInputRef(...n),["stop","prevent"]),["space"]))},[I(t.$slots,"default")],40,t7)],2)}var e7=X(Qz,[["render",o7]]);const Ll="IRadioGroup";var a7=L({name:Ll,mixins:[xo],provide(){return{formGroup:this}},props:{color:{type:String,default:W(Ll,"color")},disabled:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},modelValue:{default:""},name:{type:[String,Number],default(){return nt("radio-group")}},readonly:{type:Boolean,default:!1},size:{type:String,default:W(Ll,"size"),validator:zr}},emits:["update:modelValue"],computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-disabled":this.isDisabled,"-readonly":this.isReadonly,"-inline":this.inline})},checked(){return this.schema?this.schema.value:this.modelValue}},methods:{onChange(t){var r,o;(o=(r=this.parent).onInput)==null||o.call(r,this.name,t),this.$emit("update:modelValue",t)}}});const i7=["name"];function n7(t,r,o,e,a,i){return _(),S("div",{class:er(["form-group radio-group",t.classes]),name:t.name,role:"radiogroup"},[I(t.$slots,"default",{},void 0,!0)],10,i7)}var l7=X(a7,[["render",n7],["__scopeId","data-v-48fe68ff"]]);const s7="ISelectOption";var c7=L({name:s7,inject:{select:{default:()=>({})}},props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},label:{type:String,default:""},tabindex:{type:[Number,String],default:0},value:{type:[Object,String,Number],default:()=>({})}},computed:{ariaDisabled(){return this.disabled?"true":"false"},ariaSelected(){return this.active?"true":"false"},isActive(){return this.active||this.value===this.select.modelValue},classes(){return{"-active":this.isActive,"-disabled":this.disabled}},tabIndex(){return this.disabled?-1:this.tabindex}},methods:{onClick(){this.disabled||this.select.onInput(this.value,this.label)}}});const d7=["tabindex","aria-disabled","aria-selected"];function p7(t,r,o,e,a,i){return _(),S("div",Wr(t.$attrs,{class:["select-option",t.classes],role:"option",tabindex:t.tabIndex,"aria-disabled":t.ariaDisabled,"aria-selected":t.ariaSelected,onClick:r[0]||(r[0]=(...n)=>t.onClick&&t.onClick(...n))}),[I(t.$slots,"default",{},()=>[jt(So(t.label),1)])],16,d7)}var gh=X(c7,[["render",p7]]);const Fl="ISelect";var g7=L({name:Fl,directives:{ClickOutside:fa},components:{IInput:En,IIcon:dh,ISelectOption:gh,IMark:ph},mixins:[xo,Tn],provide(){return{select:this}},props:{animationDuration:{type:Number,default:300},autocomplete:{type:Boolean,default:!1},arrow:{type:Boolean,default:!0},color:{type:String,default:W(Fl,"color")},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},idField:{type:String,default:"id"},keydownTrigger:{type:Array,default:()=>["up","down","enter","space","tab","esc"]},keydownItem:{type:Array,default:()=>["up","down","enter","space","tab","esc"]},label:{type:[String,Function],default:"label"},loading:{type:Boolean,default:!1},modelValue:{type:[Object,String,Number],default:null},minLength:{type:Number,default:0},name:{type:[String,Number],default:()=>nt("select")},options:{type:Array,default:()=>[]},placeholder:{type:String,default:""},offset:{type:Number,default:6},placement:{type:String,default:"bottom"},popperOptions:{type:Object,default:()=>({modifiers:[...ih({offset:8}),S3()]})},readonly:{type:Boolean,default:!1},scrollTolerance:{type:Number,default:160},selectFirstOptionOnEnter:{type:Boolean,default:!0},size:{type:String,default:W(Fl,"size"),validator:zr},tabindex:{type:[Number,String],default:0},type:{type:String,default:"text"},total:{type:Number,default:void 0}},emits:["update:modelValue","search","pagination"],data(){return{animating:!1,visible:!1,inputValue:this.computeLabel(this.modelValue)||""}},computed:{wrapperClasses(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})},popupClasses(){return{"-disabled":this.isDisabled,"-readonly":this.isReadonly}},tabIndex(){return this.isDisabled?-1:this.tabindex},isClearable(){return this.value&&this.clearable&&!this.isDisabled&&!this.isReadonly},value(){return this.schema?this.schema.value:this.modelValue},inputPlaceholder(){return this.value?this.computeLabel(this.value):this.placeholder}},watch:{value(t){this.inputValue=this.computeLabel(t)},inputValue(t){const r=this.inputMatchesLength(t),o=this.inputMatchesLabel(t);r&&!o&&!this.animating&&this.show(),this.$emit("search",this.inputValue)},options(){this.visible&&this.createPopper()}},methods:{onInput(t,r){var o,e;t.disabled||(this.hide(),r&&(this.inputValue=r),(e=(o=this.parent).onInput)==null||e.call(o,this.name,t),this.$emit("update:modelValue",t))},onClear(){this.animating=!0,this.$emit("update:modelValue",null),this.$nextTick(()=>{this.animating=!1})},onFocus(t){if(!this.value&&this.options.length===0)return;this.autocomplete&&(this.inputValue=""),(!t.relatedTarget||!this.$refs.wrapper.contains(t.relatedTarget))&&this.inputShouldShowSelect(this.inputValue)&&this.show()},onBlur(t){var o,e;(!t.relatedTarget||!this.$refs.wrapper.contains(t.relatedTarget))&&(this.hide(),this.inputValue=this.computeLabel(this.value)),(e=(o=this.parent).onBlur)==null||e.call(o,this.name,t)},onClick(){this.autocomplete&&(this.inputValue=""),this.inputShouldShowSelect(this.inputValue)&&this.show()},onClickOutside(){this.hide()},onClickCaret(t){this.visible?this.onBlur(t):(this.focus(),this.onFocus(t)),t.preventDefault(),t.stopPropagation()},onScroll(){if(isNaN(this.total))return;const t=this.$refs.body.scrollTop,r=parseInt(getComputedStyle(this.$refs.body).height,10),o=parseInt(getComputedStyle(this.$refs.options).height,10),e=t+r>o-this.scrollTolerance,a=this.options.length>=this.total;e&&!a&&this.options.length>0&&!this.loading&&this.$emit("pagination")},onWindowResize(){this.onScroll(),this.visible&&this.$nextTick().then(()=>this.createPopper())},onTriggerKeyDown(t){if(this.keydownTrigger.length===0)return;const r=this.getFocusableItems(),o=r.findIndex(i=>i.active),e=o>-1?o:0,a=r[e];switch(!0){case(Tr("up",t)&&this.keydownTrigger.includes("up")):case(Tr("down",t)&&this.keydownTrigger.includes("down")):this.show(),setTimeout(()=>{a.focus()},this.visible?0:this.animationDuration),t.preventDefault(),t.stopPropagation();break;case(Tr("enter",t)&&this.keydownTrigger.includes("enter")):if(this.selectFirstOptionOnEnter&&(!this.value||!this.inputMatchesLabel(this.inputValue))){const i=this.options.find(n=>!n.disabled);i&&(this.onInput(i),this.focus())}else this.onClick();this.visible||setTimeout(()=>{a.focus()},this.animationDuration),t.preventDefault();break;case(Tr("tab",t)&&this.keydownTrigger.includes("tab")):case(Tr("esc",t)&&this.keydownTrigger.includes("esc")):this.hide();break}},onItemKeyDown(t){if(this.keydownItem.length!==0)switch(!0){case(Tr("up",t)&&this.keydownItem.includes("up")):case(Tr("down",t)&&this.keydownItem.includes("down")):const r=this.getFocusableItems(),o=r.findIndex(i=>i===t.target),e=r.length-1;let a;Tr("up",t)?a=o>0?o-1:0:a=o<e?o+1:e,r[a].focus(),t.preventDefault(),t.stopPropagation();break;case(Tr("enter",t)&&this.keydownItem.includes("enter")):case(Tr("space",t)&&this.keydownItem.includes("space")):t.target.click(),this.focus(),t.preventDefault();break;case(Tr("tab",t)&&this.keydownItem.includes("tab")):case(Tr("esc",t)&&this.keydownItem.includes("esc")):this.hide(),this.focus(),t.preventDefault();break}},onEscape(){this.hide()},show(){this.isDisabled||this.isReadonly||this.visible||(this.visible=!0,this.createPopper())},hide(){!this.visible||(this.visible=!1,this.animating=!0,setTimeout(()=>{this.animating=!1},this.animationDuration))},focus(){this.$refs.trigger.focus()},getFocusableItems(){const t=[];for(const r of this.$refs.options.children)Ec(r)&&t.push(r);return t},getElementHeight(t){const r=getComputedStyle(t);return r.height?Math.ceil(parseFloat(r.height)):NaN},inputMatchesLabel(t){return this.value&&t===this.computeLabel(this.value)},inputMatchesLength(t){return this.minLength===0||t&&t.length>=this.minLength},inputShouldShowSelect(t){return this.autocomplete?this.inputMatchesLength(t)&&!this.inputMatchesLabel(t):!0},computeLabel(t){return typeof t!="object"?this.inputValue:Xm(this.label)?this.label(t):Xo(t,this.label)}}});const u7=["id","name","aria-owns","aria-expanded"],m7=["id","aria-hidden"],h7={key:0,"data-popper-arrow":""},f7={key:1,class:"select-header"},v7={key:0,class:"select-no-results"},b7=jt(" There are no results for your query. "),x7={class:"select-options",ref:"options"},y7={key:2,class:"select-footer"};function w7(t,r,o,e,a,i){const n=Rr("i-input"),l=Rr("i-mark"),s=Rr("i-select-option"),c=ga("click-outside");return Nr((_(),S("div",{class:er(["select-wrapper",t.wrapperClasses]),id:t.name,name:t.name,ref:"wrapper",role:"combobox","aria-haspopup":"listbox","aria-owns":`${t.name}-options`,"aria-expanded":t.visible?"true":"false",onKeyup:r[3]||(r[3]=Me((...d)=>t.onEscape&&t.onEscape(...d),["esc"]))},[hr(n,{modelValue:t.inputValue,"onUpdate:modelValue":r[1]||(r[1]=d=>t.inputValue=d),ref:"trigger",autocomplete:"off","aria-autocomplete":"both","aria-controls":`${t.name}-options`,disabled:t.isDisabled,readonly:t.isReadonly,tabindex:t.tabIndex,plaintext:!t.autocomplete,placeholder:t.inputPlaceholder,clearable:t.isClearable,color:t.color,size:t.size,name:`${t.name}-input`,onClick:t.onClick,onFocus:t.onFocus,onBlur:t.onBlur,onClear:t.onClear,onKeydown:t.onTriggerKeyDown},Ff({suffix:br(()=>[I(t.$slots,"suffix"),J("button",{class:"select-caret","aria-hidden":"true",role:"button",onClick:r[0]||(r[0]=(...d)=>t.onClickCaret&&t.onClickCaret(...d))})]),_:2},[t.$slots.prepend?{name:"prepend",fn:br(()=>[I(t.$slots,"prepend")])}:void 0,t.$slots.prefix?{name:"prefix",fn:br(()=>[I(t.$slots,"prefix")])}:void 0,t.$slots.append?{name:"append",fn:br(()=>[I(t.$slots,"append")])}:void 0]),1032,["modelValue","aria-controls","disabled","readonly","tabindex","plaintext","placeholder","clearable","color","size","name","onClick","onFocus","onBlur","onClear","onKeydown"]),hr(Ot,{name:"zoom-in-top-transition",onAfterLeave:t.destroyPopper},{default:br(()=>[Nr(J("div",{class:er(["select",t.popupClasses]),id:`${t.name}-options`,role:"listbox",ref:"popup","aria-hidden":t.visible?"false":"true"},[t.arrow?(_(),S("span",h7)):ar("",!0),t.$slots.header?(_(),S("div",f7,[I(t.$slots,"header")])):ar("",!0),J("div",{class:"select-body",ref:"body",onScroll:r[2]||(r[2]=(...d)=>t.onScroll&&t.onScroll(...d))},[!t.$slots.default&&t.options.length===0?(_(),S("div",v7,[I(t.$slots,"no-results",{},()=>[b7])])):ar("",!0),J("div",x7,[I(t.$slots,"default"),(_(!0),S(Ar,null,ei(t.options,d=>(_(),jr(s,{key:d[t.idField],active:t.value&&t.value[t.idField]===d[t.idField],disabled:d.disabled,value:d,onKeydown:t.onItemKeyDown},{default:br(()=>[I(t.$slots,"option",{option:d},()=>[t.autocomplete&&t.inputValue!==t.computeLabel(d)?(_(),jr(l,{key:0,text:t.computeLabel(d),query:t.inputValue},null,8,["text","query"])):(_(),S(Ar,{key:1},[jt(So(t.computeLabel(d)),1)],64))])]),_:2},1032,["active","disabled","value","onKeydown"]))),128))],512)],544),t.$slots.footer?(_(),S("div",y7,[I(t.$slots,"footer")])):ar("",!0)],10,m7),[[Gr,t.visible]])]),_:3},8,["onAfterLeave"])],42,u7)),[[c,t.onClickOutside]])}var k7=X(g7,[["render",w7]]);const jl="ISidebar";var _7=L({name:jl,mixins:[ah],provide(){return{sidebar:this}},props:{ariaLabel:{type:String,default:"Sidebar"},collapseOnItemClick:{type:Boolean,default:!0},collapseOnClickOutside:{type:Boolean,default:!0},collapsePosition:{type:String,default:"absolute"},color:{type:String,default:W(jl,"color")},placement:{type:String,default:"left"},size:{type:String,default:W(jl,"size"),validator:zr}},emits:["update:modelValue"],computed:{classes(){return lr(y(y({},this.collapsibleClasses),Sr(this)),{[`-${this.size}`]:Boolean(this.size),[`-collapse-${this.collapsePosition}`]:!0,[`-placement-${this.placement}`]:!0})},sidebarWrapperTransition(){return this.collapsePosition!=="relative"?"sidebar-wrapper-none-transition":"sidebar-wrapper-transition"},sidebarTransition(){return this.collapsePosition!=="relative"?"sidebar-transition":"sidebar-none-transition"}},methods:{onItemClick(){this.collapseOnItemClick&&this.open&&this.setOpen(!1)},onOverlayClick(){this.collapseOnClickOutside&&this.open&&this.setOpen(!1)}}});const z7=["aria-label"],S7={class:"sidebar"},$7={class:"sidebar-content"};function C7(t,r,o,e,a,i){return _(),jr(Ot,{name:t.sidebarWrapperTransition},{default:br(()=>[Nr(J("aside",{role:"complementary",class:er(["sidebar-wrapper",t.classes]),"aria-label":t.ariaLabel,ref:"wrapper"},[hr(Ot,{name:t.sidebarTransition},{default:br(()=>[Nr(J("div",S7,[J("div",$7,[I(t.$slots,"default")])],512),[[Gr,t.collapsePosition==="relative"||t.open||!t.collapsible]])]),_:3},8,["name"]),hr(Ot,{name:"sidebar-overlay-transition"},{default:br(()=>[t.collapsePosition!=="relative"?Nr((_(),S("div",{key:0,class:"sidebar-overlay",onClick:r[0]||(r[0]=(...n)=>t.onOverlayClick&&t.onOverlayClick(...n))},null,512)),[[Gr,t.open]]):ar("",!0)]),_:1})],10,z7),[[Gr,t.open||!t.collapsible]])]),_:3},8,["name"])}var O7=X(_7,[["render",C7]]);const rg="ITable";var M7=L({name:rg,props:{border:{type:Boolean,default:!1},condensed:{type:Boolean,default:!1},striped:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},responsive:{type:[Boolean,String],default:!0},nowrap:{type:Boolean,default:!1},color:{type:String,default:W(rg,"color")}},computed:{classes(){return lr(y({},Sr(this)),{"-border":this.border,"-condensed":this.condensed,"-striped":this.striped,"-hover":this.hover,"-nowrap":this.nowrap,[`-responsive${typeof this.responsive=="boolean"?"":`-${this.responsive}`}`]:Boolean(this.responsive)})}}});const T7={class:"table"};function E7(t,r,o,e,a,i){return _(),S("div",{class:er(["table-wrapper",t.classes])},[J("table",T7,[I(t.$slots,"default")])],2)}var I7=X(M7,[["render",E7]]);const Vl="ITabs";var A7=L({name:Vl,provide(){return{tabs:this}},props:{color:{type:String,default:W(Vl,"color")},modelValue:{type:String,default:""},size:{type:String,default:W(Vl,"size"),validator:zr},stretch:{type:Boolean,default:!1}},emits:["update:modelValue"],data(){return{active:this.modelValue,tabs:[]}},computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-stretch":this.stretch})}},watch:{modelValue(t){this.active=t}},methods:{setActive(t){this.active=t,this.$emit("update:modelValue",this.active)}}});const N7={class:"tabs-header"};function D7(t,r,o,e,a,i){return _(),S("div",{class:er(["tabs",t.classes]),role:"tablist","aria-multiselectable":"true"},[J("div",N7,[I(t.$slots,"header")]),I(t.$slots,"default")],2)}var B7=X(A7,[["render",D7]]);const P7="ITab";var R7=L({name:P7,inject:{tabs:{default:()=>({})}},props:{title:{type:String,default:""},name:{type:String,default(){return nt("tab")}}},computed:{active(){return this.tabs.active===this.name},classes(){return{"-active":this.active}}}});const L7=["name","aria-hidden","aria-labelledby"],F7={class:"tab-body"};function j7(t,r,o,e,a,i){return Nr((_(),S("div",{class:er(["tab",t.classes]),role:"tabpanel",name:t.name,"aria-hidden":!t.active,"aria-labelledby":`tab-heading-${t.name}`},[J("div",F7,[I(t.$slots,"default")])],10,L7)),[[Gr,t.active]])}var V7=X(R7,[["render",j7]]);const H7="ITabTitle";var W7=L({name:H7,inject:{tabs:{default:()=>({})}},props:{for:{type:String,default(){return nt("tab")}}},computed:{active(){return this.tabs.active===this.for},classes(){return{"-active":this.active}},name(){return this.for}},methods:{onClick(){this.tabs.setActive(this.for)}}});const K7=["for","active","aria-expanded","aria-controls","aria-describedby"];function q7(t,r,o,e,a,i){return _(),S("div",{class:er(["tab-title",t.classes]),role:"tab",for:t.name,active:t.active,"aria-expanded":t.active,"aria-controls":`tab-content-${t.name}`,"aria-describedby":`tab-content-${t.name}`,tabindex:"0",onClick:r[0]||(r[0]=(...n)=>t.onClick&&t.onClick(...n))},[I(t.$slots,"default")],10,K7)}var U7=X(W7,[["render",q7]]);const Hl="IToggle";var J7=L({name:Hl,mixins:[xo],props:{color:{type:String,default:W(Hl,"color")},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},value:{default:!1},modelValue:{default:!1},name:{type:[String,Number],default(){return nt("toggle")}},readonly:{type:Boolean,default:!1},size:{type:String,default:W(Hl,"size"),validator:zr},tabindex:{type:[Number,String],default:0}},emits:["update:modelValue"],computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size),"-disabled":this.isDisabled,"-readonly":this.isReadonly})},checked(){return this.schema?this.schema.value:this.modelValue},tabIndex(){return this.isDisabled?-1:this.tabindex}},methods:{clickInputRef(){this.isReadonly||this.$refs.input.click()},onChange(t){var r,o;(o=(r=this.parent).onInput)==null||o.call(r,this.name,t.target.checked),this.$emit("update:modelValue",t.target.checked)},onBlur(t){var r,o;(o=(r=this.parent).onBlur)==null||o.call(r,this.name,t)}}});const G7=["checked","disabled","readonly","aria-checked","aria-disabled","aria-readonly","name"],Z7=["aria-checked","aria-disabled","aria-readonly","tabindex"];function Y7(t,r,o,e,a,i){return _(),S("div",{class:er(["toggle",t.classes])},[J("input",{ref:"input",type:"checkbox",checked:t.checked,disabled:t.isDisabled,readonly:t.isReadonly,"aria-checked":t.checked,"aria-disabled":t.isDisabled,"aria-readonly":t.isReadonly,name:t.name,onChange:r[0]||(r[0]=(...n)=>t.onChange&&t.onChange(...n))},null,40,G7),J("label",{class:"toggle-label","aria-checked":t.checked,"aria-disabled":t.isDisabled,"aria-readonly":t.isReadonly,tabindex:t.tabIndex,onClick:r[1]||(r[1]=(...n)=>t.clickInputRef&&t.clickInputRef(...n)),onBlur:r[2]||(r[2]=(...n)=>t.onBlur&&t.onBlur(...n)),onKeydown:r[3]||(r[3]=Me(oc((...n)=>t.clickInputRef&&t.clickInputRef(...n),["stop","prevent"]),["space"]))},[I(t.$slots,"default")],40,Z7)],2)}var X7=X(J7,[["render",Y7]]);const Wl="ITooltip";var Q7=L({name:Wl,directives:{ClickOutside:fa},mixins:[Tn,Ac],props:{color:{type:String,default:W(Wl,"color")},disabled:{type:Boolean,default:!1},modelValue:{type:Boolean,default:!1},name:{type:String,default(){return nt("tooltip")}},arrow:{type:Boolean,default:!0},placement:{type:String,default:"top"},trigger:{type:[String,Array],default:()=>["hover","focus"]},offset:{type:Number,default:6},popperOptions:{type:Object,default:()=>({})},size:{type:String,default:W(Wl,"size"),validator:zr}},emits:["update:modelValue"],computed:{classes(){return lr(y({},Sr(this)),{[`-${this.size}`]:Boolean(this.size)})}},methods:{onEscape(){this.visible=!1,this.$emit("update:modelValue",!1)},handleClickOutside(){this.visible=!1,this.$emit("update:modelValue",!1),this.onClickOutside()}}});const r8=["id"],t8=["aria-describedby","aria-disabled","aria-expanded"],o8=["id","aria-hidden"],e8={key:0,"data-popper-arrow":""};function a8(t,r,o,e,a,i){const n=ga("click-outside");return Nr((_(),S("div",{class:er(["tooltip-wrapper",t.classes]),ref:"wrapper",id:t.name,onKeyup:r[0]||(r[0]=Me((...l)=>t.onEscape&&t.onEscape(...l),["esc"]))},[J("div",{class:"tooltip-trigger",ref:"trigger","aria-describedby":`${t.name}-popup`,"aria-disabled":t.disabled?"true":"false","aria-expanded":t.visible?"true":"false"},[I(t.$slots,"default")],8,t8),hr(Ot,{name:"zoom-in-top-transition",onAfterLeave:t.destroyPopper},{default:br(()=>[Nr(J("div",{class:"tooltip",ref:"popup",role:"tooltip","aria-live":"polite",id:`${t.name}-popup`,"aria-hidden":t.visible?"false":"true"},[t.arrow?(_(),S("span",e8)):ar("",!0),I(t.$slots,"body")],8,o8),[[Gr,t.visible]])]),_:3},8,["onAfterLeave"])],42,r8)),[[n,t.onClickOutside]])}var i8=X(Q7,[["render",a8]]),n8=Object.freeze(Object.defineProperty({__proto__:null,IAlert:I3,IBadge:D3,IBreadcrumb:L3,IButton:lh,IButtonGroup:t6,IColumn:Nc,IContainer:Dc,ICard:u6,ICheckbox:x6,ICollapsible:$6,IDropdown:U6,IForm:n2,IHamburgerMenu:ch,IHeader:M2,IIcon:dh,IInput:En,INumberInput:X2,ITextarea:l4,ILayout:p4,ILayoutAside:v4,ILayoutContent:k4,ILayoutFooter:C4,ILayoutHeader:I4,IListGroup:D4,ILoader:nh,IMark:ph,IMedia:Z4,IModal:nz,INav:cz,INavbar:fz,IPagination:Dz,IPopover:Kz,IProgress:Jz,IRadio:e7,IRow:Bc,ISelect:k7,ISidebar:O7,ITable:I7,ITabs:B7,IToggle:X7,ITooltip:i8,IBreadcrumbItem:W3,ICheckboxGroup:_6,ICollapsibleItem:P6,IDropdownDivider:X6,IDropdownItem:o2,IFormGroup:d2,IFormError:h2,IFormLabel:x2,IListGroupItem:L4,INavItem:uz,INavbarBrand:yz,INavbarCollapsible:Sz,IProgressBar:Xz,IRadioGroup:l7,ISelectOption:gh,ITab:V7,ITabTitle:U7},Symbol.toStringTag,{value:"Module"}));Gv(k5).use(y3,{components:n8,colorMode:"system",locale:"en"}).mount("#app");
